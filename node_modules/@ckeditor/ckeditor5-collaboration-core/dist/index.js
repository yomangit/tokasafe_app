/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{ContextPlugin as _0x4cf3fc,Editor as _0x990db7,icons as _0x392c0f}from'@ckeditor/ckeditor5-core/dist/index.js';import{CKEditorError as _0x18b099,Collection as _0x52dc07,uid as _0x48ec49,first as _0x306771,FocusTracker as _0x59edf3,KeystrokeHandler as _0x14e5f6}from'@ckeditor/ckeditor5-utils/dist/index.js';import{View as _0x246022,IconView as _0x2c5672,ButtonView as _0x3220e5,DropdownButtonView as _0x21a73a,FocusCycler as _0x4b0962,isViewWithFocusCycler as _0x13256a}from'@ckeditor/ckeditor5-ui/dist/index.js';import _0x57e406 from'date-fns/format/index.js';import _0x4cf89c from'date-fns/parseISO/index.js';import _0x44a75b from'date-fns/differenceInCalendarDays/index.js';class n extends _0x4cf3fc{static get['pluginName'](){return'Permissions';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}['setPermissions'](_0x2b2488,_0x1c925f){let _0x196fa0;if(_0x1c925f||(_0x1c925f=this['context']['config']['get']('collaboration.channelId')),this['context']['config']['get']('collaboration.channelId')==_0x1c925f?_0x196fa0=this['context']:'editors'in this['context']&&this['context']['editors']&&(_0x196fa0=this['context']['editors']['find'](_0x4bbc53=>_0x4bbc53['config']['get']('collaboration.channelId')==_0x1c925f)),!_0x196fa0)throw new _0x18b099('permissions-set-permissions-invalid-channel-id',null);const _0x5c27aa=_0x196fa0['plugins'],_0x3fd1e8=_0x5c27aa['has']('CommentsRepository')?_0x5c27aa['get']('CommentsRepository'):void 0x0,_0x5bb1b8=_0x5c27aa['has']('CommentsOnly')&&_0x5c27aa['get']('CommentsOnly'),_0x30f5e0=_0x2b2488['includes']('document:write'),_0x2dd8de=_0x2b2488['includes']('comment:modify_all'),_0x5f46a5=_0x2b2488['includes']('comment:admin'),_0x1ea65e=_0x2b2488['includes']('comment:write'),_0x4cba19=_0x1ea65e||_0x5f46a5,_0x1be03f=_0x4cba19||_0x2dd8de,_0x39aef5=_0x30f5e0||_0x4cba19;(_0x5bb1b8&&(_0x5bb1b8['isEnabled']=!_0x30f5e0&&_0x1be03f),_0x196fa0 instanceof _0x990db7)&&(!(_0x30f5e0||_0x1be03f&&_0x3fd1e8)?_0x196fa0['enableReadOnlyMode']('no-permissions'):_0x196fa0['disableReadOnlyMode']('no-permissions'));if(_0x3fd1e8){_0x3fd1e8['setPermissions']({'admin':_0x5f46a5,'modifyAll':_0x2dd8de,'write':_0x1ea65e,'resolve':_0x39aef5},_0x1c925f);const _0x1688a6=_0x196fa0 instanceof _0x990db7&&_0x196fa0['commands']['get']('addCommentThread');_0x1688a6&&(_0x4cba19?_0x1688a6['clearForceDisabled']('noPermissions'):_0x1688a6['forceDisabled']('noPermissions'));}}}function o(_0x1f677d,_0x1317ca){const t=_0x1f677d['t'];switch(_0x1317ca){case'Anonymous':return t('Anonymous');case'Yes':return t('Yes');case'No':return t('No');case'Are\x20you\x20sure?':return t('Are\x20you\x20sure?');default:return'';}}class u extends _0x4cf3fc{['users'];['_lastColor'];['_myId'];['_locale'];static get['pluginName'](){return'Users';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}static get['requires'](){return[n];}constructor(_0x13a6c3){super(_0x13a6c3),this['context']['config']['define']('users.anonymousUserId','anonymous-user'),this['context']['config']['define']('users.colorsCount',0x8),this['users']=new _0x52dc07(),this['_locale']=_0x13a6c3['locale'],this['_lastColor']=0x0,this['_myId']=null,this['decorate']('getOperationAuthor');}['init'](){this['_addAnonymousUser']();}get['me'](){return null==this['_myId']?null:this['getUser'](this['_myId']);}['addUser']({id:_0x5ba327,name:_0xd3b11,..._0x386119}){if(!_0x5ba327||'string'!=typeof _0x5ba327)throw new _0x18b099('users-add-invalid-id');if(this['users']['has'](_0x5ba327))throw new _0x18b099('users-add-duplicated-id',null,{'id':_0x5ba327});const _0x5da91e={..._0x386119,'id':_0x5ba327,'name':h(this['_locale'],_0xd3b11),'color':this['_getNextColor']()};_0x5da91e['name']=h(this['_locale'],_0x5da91e['name']);const _0xd5f777=new P(_0x5da91e);return this['users']['add'](_0xd5f777),_0xd5f777;}['getUser'](_0x56e1d8){return this['users']['get'](_0x56e1d8);}['useAnonymousUser'](){const _0x308dc3=this['context']['config']['get']('users.anonymousUserId');this['_myId']||this['defineMe'](_0x308dc3);}['defineMe'](_0x266a84){if(this['_myId'])throw new _0x18b099('users-me-already-defined',null);const _0x27ca6e=this['getUser'](_0x266a84);if(!_0x27ca6e)throw new _0x18b099('users-me-missing-user',null);this['_myId']=_0x266a84,_0x27ca6e['_isMe']=!0x0;}['getOperationAuthor'](){return this['me'];}['_getNextColor'](){const _0x15d198=this['context']['config']['get']('users.colorsCount');return this['_lastColor']>=_0x15d198&&(this['_lastColor']=0x0),new c(this['_lastColor']++);}['_addAnonymousUser'](){const _0x2fb432=this['context']['config']['get']('users.anonymousUserId');this['addUser']({'id':_0x2fb432,'name':o(this['_locale'],'Anonymous')})['_isAnonymous']=!0x0;}}class P{['id'];['color'];['name'];['avatar'];['_isMe'];['_isAnonymous'];constructor(_0x4f7a1a){this['id']=_0x4f7a1a['id'],this['color']=_0x4f7a1a['color'],this['name']=_0x4f7a1a['name'],this['avatar']=_0x4f7a1a['avatar'],this['_isAnonymous']=!0x1,this['_isMe']=!0x1;}get['isAnonymous'](){return this['_isAnonymous'];}get['isMe'](){return this['_isMe'];}get['initials'](){const _0x718385=this['name']['split']('\x20');return 0x1===_0x718385['length']?this['_getInitial'](_0x718385[0x0]):this['_getInitial'](_0x718385[0x0])+this['_getInitial'](_0x718385[_0x718385['length']-0x1]);}['_getInitial'](_0x25ddce){return _0x25ddce['charAt'](0x0)['toUpperCase']();}}function h(_0x59f63d,_0x12d397=''){return''==(_0x12d397=_0x12d397['trim']())?o(_0x59f63d,'Anonymous'):_0x12d397;}class c{['_id'];constructor(_0x4c5d45){this['_id']=_0x4c5d45;}['getBackgroundColorClass'](){return'ck-user__bg-color--'+this['_id'];}['getSelectionClass'](){return'ck-user__selection--'+this['_id'];}['getMarkerClass'](){return'ck-user__marker--'+this['_id'];}}class J extends _0x246022{['name'];['notificationView'];constructor(_0x5c13b4,_0x2c4c6a,_0x3f7da8){super(_0x5c13b4),this['name']=_0x2c4c6a['name'],this['notificationView']=null;const _0x1ae4c0=['ck','ck-user'],_0x332cf4=['ck','ck-user__img'];if(_0x2c4c6a['isAnonymous']&&_0x332cf4['push']('ck-user__anonymous'),!_0x2c4c6a['isAnonymous']&&_0x2c4c6a['isMe']&&_0x1ae4c0['push']('ck-user_me'),_0x2c4c6a['avatar']&&_0x332cf4['push']('ck-user__avatar'),_0x3f7da8){const _0x38c498=new _0x2c5672();_0x38c498['extendTemplate']({'attributes':{'class':['ck-user__icon']}}),_0x38c498['content']='<!--\x0a\x0a\x20What\x20you\x27re\x20currently\x20looking\x20at\x20is\x20the\x20source\x20code\x20of\x20a\x20legally\x20protected,\x20proprietary\x20software.\x0a\x20CKEditor\x205\x20Collaboration\x20is\x20licensed\x20under\x20a\x20commercial\x20license\x20and\x20protected\x20by\x20copyright\x20law.\x20Where\x20not\x20otherwise\x20indicated,\x0a\x20all\x20CKEditor\x205\x20Collaboration\x20content\x20is\x20authored\x20by\x20CKSource\x20engineers\x20and\x20consists\x20of\x20CKSource-owned\x20intellectual\x20property.\x0a\x0a\x20Copyright\x20(c)\x202003-2024,\x20CKSource\x20Holding\x20sp.\x20z\x20o.o.\x20All\x20rights\x20reserved.\x0a\x0a!-->\x0a\x0a<svg\x20viewBox=\x220\x200\x2020\x2020\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22><path\x20d=\x22M10\x200C4.48\x200\x200\x204.48\x200\x2010s4.48\x2010\x2010\x2010\x2010-4.48\x2010-10S15.52\x200\x2010\x200zm1\x2015H9v-2h2v2zm0-4H9V5h2v6z\x22/></svg>\x0a',this['notificationView']={'tag':'div','attributes':{'class':['ck','ck-user__notification'],'data-cke-tooltip-position':'n','data-cke-tooltip-text':_0x3f7da8},'children':[_0x38c498]};}const _0x31531a=[{'tag':'div','attributes':{'class':_0x332cf4,'style':{'background-image':_0x2c4c6a['avatar']?'url(\x27'+_0x2c4c6a['avatar']+'\x27)':''}}},{'tag':'div','attributes':{'class':_0x2c4c6a['avatar']?'ck\x20ck-user__name\x20ck-user__name--hidden':'ck\x20ck-user__name','aria-label':_0x2c4c6a['name']},'children':[{'text':_0x2c4c6a['initials']}]}];this['notificationView']&&_0x31531a['push'](this['notificationView']),this['setTemplate']({'tag':'div','attributes':{'class':_0x1ae4c0,'data-user-id':_0x2c4c6a['id']},'children':_0x31531a});}}class G extends _0x246022{['id'];constructor(_0xa1803b,_0x2572b2){super(_0xa1803b),this['id']='ck-aria-description-'+_0x48ec49(),this['setTemplate']({'tag':'span','attributes':{'class':['ck','ck-aria-description'],'id':this['id']},'children':[{'text':_0x2572b2}]});}}class U extends _0x3220e5{['render'](){super['render'](),V(this);}}class Y extends _0x21a73a{['render'](){super['render'](),V(this);}}function V(_0x15c25f){_0x15c25f['listenTo'](_0x15c25f['element'],'mousedown',(_0x5d484b,_0x16cee4)=>{_0x16cee4['stopPropagation'](),_0x16cee4['preventDefault']();}),_0x15c25f['listenTo'](_0x15c25f['element'],'mouseup',()=>{_0x15c25f['element']['focus']();});}function E(_0xbfed3={}){if(void 0x0!==_0xbfed3['dateTimeFormat']&&'function'!=typeof _0xbfed3['dateTimeFormat'])throw new _0x18b099('invalid-date-time-format');return _0x2c9e40=>{const _0x51e560='string'==typeof _0x2c9e40?_0x4cf89c(_0x2c9e40):_0x2c9e40,_0x39d372=new Date(),_0x1a80b7=_0x44a75b(_0x39d372,_0x51e560);return _0xbfed3['dateTimeFormat']?_0xbfed3['dateTimeFormat'](_0x51e560):_0x57e406(_0x51e560,0x0===_0x1a80b7?'\x27Today\x27\x20hh:mma':0x1===_0x1a80b7?'\x27Yesterday\x27\x20hh:mma':_0x1a80b7<0x7?'\x27Last\x27\x20EEEE\x20hh:mma':'MM-dd-yyyy\x20hh:mma');};}function g(_0x2e2c87,_0x19a482){const _0x4afb54=_0x2e2c87['mapper']['markerNameToElements'](_0x19a482['name']);if(!_0x4afb54)return null;const _0x4b1605=_0x306771(_0x4afb54['values']());return _0x2e2c87['view']['domConverter']['mapViewToDom'](_0x4b1605)||null;}function R(_0x33c272,_0x26fa86){if(0x0===_0x26fa86['length'])return null;const _0x25ce16=[],_0x4f9161=_0x33c272['view']['domConverter'];for(const _0x3755a0 of _0x26fa86){const _0x5b2ab3=_0x33c272['mapper']['markerNameToElements'](_0x3755a0['name']);if(!_0x5b2ab3)continue;const _0x43daa6=Array['from'](_0x5b2ab3)['map'](_0x488f5b=>_0x4f9161['mapViewToDom'](_0x488f5b))['filter'](_0x5d84b2=>!!_0x5d84b2);_0x25ce16['push'](..._0x43daa6);}if(0x0===_0x25ce16['length'])return null;const _0x1483e8=[];for(const _0x2acde0 of _0x25ce16){const _0x32787e=_0x2acde0['getClientRects']()['item'](0x0);_0x32787e&&_0x1483e8['push']({'x':_0x32787e['x'],'y':_0x32787e['y'],'domElement':_0x2acde0});}return 0x0===_0x1483e8['length']?null:(_0x1483e8['sort']((_0x2f7100,_0x5960d7)=>_0x2f7100['y']-_0x5960d7['y']||_0x2f7100['x']-_0x5960d7['x']),_0x1483e8['map'](_0x3df2ac=>_0x3df2ac['domElement']));}function Z(_0x3c65b6,{limit:_0x4ab309,suffix:_0x3571f3='...'}){const _0x2b1a7a=[];let _0x1704a0=0x0;const _0xae9bbd=_0x3c65b6['replace'](/</g,'\x0a<')['replace'](/>/g,'>\x0a')['replace'](/^\n/g,'')['replace'](/\n$/g,'')['split']('\x0a');for(let _0x10d6ad=0x0;_0x10d6ad<_0xae9bbd['length'];_0x10d6ad++){let _0x49a964=_0xae9bbd[_0x10d6ad];const _0x11664c=$(_0x49a964);if(_0x49a964['startsWith']('<')){if(_0x1704a0>=_0x4ab309){const _0x2cf1b5=_0x49a964['match'](/[a-zA-Z]+/);if(!_0x2cf1b5){_0xae9bbd[_0x10d6ad]='';continue;}const _0x159d40=_0x2cf1b5[0x0];_0x49a964['startsWith']('</')?(_0x2b1a7a['length']&&(_0x49a964=''),_0x2b1a7a['pop']()):(_0x2b1a7a['push'](_0x159d40),_0x49a964='');}}else{if(_0x1704a0>=_0x4ab309)_0x49a964='';else{if(_0x1704a0+_0x11664c['length']>=_0x4ab309){let _0x478838=_0x4ab309-_0x1704a0;if('\x20'===_0x11664c[_0x478838-0x1])_0x478838--;else{const _0x432c8f=_0x11664c['slice'](_0x478838)['indexOf']('\x20');-0x1!==_0x432c8f?_0x478838+=_0x432c8f:_0x478838=_0x49a964['length'];}_0x49a964=_0x11664c['slice'](0x0,_0x478838)['join']('')+_0x3571f3,_0x1704a0=_0x4ab309;}else _0x1704a0+=_0x11664c['length'];}}_0xae9bbd[_0x10d6ad]=_0x49a964;}return _0xae9bbd['join']('\x0a')['replace'](/\n/g,'');}function $(_0x437d9b){const _0x18d06b=[];for(let _0xd5242b=0x0;_0xd5242b<_0x437d9b['length'];_0xd5242b++){const _0x458129=_0x437d9b['substring'](_0xd5242b)['match'](/^&[a-z0-9#]+;/);if(_0x458129){const _0x46deb2=_0x458129[0x0];_0x18d06b['push'](_0x46deb2),_0xd5242b+=_0x46deb2['length']-0x1;}else _0x18d06b['push'](_0x437d9b[_0xd5242b]);}return _0x18d06b;}class m extends _0x246022{['submitView'];['cancelView'];['focusTracker'];['keystrokes'];['focusCycler'];['focusables'];constructor(_0x20f612){super(_0x20f612);const _0x5a4d85=this['bindTemplate'];this['set']('message',o(_0x20f612,'Are\x20you\x20sure?')),this['submitView']=this['_createButtonView'](_0x20f612,o(_0x20f612,'Yes'),_0x392c0f['check'],'submit'),this['cancelView']=this['_createButtonView'](_0x20f612,o(_0x20f612,'No'),_0x392c0f['cancel'],'cancel'),this['focusables']=this['createCollection']([this['submitView'],this['cancelView']]),this['focusTracker']=new _0x59edf3(),this['keystrokes']=new _0x14e5f6(),this['focusCycler']=new _0x4b0962({'focusables':this['focusables'],'focusTracker':this['focusTracker'],'keystrokeHandler':this['keystrokes'],'actions':{'focusPrevious':'shift+tab','focusNext':'tab'}}),this['setTemplate']({'tag':'div','attributes':{'class':['ck','ck-thread__remove-confirm'],'tabindex':-0x1,'role':'alertdialog'},'children':[{'tag':'div','attributes':{'class':'ck-thread__remove-confirm-inner','role':'presentation'},'children':[{'tag':'p','children':[{'text':_0x5a4d85['to']('message')}]},{'tag':'div','attributes':{'class':'ck-thread__remove-confirm-actions'},'children':[this['submitView'],this['cancelView']]}]}]});}['render'](){super['render'](),this['_setupKeyboardNavigation']();}['focus'](){this['cancelView']['element']['focus']({'preventScroll':!0x0});}['_createButtonView'](_0x83cb04,_0x1b976b,_0xa5255a,_0x31098e){const _0x1c78fd=new _0x3220e5(_0x83cb04);return _0x1c78fd['label']=_0x1b976b,_0x1c78fd['icon']=_0xa5255a,_0x1c78fd['extendTemplate']({'attributes':{'class':'ck-thread__remove-confirm-'+_0x31098e}}),_0x1c78fd['on']('execute',()=>this['fire'](_0x31098e)),_0x1c78fd;}['_setupKeyboardNavigation'](){this['focusables']['forEach'](_0x19e840=>{this['keystrokes']['listenTo'](_0x19e840['element']),this['focusTracker']['add'](_0x19e840['element']);}),this['keystrokes']['set']('esc',(_0x4ff16f,_0x512c24)=>{this['fire']('cancel'),_0x512c24();});}}function f(_0x17eec1){return class extends _0x17eec1{['showConfirm'](_0x108c98,_0x4577c3){return this['confirmView']=new m(this['locale']),this['confirmView']['render'](),this['confirmView']['message']=_0x108c98,this['confirmView']['once']('cancel',()=>{this['_removeConfirm']();}),this['confirmView']['once']('submit',()=>{this['_removeConfirm']();}),_0x4577c3['appendChild'](this['confirmView']['element']),this['registerChild'](this['confirmView']),this['confirmView']['focus'](),this['set']('isConfirm',!0x0),new Promise(_0x5375f1=>this['confirmView']['on']('submit',_0x5375f1));}['cancelConfirm'](){this['isConfirm']&&this['confirmView']['fire']('cancel');}['_removeConfirm'](){this['element']&&this['confirmView']&&this['confirmView']['element']&&(this['element']['focus'](),this['confirmView']['element']['remove'](),this['deregisterChild'](this['confirmView']),this['isConfirm']=!0x1,this['fire']('removeConfirm'),this['confirmView']['destroy'](),this['confirmView']=void 0x0);}};}function M(_0x1a927b){let _0x3e92d4=0x0,_0x40e619=0x0;for(const _0x12fb5c of q(_0x1a927b))_0x3e92d4=(_0x3e92d4<<0x5)-_0x3e92d4+_0x12fb5c,_0x3e92d4|=0x0,[_0x3e92d4,_0x40e619]=[_0x40e619,_0x3e92d4];return z(_0x3e92d4)+z(_0x40e619);}function*O(_0xed2d3){null==_0xed2d3||null==_0xed2d3?yield 0x12b9b0a1:0x0===_0xed2d3||!0x1===_0xed2d3?yield 0x0:0x1===_0xed2d3||0x1==_0xed2d3?yield 0x1:Array['isArray'](_0xed2d3)?yield*function*(_0x56a938){for(const _0x328d89 of _0x56a938)yield*O(_0x328d89);}(_0xed2d3):'object'==typeof _0xed2d3?yield*q(_0xed2d3):'string'==typeof _0xed2d3?yield*v(_0xed2d3):'number'==typeof _0xed2d3&&(yield _0xed2d3);}function*q(_0x5ab485){if(yield w('{'),_0x5ab485){const _0x4ff9a1=Object['keys'](_0x5ab485)['sort']();for(const _0x1d344b of _0x4ff9a1){yield*v(_0x1d344b),yield w(':');const _0x247ad1=_0x5ab485[_0x1d344b];yield*O(_0x247ad1);}}yield w('}');}function*v(_0x2f51cc){yield w('\x22');for(const _0x3fb839 of _0x2f51cc)yield w(_0x3fb839);yield w('\x22');}function w(_0x4b9290){return _0x4b9290['charCodeAt'](0x0);}function z(_0x3c18d5){return(_0x3c18d5*=Math['sign'](_0x3c18d5))['toString'](0x24);}const W=['initialData','context','toolbar','rootsAttributes'],D=['WebSocketGateway','RevisionTracker','Autosave','WordCount','DocumentOutline','WProofreader'];function S(_0x359dfa,_0x91737,_0x5537f9,_0x3fe1cc=[]){const _0x48c36c='string'==typeof _0x359dfa?_0x5537f9['get'](_0x359dfa)['constructor']:_0x359dfa['prototype']['constructor'];if(_0x91737['has'](_0x48c36c))return _0x91737['get'](_0x48c36c);_0x91737['set'](_0x48c36c,!0x0);const _0x3373cc=[...D,..._0x3fe1cc]['map'](_0x3f5102=>{if(_0x5537f9['has'](_0x3f5102))return _0x5537f9['get'](_0x3f5102)['constructor'];})['filter'](_0x11e1bd=>_0x11e1bd);if(_0x48c36c&&_0x3373cc['includes'](_0x48c36c))return _0x91737['set'](_0x48c36c,!0x1),!0x1;if(!_0x48c36c['requires'])return _0x91737['set'](_0x48c36c,!0x0),!0x0;const _0xd833cb=_0x48c36c['requires']['every'](_0x34b24a=>S(_0x34b24a,_0x91737,_0x5537f9,_0x3fe1cc));return _0x91737['set'](_0x48c36c,_0xd833cb),_0xd833cb;}function C(_0x1fa039,_0x35c207){const _0xe14671={};for(const _0x343a7e of _0x1fa039['config']['names']())W['includes'](_0x343a7e)||(_0xe14671[_0x343a7e]=_0x1fa039['config']['get'](_0x343a7e));const _0x30d50d=_0xe14671['plugins']||[],_0x329e6d=_0x1fa039['constructor']['builtinPlugins']||[],_0x21d9e5=_0x30d50d['length']?_0x30d50d:_0x329e6d,_0x2fd1cf=_0xe14671['extraPlugins']||[];delete _0xe14671['extraPlugins'];const _0x3b334e=_0xe14671['removePlugins']||[];delete _0xe14671['removePlugins'];const _0x3e57b3=_0x1fa039['_context']['config']['get']('plugins')||[],_0x1af06c=_0x21d9e5['concat'](_0x2fd1cf)['concat'](_0x3e57b3)['map'](_0x2a8192=>'string'==typeof _0x2a8192?_0x329e6d['find'](_0x21bf02=>_0x21bf02['pluginName']==_0x2a8192):_0x2a8192)['filter'](_0x2b1f9b=>!_0x3b334e['includes'](_0x2b1f9b)&&!_0x3b334e['includes'](_0x2b1f9b['pluginName'])),_0x25779a=Array['from'](new Set(_0x1af06c)),_0x123c42=new Map();return _0xe14671['plugins']=_0x25779a['filter'](_0x5a12e3=>S(_0x5a12e3,_0x123c42,_0x1fa039['plugins'],_0x35c207)),_0xe14671;}function B(_0x557f25,_0x45d32f){const _0x23bed1=[];_0x557f25['document']['selection']['on']('change:range',()=>{const _0x4ed700=function(_0x1b5833,_0x14a5b8){const _0x4649cd=[];for(const _0x16bc21 of _0x1b5833['markers']){const _0xbfb09e=_0x16bc21['getRange']();(_0xbfb09e['containsPosition'](_0x14a5b8)||_0xbfb09e['start']['isEqual'](_0x14a5b8)||_0xbfb09e['end']['isEqual'](_0x14a5b8))&&_0x4649cd['push'](_0x16bc21);}return _0x4649cd;}(_0x557f25,_0x557f25['document']['selection']['focus']),_0xc51b6d=[],_0x270605=[],_0x1cc419=[];for(const _0x2afbb1 of _0x23bed1)_0x4ed700['includes'](_0x2afbb1)||_0xc51b6d['push'](_0x2afbb1);for(const _0x39cf39 of _0x4ed700)_0x23bed1['includes'](_0x39cf39)||_0x270605['push'](_0x39cf39),_0x1cc419['push'](_0x39cf39);(_0xc51b6d['length']||_0x270605['length'])&&_0x45d32f({'left':_0xc51b6d,'entered':_0x270605}),_0x23bed1['length']=0x0,_0x23bed1['push'](..._0x1cc419);});}const Q='Ctrl+Shift+E';function T(_0x388d6c,_0x51c1ad){const _0x2e9658=_0x388d6c['element'];_0x388d6c['keystrokes']['listenTo'](_0x2e9658);for(const _0x381317 of _0x51c1ad)K(_0x388d6c,_0x381317);_0x51c1ad['on']('change',(_0x5b698d,_0x4c67e0)=>{for(const _0x74bfe9 of _0x4c67e0['removed'])_(_0x388d6c,_0x74bfe9);for(const _0x311205 of Array['from'](_0x4c67e0['added'])['reverse']())K(_0x388d6c,_0x311205);}),_0x388d6c['keystrokes']['set']('enter',(_0x29e902,_0x5a7083)=>{_0x2e9658===_0x29e902['target']&&(_0x388d6c['focusCycler']['focusFirst'](),_0x5a7083());},{'filter':_0x1e0eb1=>_0x1e0eb1['target']===_0x2e9658}),_0x388d6c['keystrokes']['set']('esc',(_0x593f7c,_0x2ac47f)=>{_0x2e9658!==_0x593f7c['target']?_0x388d6c['focus']():_0x388d6c['fire']('escape'),_0x2ac47f();}),_0x388d6c['keystrokes']['set']('arrowdown',(_0x1c2b78,_0xdb1a45)=>{_0x2e9658===_0x1c2b78['target']&&(_0x388d6c['fire']('arrowdown'),_0xdb1a45());}),_0x388d6c['keystrokes']['set']('arrowup',(_0xa57236,_0xcef84a)=>{_0x2e9658===_0xa57236['target']&&(_0x388d6c['fire']('arrowup'),_0xcef84a());});}function K(_0x4d78e8,_0x334249){_0x334249['isRendered']&&(_0x4d78e8['focusTracker']['add'](_0x334249['element']),_0x4d78e8['keystrokes']['listenTo'](_0x334249['element']),_0x13256a(_0x334249)&&function(_0x5d1527,_0x4247b5){const _0x23a9a3=_0x5d1527['actions'],_0x1541de=_0x4247b5['actions'];for(const _0x1ecd35 of Object['keys'](_0x23a9a3))if(_0x1ecd35 in _0x1541de&&_0x23a9a3[_0x1ecd35]!==_0x1541de[_0x1ecd35])return!0x1;return!0x0;}(_0x4d78e8['focusCycler'],_0x334249['focusCycler'])&&_0x4d78e8['focusCycler']['chain'](_0x334249['focusCycler']));}function _(_0x13771c,_0xee1f5){_0x13771c['focusTracker']['remove'](_0xee1f5['element']),_0x13771c['keystrokes']['stopListening'](_0xee1f5['element']),_0x13256a(_0xee1f5)&&_0x13771c['focusCycler']['unchain'](_0xee1f5['focusCycler']);}export{G as AriaDescriptionView,f as ConfirmMixin,Q as FOCUS_ANNOTATION_KEYSTROKE,U as LateFocusButtonView,Y as LateFocusDropdownButtonView,n as Permissions,J as UserView,u as Users,R as getAllMarkersDomElementsSorted,E as getDateTimeFormatter,g as getMarkerDomElement,M as hashObject,C as sanitizeEditorConfig,T as setupThreadKeyboardNavigation,B as surroundingMarkersDetector,Z as trimHtml};