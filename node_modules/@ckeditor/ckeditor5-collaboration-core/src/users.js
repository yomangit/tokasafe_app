/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x5bb203=_0x2d2f;function _0x7530(){const _0x5b4227=['toUpperCase','has','ck-user__selection--','_isAnonymous','pluginName','requires','getOperationAuthor','isAnonymous','_getNextColor','ck-user__bg-color--','anonymous-user','users.anonymousUserId','name','users','_id','split','users-add-invalid-id','users-add-duplicated-id','isOfficialPlugin','_myId','users-me-missing-user','addUser','_locale','97428zdrqCZ','decorate','992666gwrKtu','isPremiumPlugin','useAnonymousUser','locale','getMarkerClass','initials','get','146504qmmZjt','getUser','ck-user__marker--','3NuOkzC','3900708VREDwR','context','116342cEVEhe','trim','config','users.colorsCount','38169wshgmX','_isMe','_getInitial','add','Anonymous','avatar','defineMe','define','_addAnonymousUser','Users','getBackgroundColorClass','isMe','charAt','3968230kzpkMN','1048BXagEq','length','_lastColor','init','string','users-me-already-defined','getSelectionClass','65SXnLMM','color'];_0x7530=function(){return _0x5b4227;};return _0x7530();}(function(_0x4e36a0,_0x24f655){const _0x7757b1=_0x2d2f,_0x71f2d9=_0x4e36a0();while(!![]){try{const _0x24ed4d=-parseInt(_0x7757b1(0x1c6))/0x1+parseInt(_0x7757b1(0x1b9))/0x2*(parseInt(_0x7757b1(0x1c3))/0x3)+parseInt(_0x7757b1(0x1c0))/0x4*(-parseInt(_0x7757b1(0x19e))/0x5)+-parseInt(_0x7757b1(0x1b7))/0x6+-parseInt(_0x7757b1(0x1c4))/0x7+-parseInt(_0x7757b1(0x1d8))/0x8*(-parseInt(_0x7757b1(0x1ca))/0x9)+parseInt(_0x7757b1(0x1d7))/0xa;if(_0x24ed4d===_0x24f655)break;else _0x71f2d9['push'](_0x71f2d9['shift']());}catch(_0x53378b){_0x71f2d9['push'](_0x71f2d9['shift']());}}}(_0x7530,0x4508d));import{ContextPlugin as _0x47e9eb}from'ckeditor5/src/core.js';import{Collection as _0x23712c,CKEditorError as _0xf0e3de}from'ckeditor5/src/utils.js';import _0x535a48 from'./permissions.js';import{getTranslation as _0x33bf4f}from'./utils/common-translations.js';import'../theme/usercolors.css';export default class u extends _0x47e9eb{static get[_0x5bb203(0x1a4)](){const _0x5e051b=_0x5bb203;return _0x5e051b(0x1d3);}static get[_0x5bb203(0x1b2)](){return!0x0;}static get[_0x5bb203(0x1ba)](){return!0x0;}static get[_0x5bb203(0x1a5)](){return[_0x535a48];}constructor(_0x235cac){const _0x2ac08e=_0x5bb203;super(_0x235cac),this[_0x2ac08e(0x1c5)][_0x2ac08e(0x1c8)][_0x2ac08e(0x1d1)](_0x2ac08e(0x1ab),_0x2ac08e(0x1aa)),this[_0x2ac08e(0x1c5)][_0x2ac08e(0x1c8)][_0x2ac08e(0x1d1)](_0x2ac08e(0x1c9),0x8),this[_0x2ac08e(0x1ad)]=new _0x23712c(),this[_0x2ac08e(0x1b6)]=_0x235cac[_0x2ac08e(0x1bc)],this[_0x2ac08e(0x1da)]=0x0,this[_0x2ac08e(0x1b3)]=null,this[_0x2ac08e(0x1b8)](_0x2ac08e(0x1a6));}[_0x5bb203(0x1db)](){const _0x49e19f=_0x5bb203;this[_0x49e19f(0x1d2)]();}get['me'](){const _0x148080=_0x5bb203;return null==this[_0x148080(0x1b3)]?null:this[_0x148080(0x1c1)](this[_0x148080(0x1b3)]);}[_0x5bb203(0x1b5)]({id:_0x4ae6f1,name:_0x3c5cdd,..._0x5e1b7a}){const _0x401714=_0x5bb203;if(!_0x4ae6f1||_0x401714(0x1dc)!=typeof _0x4ae6f1)throw new _0xf0e3de(_0x401714(0x1b0));if(this[_0x401714(0x1ad)][_0x401714(0x1a1)](_0x4ae6f1))throw new _0xf0e3de(_0x401714(0x1b1),null,{'id':_0x4ae6f1});const _0x1e35ab={..._0x5e1b7a,'id':_0x4ae6f1,'name':h(this[_0x401714(0x1b6)],_0x3c5cdd),'color':this[_0x401714(0x1a8)]()};_0x1e35ab[_0x401714(0x1ac)]=h(this[_0x401714(0x1b6)],_0x1e35ab[_0x401714(0x1ac)]);const _0x52c833=new User(_0x1e35ab);return this[_0x401714(0x1ad)][_0x401714(0x1cd)](_0x52c833),_0x52c833;}[_0x5bb203(0x1c1)](_0x24c083){const _0x5afbef=_0x5bb203;return this[_0x5afbef(0x1ad)][_0x5afbef(0x1bf)](_0x24c083);}[_0x5bb203(0x1bb)](){const _0x4c876e=_0x5bb203,_0x63aef2=this[_0x4c876e(0x1c5)][_0x4c876e(0x1c8)][_0x4c876e(0x1bf)](_0x4c876e(0x1ab));this[_0x4c876e(0x1b3)]||this[_0x4c876e(0x1d0)](_0x63aef2);}[_0x5bb203(0x1d0)](_0xba569b){const _0x54ec55=_0x5bb203;if(this[_0x54ec55(0x1b3)])throw new _0xf0e3de(_0x54ec55(0x1dd),null);const _0x4f93a1=this[_0x54ec55(0x1c1)](_0xba569b);if(!_0x4f93a1)throw new _0xf0e3de(_0x54ec55(0x1b4),null);this[_0x54ec55(0x1b3)]=_0xba569b,_0x4f93a1[_0x54ec55(0x1cb)]=!0x0;}[_0x5bb203(0x1a6)](){return this['me'];}[_0x5bb203(0x1a8)](){const _0x1bda98=_0x5bb203,_0x753236=this[_0x1bda98(0x1c5)][_0x1bda98(0x1c8)][_0x1bda98(0x1bf)](_0x1bda98(0x1c9));return this[_0x1bda98(0x1da)]>=_0x753236&&(this[_0x1bda98(0x1da)]=0x0),new c(this[_0x1bda98(0x1da)]++);}[_0x5bb203(0x1d2)](){const _0x1b2d11=_0x5bb203,_0x51a112=this[_0x1b2d11(0x1c5)][_0x1b2d11(0x1c8)][_0x1b2d11(0x1bf)](_0x1b2d11(0x1ab));this[_0x1b2d11(0x1b5)]({'id':_0x51a112,'name':_0x33bf4f(this[_0x1b2d11(0x1b6)],_0x1b2d11(0x1ce))})[_0x1b2d11(0x1a3)]=!0x0;}}export class User{constructor(_0x175fc7){const _0x487418=_0x5bb203;this['id']=_0x175fc7['id'],this[_0x487418(0x19f)]=_0x175fc7[_0x487418(0x19f)],this[_0x487418(0x1ac)]=_0x175fc7[_0x487418(0x1ac)],this[_0x487418(0x1cf)]=_0x175fc7[_0x487418(0x1cf)],this[_0x487418(0x1a3)]=!0x1,this[_0x487418(0x1cb)]=!0x1;}get[_0x5bb203(0x1a7)](){const _0x5586c7=_0x5bb203;return this[_0x5586c7(0x1a3)];}get[_0x5bb203(0x1d5)](){const _0x1a99f6=_0x5bb203;return this[_0x1a99f6(0x1cb)];}get[_0x5bb203(0x1be)](){const _0x4b401e=_0x5bb203,_0x5cdc17=this[_0x4b401e(0x1ac)][_0x4b401e(0x1af)]('\x20');return 0x1===_0x5cdc17[_0x4b401e(0x1d9)]?this[_0x4b401e(0x1cc)](_0x5cdc17[0x0]):this[_0x4b401e(0x1cc)](_0x5cdc17[0x0])+this[_0x4b401e(0x1cc)](_0x5cdc17[_0x5cdc17[_0x4b401e(0x1d9)]-0x1]);}[_0x5bb203(0x1cc)](_0x2a361d){const _0x30003d=_0x5bb203;return _0x2a361d[_0x30003d(0x1d6)](0x0)[_0x30003d(0x1a0)]();}}function _0x2d2f(_0x39b806,_0xf92dc1){const _0x75303e=_0x7530();return _0x2d2f=function(_0x2d2f82,_0x17f2f0){_0x2d2f82=_0x2d2f82-0x19e;let _0x92e334=_0x75303e[_0x2d2f82];return _0x92e334;},_0x2d2f(_0x39b806,_0xf92dc1);}function h(_0x27a19f,_0x34b0f8=''){const _0x1d6ab5=_0x5bb203;return''==(_0x34b0f8=_0x34b0f8[_0x1d6ab5(0x1c7)]())?_0x33bf4f(_0x27a19f,_0x1d6ab5(0x1ce)):_0x34b0f8;}class c{constructor(_0x8eacbf){const _0x14b379=_0x5bb203;this[_0x14b379(0x1ae)]=_0x8eacbf;}[_0x5bb203(0x1d4)](){const _0x1a890e=_0x5bb203;return _0x1a890e(0x1a9)+this[_0x1a890e(0x1ae)];}[_0x5bb203(0x1de)](){const _0x55d02a=_0x5bb203;return _0x55d02a(0x1a2)+this[_0x55d02a(0x1ae)];}[_0x5bb203(0x1bd)](){const _0x424ea9=_0x5bb203;return _0x424ea9(0x1c2)+this[_0x424ea9(0x1ae)];}}