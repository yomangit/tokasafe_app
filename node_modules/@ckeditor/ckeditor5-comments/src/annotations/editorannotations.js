/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
function _0x2051(){const _0x1c50db=['isCollapsed','isReadOnly','requires','registerAnnotation','16BAujAl','add','fire','change:isFocused','hasDomSelection','refreshSelectedViews','annotation','_dataCollectors','init','151431KWXPEm','directChange','range','set','15769570rkNwsW','3380528iCRdVc','_editorAnnotations','_editorAnnotationsData','cancel','listenTo','blur','delete','282SVOFrU','getByInnerView','pluginName','716711Esifho','document','change:range','getOrderedSelectedAnnotations','map','refresh','2lMavRY','EditorAnnotations','10pkmjms','update','11TGzoDb','element','editor','editing','uiUpdate','push','remove','6211476doZudF','getRanges','sort','has','26177652ZbSvaf','plugins','get','addSourceCollector','focusTracker','from','isOfficialPlugin','isEqual','collection','function','editorannotations-invalid-source-callback','innerView','isPremiumPlugin','view','selection','model','2310627EkSFbQ','containsRange'];_0x2051=function(){return _0x1c50db;};return _0x2051();}function _0x3001(_0x14a223,_0x519177){const _0x2051ce=_0x2051();return _0x3001=function(_0x30019e,_0x51ab6b){_0x30019e=_0x30019e-0x1cc;let _0x4de86f=_0x2051ce[_0x30019e];return _0x4de86f;},_0x3001(_0x14a223,_0x519177);}const _0x19f86e=_0x3001;(function(_0xe1e5ac,_0x30ea20){const _0x1a721f=_0x3001,_0x158fe3=_0xe1e5ac();while(!![]){try{const _0x586056=-parseInt(_0x1a721f(0x20b))/0x1*(parseInt(_0x1a721f(0x1ce))/0x2)+-parseInt(_0x1a721f(0x1ed))/0x3+-parseInt(_0x1a721f(0x201))/0x4*(parseInt(_0x1a721f(0x1d0))/0x5)+parseInt(_0x1a721f(0x208))/0x6*(-parseInt(_0x1a721f(0x1fc))/0x7)+parseInt(_0x1a721f(0x1f3))/0x8*(parseInt(_0x1a721f(0x1d9))/0x9)+-parseInt(_0x1a721f(0x200))/0xa*(-parseInt(_0x1a721f(0x1d2))/0xb)+parseInt(_0x1a721f(0x1dd))/0xc;if(_0x586056===_0x30ea20)break;else _0x158fe3['push'](_0x158fe3['shift']());}catch(_0x2b6560){_0x158fe3['push'](_0x158fe3['shift']());}}}(_0x2051,0xe6ab5));import{Plugin as _0x461574}from'ckeditor5/src/core.js';import{CKEditorError as _0x2c34ea}from'ckeditor5/src/utils.js';import{debounce as _0x4821f5}from'lodash-es';import _0x25c08e from'./annotations.js';export default class P extends _0x461574{static get[_0x19f86e(0x1f1)](){return[_0x25c08e];}static get[_0x19f86e(0x20a)](){const _0x31c64d=_0x19f86e;return _0x31c64d(0x1cf);}static get[_0x19f86e(0x1e3)](){return!0x0;}static get[_0x19f86e(0x1e9)](){return!0x0;}constructor(_0x4aaec4){const _0x2b4620=_0x19f86e;super(_0x4aaec4),this[_0x2b4620(0x1fa)]=new Set(),this[_0x2b4620(0x202)]=new Set();}[_0x19f86e(0x1fb)](){const _0x1b188f=_0x19f86e,_0x3b5c32=this[_0x1b188f(0x1d4)],_0xecf0ef=_0x3b5c32[_0x1b188f(0x1ec)][_0x1b188f(0x20c)][_0x1b188f(0x1eb)],_0x48da61=_0x4821f5(()=>this[_0x1b188f(0x1f8)](),0xa);_0xecf0ef['on'](_0x1b188f(0x20d),(_0x1cacfe,_0x3ea2e7)=>{const _0x1ac5a2=_0x1b188f;_0x3ea2e7[_0x1ac5a2(0x1fd)]&&(_0x48da61[_0x1ac5a2(0x204)](),this[_0x1ac5a2(0x1f8)]());}),this[_0x1b188f(0x205)](_0x3b5c32[_0x1b188f(0x1d5)][_0x1b188f(0x1ea)][_0x1b188f(0x20c)],_0x1b188f(0x1f6),(_0x33cf07,_0x1ace03,_0x8b08f4)=>{_0x8b08f4&&_0x48da61();}),this[_0x1b188f(0x205)](_0x3b5c32['ui'][_0x1b188f(0x1e1)],_0x1b188f(0x1f6),(_0x2cb4fa,_0xfdef07,_0x355648)=>{const _0x1d8b57=_0x1b188f;_0x355648||_0x3b5c32[_0x1d8b57(0x1f0)]||this[_0x1d8b57(0x1f5)](_0x1d8b57(0x206),{'isAnnotationTracked':_0x3543ac=>this[_0x1d8b57(0x203)][_0x1d8b57(0x1dc)](_0x3543ac[_0x1d8b57(0x1e8)])});}),this[_0x1b188f(0x205)](this[_0x1b188f(0x1d4)]['ui'],_0x1b188f(0x1d1),()=>this[_0x1b188f(0x1f5)](_0x1b188f(0x1d6)));}[_0x19f86e(0x1f2)](_0x4214e3){const _0x25a1a1=_0x19f86e;if(this[_0x25a1a1(0x202)][_0x25a1a1(0x1dc)](_0x4214e3[_0x25a1a1(0x1ea)]))return;this[_0x25a1a1(0x202)][_0x25a1a1(0x1f4)](_0x4214e3[_0x25a1a1(0x1ea)]),this[_0x25a1a1(0x1d4)]['ui'][_0x25a1a1(0x1e1)][_0x25a1a1(0x1f4)](_0x4214e3[_0x25a1a1(0x1ea)][_0x25a1a1(0x1d3)]);const _0x3dd16c=this[_0x25a1a1(0x1d4)][_0x25a1a1(0x1de)][_0x25a1a1(0x1df)](_0x25c08e);this[_0x25a1a1(0x205)](_0x3dd16c[_0x25a1a1(0x1e5)],_0x25a1a1(0x1d8),(_0x4dbd0a,_0x42a33d)=>{const _0x6bbc5=_0x25a1a1;this[_0x6bbc5(0x1d4)]['ui'][_0x6bbc5(0x1e1)][_0x6bbc5(0x1d8)](_0x42a33d[_0x6bbc5(0x1ea)][_0x6bbc5(0x1d3)]),this[_0x6bbc5(0x202)][_0x6bbc5(0x207)](_0x42a33d[_0x6bbc5(0x1ea)]);});}[_0x19f86e(0x1f7)](){const _0x32023f=_0x19f86e;return this[_0x32023f(0x1d4)][_0x32023f(0x1d5)][_0x32023f(0x1ea)][_0x32023f(0x1f7)];}[_0x19f86e(0x1e0)](_0x5d7b4f){const _0x10f098=_0x19f86e;if(_0x10f098(0x1e6)!=typeof _0x5d7b4f)throw new _0x2c34ea(_0x10f098(0x1e7));this[_0x10f098(0x1fa)][_0x10f098(0x1f4)](_0x5d7b4f);}[_0x19f86e(0x1f8)](){const _0x3647b3=_0x19f86e;this[_0x3647b3(0x1f5)](_0x3647b3(0x1cd));}[_0x19f86e(0x20e)]({activeAnnotation:_0x3d8040,annotations:_0x3822d5}){const _0x39a9e8=_0x19f86e,_0xb89841=[],_0x17c82b=this[_0x39a9e8(0x1d4)][_0x39a9e8(0x1ec)][_0x39a9e8(0x20c)][_0x39a9e8(0x1eb)],_0x244f24=Array[_0x39a9e8(0x1e2)](_0x17c82b[_0x39a9e8(0x1da)]());for(const [_0x4c42ff,_0x1686c4]of this[_0x39a9e8(0x203)]){const _0xc68618=_0x58f518(_0x1686c4),_0x3099e7=_0x3822d5[_0x39a9e8(0x209)](_0x4c42ff);_0xc68618&&_0x3099e7&&_0xb89841[_0x39a9e8(0x1d7)]({'annotation':_0x3099e7,'range':_0xc68618});}function _0x58f518(_0x10c5b6){const _0x8c44ef=_0x39a9e8;for(const _0xb21627 of _0x10c5b6)for(const _0x5460c8 of _0x244f24)if(_0xb21627[_0x8c44ef(0x1ee)](_0x5460c8,!_0x17c82b[_0x8c44ef(0x1ef)]))return _0xb21627;return null;}return _0xb89841[_0x39a9e8(0x1db)]((_0x599423,_0x29eb74)=>{const _0x472f03=_0x39a9e8,_0x1292f3=_0x599423[_0x472f03(0x1fe)],_0x19e7dd=_0x29eb74[_0x472f03(0x1fe)];if(!_0x1292f3[_0x472f03(0x1e4)](_0x19e7dd)){if(_0x1292f3[_0x472f03(0x1ee)](_0x19e7dd,!0x0))return 0x1;if(_0x19e7dd[_0x472f03(0x1ee)](_0x1292f3,!0x0))return-0x1;}return _0x599423[_0x472f03(0x1f9)]==_0x3d8040?-0x1:_0x29eb74[_0x472f03(0x1f9)]==_0x3d8040?0x1:0x0;})[_0x39a9e8(0x1cc)](_0x15c799=>_0x15c799[_0x39a9e8(0x1f9)]);}get[_0x19f86e(0x203)](){const _0x515bd2=_0x19f86e,_0x567240=new Map();for(const _0x2eb597 of Array[_0x515bd2(0x1e2)](this[_0x515bd2(0x1fa)]))for(const [_0x3deec3,_0x22ea04]of _0x2eb597())_0x567240[_0x515bd2(0x1ff)](_0x3deec3,_0x22ea04);return _0x567240;}}