/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x4b5b3f=_0x518a;(function(_0x4f0a80,_0x50316f){const _0x520a95=_0x518a,_0x1ee0f1=_0x4f0a80();while(!![]){try{const _0x4ef113=-parseInt(_0x520a95(0x13c))/0x1+parseInt(_0x520a95(0x10f))/0x2*(parseInt(_0x520a95(0xf8))/0x3)+-parseInt(_0x520a95(0x151))/0x4*(parseInt(_0x520a95(0xe0))/0x5)+-parseInt(_0x520a95(0x103))/0x6*(parseInt(_0x520a95(0x12d))/0x7)+-parseInt(_0x520a95(0xec))/0x8+-parseInt(_0x520a95(0x146))/0x9*(-parseInt(_0x520a95(0x141))/0xa)+parseInt(_0x520a95(0x117))/0xb*(parseInt(_0x520a95(0xe5))/0xc);if(_0x4ef113===_0x50316f)break;else _0x1ee0f1['push'](_0x1ee0f1['shift']());}catch(_0x2f2d9c){_0x1ee0f1['push'](_0x1ee0f1['shift']());}}}(_0x42e6,0xdbd29));function _0x42e6(){const _0x9fbb8f=['hasDomSelection','set:container','14251932ZBVBYP','isAttached','attachToDom','create','southArrowNorthEast','target','element','editors','bodyCollection','preventDefault','keyCode','8hcLmCA','off','annotations','northArrowSouth','_integrateWithEditorAnnotations','focus','getByView','getOrderedSelectedAnnotations','ck-sidebar--narrow','narrowsidebar-detach-not-attached','stopListening','isDirty','length','1510840cMgIVU','ready','_domEmitter','delete','execute','12XEnQwh','low','get','balloonPanelView','cancel','register','isOfficialPlugin','9432184mWhjMJ','focusableElements','detach','_hideBalloon','detachFromDom','Esc','init','uiUpdate','context','rearrange','stop','defaultPositions','308259BXJAvj','esc','listenTo','bind','contains','attach','_editorAnnotations','isVisible','preventClosingBalloon','content','_refreshPositioningDebounced','18dFJIzv','_destroyEditorAnnotationsIntegration','mousedown','annotationType','unpin','view','_attachToContainer','_annotationToNarrowView','high','has','type','clear','10HpQCnF','number','_annotations','resize','plugins','getSidebarItemView','remove','narrowSidebar','16443757XfwYBJ','change:container','northArrowSouthEast','_setSelectedAnnotations','pluginName','find','set','_showBalloon','_updateBalloonPosition','EditorAnnotations','includes','requires','values','pin','southArrowNorth','NarrowSidebar','isPremiumPlugin','first','blur','change:height','northArrowSouthWest','southArrowNorthWest','1705389GEfGjC','_attachListeners','_refreshPositioning','_manuallyClosedAnnotationViews','add','destroy','keydown','activeAnnotation','stopPropagation','removeEventListener','from','narrowsidebar-attach-already-attached','_detachListeners','_selectedAnnotations','_detachFromContainer','177567qUMLQv','refreshPositioning','addEventListener','addAnnotation','locale','10sBZaWl','refresh','setActiveAnnotation'];_0x42e6=function(){return _0x9fbb8f;};return _0x42e6();}function _0x518a(_0x359f17,_0x4777cf){const _0x42e671=_0x42e6();return _0x518a=function(_0x518a74,_0x40e475){_0x518a74=_0x518a74-0xd8;let _0x748d53=_0x42e671[_0x518a74];return _0x748d53;},_0x518a(_0x359f17,_0x4777cf);}import{ContextPlugin as _0x459294,Context as _0x47a3db}from'ckeditor5/src/core.js';import _0x471048 from'./annotationsuis.js';import _0x5f2a0b from'./sidebar.js';import _0xf5874f from'./view/annotationcounterbuttonview.js';import{BalloonPanelView as _0x51e3af,BodyCollection as _0x13aeff}from'ckeditor5/src/ui.js';import{CKEditorError as _0x1792c1,DomEmitterMixin as _0x26d223,keyCodes as _0x3c6ecb,Collection as _0x1f238c}from'ckeditor5/src/utils.js';import'../../theme/sidebar-narrow.css';import{debounce as _0x59a48d}from'lodash-es';export default class n extends _0x459294{static get[_0x4b5b3f(0x122)](){return[_0x5f2a0b,_0x471048];}static get[_0x4b5b3f(0x11b)](){const _0x39b960=_0x4b5b3f;return _0x39b960(0x126);}static get[_0x4b5b3f(0xeb)](){return!0x0;}static get[_0x4b5b3f(0x127)](){return!0x0;}constructor(_0x421c92){const _0x5b2cb0=_0x4b5b3f;super(_0x421c92),this[_0x5b2cb0(0x147)]=!0x1,this[_0x5b2cb0(0x130)]=new Set(),this[_0x5b2cb0(0xe2)]=Object[_0x5b2cb0(0x149)](_0x26d223),this[_0x5b2cb0(0x10a)]=new Map(),this[_0x5b2cb0(0x11d)](_0x5b2cb0(0x134),null),this[_0x5b2cb0(0x153)]=null,this[_0x5b2cb0(0x13a)]=[],this[_0x5b2cb0(0xfe)]=new _0x1f238c(),this[_0x5b2cb0(0x102)]=_0x59a48d(()=>{const _0x23126e=_0x5b2cb0;this[_0x23126e(0x12f)]();},0xfa,{'leading':!0x1});}[_0x4b5b3f(0xf2)](){const _0x1f496d=_0x4b5b3f;this[_0x1f496d(0xf4)][_0x1f496d(0x113)][_0x1f496d(0xe7)](_0x471048)[_0x1f496d(0xea)](_0x1f496d(0x116),this),this[_0x1f496d(0x14e)]=new _0x13aeff(this[_0x1f496d(0xf4)][_0x1f496d(0x140)]),this[_0x1f496d(0xe8)]=new _0x51e3af(this[_0x1f496d(0xf4)][_0x1f496d(0x140)]),this[_0x1f496d(0x14e)][_0x1f496d(0x148)](),this[_0x1f496d(0x14e)][_0x1f496d(0x131)](this[_0x1f496d(0xe8)]);}[_0x4b5b3f(0xfd)](_0x24e6ba){const _0x21bde2=_0x4b5b3f;this[_0x21bde2(0x153)]=_0x24e6ba;const _0x182e0d=this[_0x21bde2(0xf4)][_0x21bde2(0x113)][_0x21bde2(0xe7)](_0x5f2a0b),_0x240bfe=this[_0x21bde2(0xe8)];if(_0x182e0d[_0x21bde2(0x111)]=_0x24e6ba,this[_0x21bde2(0x147)])throw new _0x1792c1(_0x21bde2(0x138),this);this[_0x21bde2(0x147)]=!0x0,this[_0x21bde2(0xfa)](_0x182e0d,_0x21bde2(0x145),()=>{const _0x369520=_0x21bde2;this[_0x369520(0xee)](),this[_0x369520(0xfa)](_0x182e0d,_0x369520(0x118),_0x151b48=>{const _0x29273b=_0x369520;_0x151b48[_0x29273b(0x152)](),this[_0x29273b(0xfd)](_0x24e6ba);});}),_0x182e0d[_0x21bde2(0x109)]({'viewClass':_0x21bde2(0xdb),'spaceBetweenItems':0x5});const _0x4abe2c=_0x29f1d1=>{const _0x5b620e=_0x21bde2,_0x453b4e=new _0xf5874f(this[_0x5b620e(0xf4)][_0x5b620e(0x140)]);_0x182e0d[_0x5b620e(0x13f)](_0x29f1d1,_0x453b4e),this[_0x5b620e(0x10a)][_0x5b620e(0x11d)](_0x29f1d1,_0x453b4e),_0x453b4e[_0x5b620e(0xfb)](_0x5b620e(0xde),_0x5b620e(0x106),_0x5b620e(0x110))['to'](_0x29f1d1[_0x5b620e(0x108)],_0x5b620e(0xde),_0x5b620e(0x10d),_0x5b620e(0xdf)),_0x453b4e['on'](_0x5b620e(0xe4),()=>{const _0x141220=_0x5b620e;this[_0x141220(0x130)][_0x141220(0x10e)](),_0x240bfe[_0x141220(0x101)][_0x141220(0x128)]!==_0x29f1d1[_0x141220(0x108)]?(this[_0x141220(0x11e)](_0x29f1d1),_0x29f1d1[_0x141220(0x108)][_0x141220(0x14c)][_0x141220(0xd8)](),this[_0x141220(0x143)](_0x29f1d1)):this[_0x141220(0x143)](null);});};for(const _0x32fdf9 of _0x24e6ba)_0x4abe2c(_0x32fdf9);this[_0x21bde2(0xfa)](_0x24e6ba,_0x21bde2(0x131),(_0xe224e8,_0x2f8845)=>{_0x4abe2c(_0x2f8845);}),this[_0x21bde2(0xfa)](_0x24e6ba,_0x21bde2(0x115),(_0x4585da,_0xdff714,_0x352121)=>{const _0x2e05ae=_0x21bde2;this[_0x2e05ae(0x10a)][_0x2e05ae(0xe7)](_0xdff714)[_0x2e05ae(0x132)](),this[_0x2e05ae(0x10a)][_0x2e05ae(0xe3)](_0xdff714),_0x182e0d[_0x2e05ae(0xf5)]({'removedAnnotation':_0xdff714,'previousAnnotation':_0x24e6ba[_0x2e05ae(0xe7)](_0x352121-0x1),'nextAnnotation':_0x24e6ba[_0x2e05ae(0xe7)](_0x352121+0x1)}),_0xdff714===this[_0x2e05ae(0x134)]&&this[_0x2e05ae(0x143)](null);},{'priority':_0x21bde2(0xe6)}),this[_0x21bde2(0xfa)](_0x24e6ba,_0x21bde2(0xd8),(_0x5261e1,_0x29918f)=>{const _0x59c62f=_0x21bde2;this[_0x59c62f(0x143)](_0x29918f);}),this[_0x21bde2(0xfa)](_0x24e6ba,_0x21bde2(0x129),()=>{const _0x100be4=_0x21bde2;this[_0x100be4(0x143)](null);}),this[_0x21bde2(0xe2)][_0x21bde2(0xfa)](document,_0x21bde2(0x133),(_0x2886e1,_0x4ff573)=>{const _0x159567=_0x21bde2;_0x4ff573[_0x159567(0x150)]===_0x3c6ecb[_0x159567(0xf9)]&&_0x240bfe[_0x159567(0xff)]&&(this[_0x159567(0x130)][_0x159567(0x131)](_0x240bfe[_0x159567(0x101)][_0x159567(0x128)]),this[_0x159567(0xef)](),_0x4ff573[_0x159567(0x135)](),_0x4ff573[_0x159567(0x14f)]());}),this[_0x21bde2(0xe2)][_0x21bde2(0xfa)](document,_0x21bde2(0x105),(_0x3436f0,_0x50f43e)=>{const _0x30b4fd=_0x21bde2,_0x14ba82=_0x50f43e[_0x30b4fd(0x14b)];_0x240bfe[_0x30b4fd(0xff)]&&_0x240bfe[_0x30b4fd(0x14c)][_0x30b4fd(0xfc)](_0x14ba82)||_0x182e0d[_0x30b4fd(0x108)][_0x30b4fd(0x14c)][_0x30b4fd(0xfc)](_0x14ba82)||_0x3436f0[_0x30b4fd(0x100)]||this[_0x30b4fd(0x134)]&&this[_0x30b4fd(0x134)][_0x30b4fd(0xed)][_0x30b4fd(0x11c)](_0x37318a=>_0x37318a[_0x30b4fd(0xfc)](_0x14ba82))||(this[_0x30b4fd(0x130)][_0x30b4fd(0x10e)](),this[_0x30b4fd(0xef)](),this[_0x30b4fd(0x143)](null));});const _0x5519b2=this[_0x21bde2(0xf4)]instanceof _0x47a3db?this[_0x21bde2(0xf4)][_0x21bde2(0x14d)]:new _0x1f238c([this[_0x21bde2(0xf4)]]);for(const _0x3cdbcd of _0x5519b2)this[_0x21bde2(0x155)](_0x3cdbcd);this[_0x21bde2(0xfa)](_0x5519b2,_0x21bde2(0x131),(_0x47fae8,_0x1ac929)=>{const _0x354b1d=_0x21bde2;this[_0x354b1d(0xfa)](_0x1ac929,_0x354b1d(0xe1),()=>{const _0x229bdb=_0x354b1d;this[_0x229bdb(0x155)](_0x1ac929);});}),this[_0x21bde2(0xfa)](_0x5519b2,_0x21bde2(0x115),(_0x1ad86a,_0x57b0a9)=>{const _0x4e3145=_0x21bde2;_0x57b0a9[_0x4e3145(0x113)][_0x4e3145(0x10c)](_0x4e3145(0x120))&&this[_0x4e3145(0x104)](_0x57b0a9[_0x4e3145(0x113)][_0x4e3145(0xe7)](_0x4e3145(0x120)));}),window[_0x21bde2(0x13e)](_0x21bde2(0x112),this[_0x21bde2(0x102)]),this[_0x21bde2(0x12f)]();}[_0x4b5b3f(0x143)](_0x538025){const _0x41f448=_0x4b5b3f;if(_0x538025===this[_0x41f448(0x134)])return;const _0x45dbd6=this[_0x41f448(0xf4)][_0x41f448(0x113)][_0x41f448(0xe7)](_0x5f2a0b);if(_0x45dbd6[_0x41f448(0x142)]({'blurredAnnotation':this[_0x41f448(0x134)],'activatedAnnotation':_0x538025,'disableAnimationOnActivatedAnnotation':!0x0}),_0x538025)_0x45dbd6[_0x41f448(0x114)](_0x538025)?this[_0x41f448(0x11e)](_0x538025):this[_0x41f448(0xef)]();else this[_0x41f448(0xef)]();this[_0x41f448(0x134)]=_0x538025;}[_0x4b5b3f(0xee)](){const _0x11b324=_0x4b5b3f;if(!this[_0x11b324(0x147)])throw new _0x1792c1(_0x11b324(0xdc),this);this[_0x11b324(0x143)](null);const _0x228c53=this[_0x11b324(0xf4)][_0x11b324(0x113)][_0x11b324(0xe7)](_0x5f2a0b);this[_0x11b324(0xef)](),Array[_0x11b324(0x137)](this[_0x11b324(0x10a)][_0x11b324(0x123)](),_0x4b4d22=>_0x4b4d22[_0x11b324(0x132)]()),this[_0x11b324(0x10a)][_0x11b324(0x10e)](),_0x228c53[_0x11b324(0x13b)](this[_0x11b324(0x153)]),this[_0x11b324(0xdd)](),this[_0x11b324(0xe2)][_0x11b324(0xdd)](),this[_0x11b324(0xf4)]instanceof _0x47a3db&&this[_0x11b324(0xdd)](this[_0x11b324(0xf4)][_0x11b324(0x14d)]);for(const _0x38b495 of Array[_0x11b324(0x137)](this[_0x11b324(0xfe)]))this[_0x11b324(0x104)](_0x38b495);window[_0x11b324(0x136)](_0x11b324(0x112),this[_0x11b324(0x102)]),this[_0x11b324(0x102)][_0x11b324(0xe9)](),this[_0x11b324(0x13a)]=[],this[_0x11b324(0x147)]=!0x1,this[_0x11b324(0x153)]=null;}[_0x4b5b3f(0x132)](){const _0x1b4b2e=_0x4b5b3f;this[_0x1b4b2e(0x147)]&&this[_0x1b4b2e(0xee)](),this[_0x1b4b2e(0x14e)][_0x1b4b2e(0xf0)]();}[_0x4b5b3f(0x155)](_0x5932c7){const _0x50f9be=_0x4b5b3f;if(!_0x5932c7[_0x50f9be(0x113)][_0x50f9be(0x10c)](_0x50f9be(0x120)))return;const _0x1a062c=_0x5932c7[_0x50f9be(0x113)][_0x50f9be(0xe7)](_0x50f9be(0x120)),_0x407b45=this[_0x50f9be(0xf4)][_0x50f9be(0x113)][_0x50f9be(0xe7)](_0x5f2a0b),_0x5837d7=this[_0x50f9be(0x153)],_0x175309=this[_0x50f9be(0xe8)],_0x3658f7=()=>{const _0x2e7b41=_0x50f9be,_0x398422=_0x1a062c[_0x2e7b41(0xda)]({'annotations':this[_0x2e7b41(0x153)],'activeAnnotation':this[_0x2e7b41(0x134)]});this[_0x2e7b41(0x11a)](_0x398422),this[_0x2e7b41(0x143)](_0x398422[0x0]||null);};this[_0x50f9be(0xfa)](_0x1a062c,_0x50f9be(0x142),_0x3658f7),this[_0x50f9be(0xfa)](_0x1a062c,_0x50f9be(0x129),(_0x4fe617,{isAnnotationTracked:_0x2fca33})=>{const _0x171c44=_0x50f9be;this[_0x171c44(0x134)]&&_0x2fca33(this[_0x171c44(0x134)])&&(this[_0x171c44(0x11a)]([]),this[_0x171c44(0x143)](null));}),this[_0x50f9be(0xfa)](_0x1a062c,_0x50f9be(0xf3),()=>{const _0x5ab160=_0x50f9be;this[_0x5ab160(0x102)]();}),this[_0x50f9be(0xfa)](_0x5837d7,_0x50f9be(0x129),_0x28cb98=>{const _0x3260d9=_0x50f9be;_0x1a062c[_0x3260d9(0x144)]()&&_0x28cb98[_0x3260d9(0xf6)]();},{'priority':_0x50f9be(0x10b)}),this[_0x50f9be(0xfa)](this[_0x50f9be(0xe2)],_0x50f9be(0x105),(_0x204465,_0x2c2258)=>{const _0x7c29a0=_0x50f9be,_0x265825=_0x2c2258[_0x7c29a0(0x14b)];_0x175309[_0x7c29a0(0xff)]&&_0x175309[_0x7c29a0(0x14c)][_0x7c29a0(0xfc)](_0x265825)||_0x407b45[_0x7c29a0(0x108)][_0x7c29a0(0x14c)][_0x7c29a0(0xfc)](_0x265825)||this[_0x7c29a0(0x134)]&&_0x1a062c[_0x7c29a0(0x144)]()&&(_0x3658f7(),_0x204465[_0x7c29a0(0x100)]=!0x0);},{'priority':_0x50f9be(0x10b)}),this[_0x50f9be(0xfe)][_0x50f9be(0x131)](_0x1a062c);}[_0x4b5b3f(0x104)](_0x3d2f){const _0x18cabb=_0x4b5b3f;_0x3d2f&&(this[_0x18cabb(0xdd)](_0x3d2f),this[_0x18cabb(0xfe)][_0x18cabb(0x115)](_0x3d2f));}[_0x4b5b3f(0x11a)](_0x417efe){const _0x10701e=_0x4b5b3f;for(const _0x502fb6 of this[_0x10701e(0x13a)])_0x417efe[_0x10701e(0x121)](_0x502fb6)||this[_0x10701e(0x130)][_0x10701e(0xe3)](_0x502fb6[_0x10701e(0x108)]);this[_0x10701e(0x13a)]=_0x417efe;}[_0x4b5b3f(0x12f)](){const _0x2b6928=_0x4b5b3f,_0x59b6ea=this[_0x2b6928(0xe8)];this[_0x2b6928(0x153)][_0x2b6928(0x13d)](),_0x59b6ea[_0x2b6928(0xff)]&&this[_0x2b6928(0x11f)]();}[_0x4b5b3f(0x11e)](_0x4c3043){const _0x2852c4=_0x4b5b3f;if(this[_0x2852c4(0x130)][_0x2852c4(0x10c)](_0x4c3043[_0x2852c4(0x108)]))return;const _0xc84093=this[_0x2852c4(0xe8)][_0x2852c4(0x101)][_0x2852c4(0x128)];_0xc84093!==_0x4c3043[_0x2852c4(0x108)]?(_0xc84093&&this[_0x2852c4(0x139)](_0xc84093),this[_0x2852c4(0x12e)](_0x4c3043[_0x2852c4(0x108)]),this[_0x2852c4(0xe8)][_0x2852c4(0x101)][_0x2852c4(0x10e)](),this[_0x2852c4(0xe8)][_0x2852c4(0x101)][_0x2852c4(0x131)](_0x4c3043[_0x2852c4(0x108)]),this[_0x2852c4(0x11f)]()):this[_0x2852c4(0x11f)]();}[_0x4b5b3f(0x11f)](){const _0x584118=_0x4b5b3f,_0x5b6d19=this[_0x584118(0xe8)][_0x584118(0x101)][_0x584118(0x128)],_0x5c33ee=_0x5b6d19&&this[_0x584118(0x153)][_0x584118(0xd9)](_0x5b6d19);if(!_0x5c33ee||!this[_0x584118(0x10a)][_0x584118(0x10c)](_0x5c33ee))return;const _0x25efc2=this[_0x584118(0x10a)][_0x584118(0xe7)](_0x5c33ee)[_0x584118(0x14c)],_0x3b3f65=(function(){const _0x5040fb=_0x584118,_0x2268a2=_0x51e3af[_0x5040fb(0xf7)];return[_0x2268a2[_0x5040fb(0x14a)],_0x2268a2[_0x5040fb(0x119)],_0x2268a2[_0x5040fb(0x125)],_0x2268a2[_0x5040fb(0x154)],_0x2268a2[_0x5040fb(0x12c)],_0x2268a2[_0x5040fb(0x12b)]];}());this[_0x584118(0xe8)][_0x584118(0x124)]({'target':_0x25efc2,'positions':_0x3b3f65});}[_0x4b5b3f(0xef)](){const _0x384c12=_0x4b5b3f,_0x3f7146=this[_0x384c12(0xe8)],_0x47474b=_0x3f7146[_0x384c12(0x101)][_0x384c12(0x128)];_0x47474b&&(this[_0x384c12(0x139)](_0x47474b),_0x3f7146[_0x384c12(0x107)](),_0x3f7146[_0x384c12(0x101)][_0x384c12(0x10e)]());}[_0x4b5b3f(0x12e)](_0xf35ed9){const _0x13368d=_0x4b5b3f;this[_0x13368d(0xfa)](_0xf35ed9,_0x13368d(0x12a),()=>this[_0x13368d(0x11f)]()),this[_0x13368d(0xfa)](_0xf35ed9,_0x13368d(0xf1),(_0x58aec9,_0x9e71e4)=>{const _0x51cf38=_0x13368d;this[_0x51cf38(0x130)][_0x51cf38(0x131)](_0xf35ed9),this[_0x51cf38(0xef)](),_0x9e71e4();});}[_0x4b5b3f(0x139)](_0x40cced){const _0x51f0a7=_0x4b5b3f;this[_0x51f0a7(0xdd)](_0x40cced);}}