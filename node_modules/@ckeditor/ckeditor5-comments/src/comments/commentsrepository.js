/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x4c986c=_0x21fb;(function(_0x4fe10e,_0x3d45e9){const _0x373618=_0x21fb,_0x24512e=_0x4fe10e();while(!![]){try{const _0x1419b5=-parseInt(_0x373618(0x1f0))/0x1*(parseInt(_0x373618(0x25a))/0x2)+-parseInt(_0x373618(0x219))/0x3+parseInt(_0x373618(0x239))/0x4+-parseInt(_0x373618(0x1d3))/0x5*(parseInt(_0x373618(0x1f4))/0x6)+parseInt(_0x373618(0x21b))/0x7*(-parseInt(_0x373618(0x23d))/0x8)+-parseInt(_0x373618(0x26f))/0x9*(-parseInt(_0x373618(0x1fc))/0xa)+parseInt(_0x373618(0x263))/0xb;if(_0x1419b5===_0x3d45e9)break;else _0x24512e['push'](_0x24512e['shift']());}catch(_0xea4c6){_0x24512e['push'](_0x24512e['shift']());}}}(_0x3be1,0x2f016));import{PendingActions as _0xa7d6b6,ContextPlugin as _0x384c81,Editor as _0x12b503}from'ckeditor5/src/core.js';import{Collection as _0x441d3d,uid as _0xa2c44d,CKEditorError as _0x3b9ff2,ObservableMixin as _0x6fdfd7}from'ckeditor5/src/utils.js';import{getDateTimeFormatter as _0x46e9f1,hashObject as _0x560e9e,Users as _0xc46851}from'ckeditor5-collaboration/src/collaboration-core.js';import{cloneDeep as _0x1c0ff5,isEqual as _0x11703d,set as _0x130d58,unset as _0x2ee9b6}from'lodash-es';import _0x47f62b from'./ui/commentthreadcontroller.js';import _0x4bf4a8 from'./ui/view/commentthreadview.js';import _0x25fb07 from'./ui/view/commentview.js';import{getTranslation as _0x550756}from'../utils/common-translations.js';import'../../theme/comment.css';import'../../theme/commentthread.css';function _0x21fb(_0x4dcb25,_0xf77e46){const _0x3be190=_0x3be1();return _0x21fb=function(_0x21fbc1,_0x888b79){_0x21fbc1=_0x21fbc1-0x1c9;let _0x4f2fcb=_0x3be190[_0x21fbc1];return _0x4f2fcb;},_0x21fb(_0x4dcb25,_0xf77e46);}import'../../theme/commentinput.css';import _0x6b9ffb from'../annotations/view/annotationview.js';import _0x42d0ce from'../annotations/annotation.js';import _0xfe6b1e from'../annotations/annotations.js';const Tt=Symbol(_0x4c986c(0x249)),_t={'admin':!0x0,'modifyAll':!0x1,'write':!0x0,'resolve':!0x0};export default class o extends _0x384c81{static get[_0x4c986c(0x2a7)](){return[_0xfe6b1e,_0xa7d6b6,_0xc46851];}static get[_0x4c986c(0x296)](){const _0x1dfa33=_0x4c986c;return _0x1dfa33(0x1f5);}static get[_0x4c986c(0x259)](){return!0x0;}static get[_0x4c986c(0x201)](){return!0x0;}constructor(_0x1d0452){const _0x40b06b=_0x4c986c;super(_0x1d0452),this[_0x40b06b(0x221)]=new Map(),this[_0x40b06b(0x240)]=new Map(),this[_0x40b06b(0x27f)]=new Map(),this[_0x40b06b(0x247)](_0x40b06b(0x1f2),new Set()),this[_0x40b06b(0x247)](_0x40b06b(0x29d),new Map());const _0x285dd9=this[_0x40b06b(0x1ce)][_0x40b06b(0x274)];_0x285dd9[_0x40b06b(0x242)](_0x40b06b(0x2aa),0x2),_0x285dd9[_0x40b06b(0x242)](_0x40b06b(0x1cb),0x1f4),_0x285dd9[_0x40b06b(0x242)](_0x40b06b(0x1da),0x8c),_0x285dd9[_0x40b06b(0x242)](_0x40b06b(0x1e1),_0x4bf4a8),_0x285dd9[_0x40b06b(0x242)](_0x40b06b(0x1e6),_0x25fb07),_0x285dd9[_0x40b06b(0x20c)](_0x40b06b(0x288))||console[_0x40b06b(0x26d)](_0x40b06b(0x1db));}[_0x4c986c(0x20f)](){const _0x2819ac=_0x4c986c,_0x57bb6c=this[_0x2819ac(0x1ce)][_0x2819ac(0x26c)][_0x2819ac(0x20c)](_0xfe6b1e);this[_0x2819ac(0x247)](_0x2819ac(0x2ab),null),this['on'](_0x2819ac(0x1dd),(_0x258cd7,_0x301d23)=>this[_0x2819ac(0x297)](_0x301d23)),this['on'](_0x2819ac(0x265),(_0x2d9442,_0x120c4d)=>this[_0x2819ac(0x1df)](_0x120c4d)),this['on'](_0x2819ac(0x1ef),(_0x2f2945,_0xecf69e)=>this[_0x2819ac(0x295)](_0xecf69e)),this['on'](_0x2819ac(0x1ef),(_0x4e2d51,_0x52036d)=>this[_0x2819ac(0x228)](_0x52036d),{'priority':_0x2819ac(0x281)}),this['on'](_0x2819ac(0x218),(_0x37f4f2,_0x4dd4ec)=>this[_0x2819ac(0x246)](_0x4dd4ec)),this['on'](_0x2819ac(0x218),(_0x28b665,_0x533703)=>this[_0x2819ac(0x228)](_0x533703),{'priority':_0x2819ac(0x281)}),this['on'](_0x2819ac(0x275),(_0x39c33f,_0x4f893f)=>this[_0x2819ac(0x277)](_0x4f893f)),this['on'](_0x2819ac(0x2a2),(_0x41ffac,_0x1df221)=>this[_0x2819ac(0x209)](_0x1df221)),this['on'](_0x2819ac(0x2a2),(_0x4915f2,_0x3199d5)=>this[_0x2819ac(0x228)](_0x3199d5),{'priority':_0x2819ac(0x281)}),this['on'](_0x2819ac(0x268),(_0x362ce7,_0x4b0686)=>this[_0x2819ac(0x207)](_0x4b0686)),this['on'](_0x2819ac(0x1e0),(_0x1c1718,_0x4dd53e)=>this[_0x2819ac(0x238)](_0x4dd53e)),this['on'](_0x2819ac(0x22d),(_0x41b06d,_0x41e266)=>this[_0x2819ac(0x20e)](_0x41e266)),this['on'](_0x2819ac(0x268),(_0x477b9f,{threadId:_0x4769f7,isFromAdapter:_0x2ead95})=>{const _0x22a840=_0x2819ac;if(_0x2ead95)return;const _0x1baf77=this[_0x22a840(0x224)](_0x4769f7),_0xde5883=_0x1baf77&&this[_0x22a840(0x240)][_0x22a840(0x20c)](_0x1baf77);_0xde5883&&_0xde5883[_0x22a840(0x289)][_0x22a840(0x255)][_0x22a840(0x21a)](-0x1);},{'priority':_0x2819ac(0x281)}),this[_0x2819ac(0x22f)](_0x57bb6c,_0x2819ac(0x272),(_0x428048,_0x427af1,_0x358c66)=>{const _0x4cc590=_0x2819ac,_0x174771=Array[_0x4cc590(0x20a)](_0x358c66)[_0x4cc590(0x1fe)](_0x17f8ba=>this[_0x4cc590(0x27f)][_0x4cc590(0x20c)](_0x17f8ba[_0x4cc590(0x1f7)]))[_0x4cc590(0x290)](Boolean)[0x0];this[_0x4cc590(0x2ab)]=_0x174771?_0x174771[_0x4cc590(0x24c)]:null;});}set[_0x4c986c(0x1e7)](_0x3631a3){const _0x3a5d7c=_0x4c986c;if(this[_0x3a5d7c(0x28b)])throw new _0x3b9ff2(_0x3a5d7c(0x270));this[_0x3a5d7c(0x28b)]=_0x3631a3;}get[_0x4c986c(0x1e7)](){const _0x2319d9=_0x4c986c;return this[_0x2319d9(0x28b)];}[_0x4c986c(0x1dd)]({channelId:_0x2c26b5=Tt,threadId:_0x1fecbb=_0xa2c44d(),comments:_0xd1a305=[],unlinkedAt:_0x35f554=null,resolvedAt:_0x21c18b=null,resolvedBy:_0x1dd3c6=null,target:_0x37790d=null,context:_0x401264=null,attributes:_0x302d1d={},isResolvable:_0x57f65a=!0x0,isSubmitted:_0x581381=!0x1,isFromAdapter:_0x5ee8a9=!0x1}={}){const _0x76fbc6=_0x4c986c;return this[_0x76fbc6(0x225)](bt(_0x76fbc6(0x1dd),_0x2c26b5),{'channelId':_0x2c26b5,'threadId':_0x1fecbb,'comments':_0xd1a305,'unlinkedAt':_0x35f554,'resolvedAt':_0x21c18b,'resolvedBy':_0x1dd3c6,'target':_0x37790d,'context':_0x401264,'attributes':_0x302d1d,'isFromAdapter':_0x5ee8a9,'isResolvable':_0x57f65a,'isSubmitted':_0x581381}),this[_0x76fbc6(0x224)](_0x1fecbb);}[_0x4c986c(0x2ac)]({channelId:_0x30da75=Tt,threadId:_0x1495c2=_0xa2c44d(),target:_0x45c219,context:_0x1d6861=null,isResolvable:_0x1af5a9=!0x0}){const _0x40bc53=_0x4c986c;if(this[_0x40bc53(0x1f2)][_0x40bc53(0x278)](_0x30da75)||this[_0x40bc53(0x1f2)][_0x40bc53(0x278)](void 0x0))return null;if(!_0x45c219)throw new _0x3b9ff2(_0x40bc53(0x1d7));const _0x5ef26c=this[_0x40bc53(0x1dd)]({'channelId':_0x30da75,'threadId':_0x1495c2,'target':_0x45c219,'context':_0x1d6861,'isResolvable':_0x1af5a9});if(!_0x5ef26c)return null;const _0x290ac5=this[_0x40bc53(0x240)][_0x40bc53(0x20c)](_0x5ef26c),_0x572414=_0x290ac5[_0x40bc53(0x289)][_0x40bc53(0x1eb)][_0x40bc53(0x24b)],_0x44686c=this[_0x40bc53(0x1ce)][_0x40bc53(0x26c)][_0x40bc53(0x20c)](_0xfe6b1e),_0x42fc2c=_0x44686c[_0x40bc53(0x21d)](_0x290ac5[_0x40bc53(0x289)]);return _0x44686c[_0x40bc53(0x223)](_0x42fc2c),_0x572414[_0x40bc53(0x202)](_0x40bc53(0x1ca),()=>_0x572414[_0x40bc53(0x21a)]()),_0x5ef26c;}[_0x4c986c(0x22b)](_0x35f24c){const _0x21f16b=_0x4c986c;if(_0x21f16b(0x220)!=typeof _0x35f24c)throw new _0x3b9ff2(_0x21f16b(0x21f));return this[_0x21f16b(0x221)][_0x21f16b(0x278)](_0x35f24c);}[_0x4c986c(0x2a2)]({channelId:_0x4ea29e=Tt,threadId:_0x1de3ba,context:_0x36c4ed,unlinkedAt:_0x130a21,attributes:_0xbeeb5a,isFromAdapter:_0x47d7f3=!0x1}){const _0xd9caef=_0x4c986c;return this[_0xd9caef(0x225)](bt(_0xd9caef(0x2a2),_0x4ea29e),{'channelId':_0x4ea29e,'threadId':_0x1de3ba,'context':_0x36c4ed,'unlinkedAt':_0x130a21,'attributes':_0xbeeb5a,'isFromAdapter':_0x47d7f3}),this[_0xd9caef(0x224)](_0x1de3ba);}[_0x4c986c(0x224)](_0x8ca3b6){const _0x1863b4=_0x4c986c;if(_0x1863b4(0x220)!=typeof _0x8ca3b6)throw new _0x3b9ff2(_0x1863b4(0x21f));return this[_0x1863b4(0x221)][_0x1863b4(0x20c)](_0x8ca3b6);}[_0x4c986c(0x1ee)]({channelId:_0x9fbbef,threadId:_0x15af50}={}){const _0x219de1=_0x4c986c,_0x5d5556=this[_0x219de1(0x224)](_0x15af50);if(_0x5d5556)return Promise[_0x219de1(0x1d4)](_0x5d5556);if(!this[_0x219de1(0x1e7)])return Promise[_0x219de1(0x1d4)](void 0x0);if(_0x219de1(0x1c9)!=typeof this[_0x219de1(0x1e7)][_0x219de1(0x224)])throw new _0x3b9ff2(_0x219de1(0x276),this[_0x219de1(0x1ce)]);return this[_0x219de1(0x1e7)][_0x219de1(0x224)]({'channelId':_0x9fbbef,'threadId':_0x15af50})[_0x219de1(0x299)](_0x36b386=>this[_0x219de1(0x22b)](_0x15af50)?this[_0x219de1(0x224)](_0x15af50):_0x36b386?this[_0x219de1(0x1dd)](Object[_0x219de1(0x208)]({'isFromAdapter':!0x0,'channelId':_0x9fbbef},_0x36b386)):void 0x0)[_0x219de1(0x286)](_0x4f44d3=>{const _0x4a27df=_0x219de1;throw console[_0x4a27df(0x1d9)](_0x4f44d3),new _0x3b9ff2(_0x4a27df(0x1de),this[_0x4a27df(0x1ce)]);});}[_0x4c986c(0x273)]({channelId:_0x422c48,skipNotAttached:_0x1748fb=!0x1,skipEmpty:_0xcc5960=!0x1,toJSON:_0x41064f=!0x1}={}){const _0x46fec5=_0x4c986c,_0x3589da=[];for(const _0xef5647 of this[_0x46fec5(0x221)][_0x46fec5(0x227)]())_0x422c48&&_0xef5647[_0x46fec5(0x1d5)]!==_0x422c48||_0x1748fb&&!_0xef5647[_0x46fec5(0x253)]||_0xcc5960&&0x0===_0xef5647[_0x46fec5(0x245)]||_0x3589da[_0x46fec5(0x233)](_0xef5647);return _0x41064f?_0x3589da[_0x46fec5(0x1fe)](_0xb07b54=>_0xb07b54[_0x46fec5(0x26b)]()):_0x3589da;}[_0x4c986c(0x28a)](_0x416b0b){const _0xa479d5=_0x4c986c,_0x4a7cd4=this[_0xa479d5(0x1ce)][_0xa479d5(0x26c)][_0xa479d5(0x20c)](_0xfe6b1e);if(!_0x416b0b)return void(this[_0xa479d5(0x2ab)]&&_0x4a7cd4[_0xa479d5(0x28f)]());const _0x52ce7a=this[_0xa479d5(0x224)](_0x416b0b);if(!_0x52ce7a)throw new _0x3b9ff2(_0xa479d5(0x215),null,{'threadId':_0x416b0b});if(!this[_0xa479d5(0x240)][_0xa479d5(0x278)](_0x52ce7a))throw new _0x3b9ff2(_0xa479d5(0x25f),null,{'threadId':_0x416b0b});const _0x205bac=_0x4a7cd4[_0xa479d5(0x21d)](this[_0xa479d5(0x240)][_0xa479d5(0x20c)](_0x52ce7a)[_0xa479d5(0x289)]);_0x4a7cd4[_0xa479d5(0x223)](_0x205bac);}[_0x4c986c(0x27a)](_0x292a6c,_0x2886d5){const _0x23fd73=_0x4c986c;_0x292a6c?this[_0x23fd73(0x1f2)][_0x23fd73(0x21e)](_0x2886d5):this[_0x23fd73(0x1f2)][_0x23fd73(0x269)](_0x2886d5),this[_0x23fd73(0x225)](_0x23fd73(0x1fd),_0x23fd73(0x1f2),this[_0x23fd73(0x1f2)],this[_0x23fd73(0x1f2)]);}[_0x4c986c(0x2a3)](_0x1d3d9){const _0x46f659=_0x4c986c;return this[_0x46f659(0x1f2)][_0x46f659(0x278)](_0x1d3d9)||this[_0x46f659(0x1f2)][_0x46f659(0x278)](void 0x0);}[_0x4c986c(0x262)](_0x39c67c,_0x629af0){return new _0x47f62b(_0x39c67c,_0x629af0);}[_0x4c986c(0x25b)](_0x465f6c,_0x3ad073=Tt){const _0x129294=_0x4c986c;this[_0x129294(0x29d)][_0x129294(0x247)](_0x3ad073,_0x465f6c),this[_0x129294(0x225)](_0x129294(0x1d0),_0x129294(0x29d),this[_0x129294(0x29d)],this[_0x129294(0x29d)]);}[_0x4c986c(0x235)](_0x2accb7=Tt){const _0x50d0e4=_0x4c986c;return this[_0x50d0e4(0x29d)][_0x50d0e4(0x278)](_0x2accb7)?this[_0x50d0e4(0x29d)][_0x50d0e4(0x20c)](_0x2accb7):_t;}[_0x4c986c(0x297)]({channelId:_0x2cec06,threadId:_0x40e687,comments:_0x16b113,unlinkedAt:_0x9ae20,resolvedAt:_0x4ffe74,resolvedBy:_0x51c71a,target:_0x1c86c7,context:_0x245537,attributes:_0x59fbc8,isFromAdapter:_0x559d73,isResolvable:_0x121001,isSubmitted:_0x3e6c44}){const _0x4d2659=_0x4c986c;if(_0x4d2659(0x220)!=typeof _0x40e687)throw new _0x3b9ff2(_0x4d2659(0x21f),null,{'threadId':_0x40e687});if(this[_0x4d2659(0x22b)](_0x40e687))throw new _0x3b9ff2(_0x4d2659(0x280),null,{'threadId':_0x40e687});const _0x46705e=new CommentThread(this,{'channelId':_0x2cec06,'id':_0x40e687,'context':_0x245537,'attributes':_0x59fbc8,'unlinkedAt':_0x9ae20,'resolvedAt':_0x4ffe74,'resolvedBy':_0x51c71a?this[_0x4d2659(0x1ce)][_0x4d2659(0x26c)][_0x4d2659(0x20c)](_0xc46851)[_0x4d2659(0x282)](_0x51c71a):null,'isResolvable':_0x121001,'isSubmitted':_0x3e6c44||_0x559d73});this[_0x4d2659(0x221)][_0x4d2659(0x247)](_0x40e687,_0x46705e);for(const _0x1aac4a of _0x16b113)_0x46705e[_0x4d2659(0x27d)](this[_0x4d2659(0x21c)]({'threadId':_0x40e687,..._0x1aac4a}));return _0x1c86c7&&_0x46705e[_0x4d2659(0x2ae)](_0x1c86c7),_0x559d73||!_0x46705e[_0x4d2659(0x245)]?Promise[_0x4d2659(0x1d4)]():this[_0x4d2659(0x1df)]({'channelId':_0x2cec06,'threadId':_0x40e687});}[_0x4c986c(0x1df)]({channelId:_0x3f86bb,threadId:_0x43a781}){const _0x5cb799=_0x4c986c;if(!this[_0x5cb799(0x22b)](_0x43a781))throw new _0x3b9ff2(_0x5cb799(0x252),this);const _0x1969d9=this[_0x5cb799(0x224)](_0x43a781);if(_0x1969d9[_0x5cb799(0x1e3)]=!0x0,!this[_0x5cb799(0x1e7)]||_0x5cb799(0x1c9)!=typeof this[_0x5cb799(0x1e7)][_0x5cb799(0x1dd)])return Promise[_0x5cb799(0x1d4)]();const {id:_0x5406d6,comments:_0x2732ab,resolvedAt:_0x5038da,resolvedBy:_0x21d2ee,context:_0x3a2649,attributes:_0xe761dd}=_0x1969d9,_0x15799c=this[_0x5cb799(0x1ce)][_0x5cb799(0x26c)][_0x5cb799(0x20c)](_0x5cb799(0x29c)),_0x4e686d=_0x15799c[_0x5cb799(0x21e)](_0x550756(this[_0x5cb799(0x1ce)][_0x5cb799(0x25c)],_0x5cb799(0x1d2)));return this[_0x5cb799(0x1e7)][_0x5cb799(0x1dd)]({'channelId':_0x3f86bb,'threadId':_0x5406d6,'comments':_0x2732ab[_0x5cb799(0x1fe)](_0x4ddd38=>_0x4ddd38[_0x5cb799(0x26b)]()),'resolvedAt':_0x5038da,'resolvedBy':_0x21d2ee?_0x21d2ee['id']:_0x21d2ee,'context':_0x3a2649,'attributes':_0xe761dd})[_0x5cb799(0x299)](({comments:_0x8c67de})=>{const _0x15e9eb=_0x5cb799;_0x15799c[_0x15e9eb(0x2a8)](_0x4e686d);for(const _0x31bb31 of _0x8c67de)this[_0x15e9eb(0x238)]({'channelId':_0x3f86bb,'threadId':_0x43a781,'commentId':_0x31bb31[_0x15e9eb(0x283)],'createdAt':_0x31bb31[_0x15e9eb(0x232)],'isFromAdapter':!0x0});})[_0x5cb799(0x286)](_0x104121=>{const _0x190ccd=_0x5cb799;throw console[_0x190ccd(0x1d9)](_0x104121),new _0x3b9ff2(_0x190ccd(0x203),this);});}[_0x4c986c(0x1dc)]({threadId:_0x27930f,target:_0x2b1bb0}){const _0x357b31=_0x4c986c,_0x2705cc=this[_0x357b31(0x224)](_0x27930f);if(!_0x2705cc)throw new _0x3b9ff2(_0x357b31(0x279),this);const _0xe48438=this[_0x357b31(0x1ce)][_0x357b31(0x26c)][_0x357b31(0x20c)](_0x357b31(0x29c)),_0x47d087=this[_0x357b31(0x1ce)][_0x357b31(0x26c)][_0x357b31(0x20c)](_0xfe6b1e),_0x4258bd=this[_0x357b31(0x217)](_0x2705cc),_0x3805ef=new _0x47f62b(_0x2705cc,_0x4258bd);let _0x15897=null;_0x4258bd['on'](_0x357b31(0x244),(_0x507e76,_0x5126a2,_0x2937db)=>{const _0xfabcda=_0x357b31;_0x2937db?_0x15897=_0xe48438[_0xfabcda(0x21e)](_0x550756(this[_0xfabcda(0x1ce)][_0xfabcda(0x25c)],_0xfabcda(0x1d2))):_0x15897&&(_0xe48438[_0xfabcda(0x2a8)](_0x15897),_0x15897=null);}),this[_0x357b31(0x240)][_0x357b31(0x247)](_0x2705cc,_0x3805ef),this[_0x357b31(0x27f)][_0x357b31(0x247)](_0x4258bd,_0x3805ef);const _0x9b442c=new _0x6b9ffb(this[_0x357b31(0x1ce)][_0x357b31(0x25c)],_0x4258bd);_0x9b442c[_0x357b31(0x23a)](_0x357b31(0x245))['to'](_0x4258bd),_0x9b442c[_0x357b31(0x23a)](_0x357b31(0x291))['to'](_0x4258bd,_0x357b31(0x291),_0x4258bd,_0x357b31(0x245),(_0x599e6d,_0x145af7)=>_0x599e6d||!_0x145af7),_0x9b442c[_0x357b31(0x23a)](_0x357b31(0x214))['to'](_0x4258bd),_0x9b442c[_0x357b31(0x287)]=_0x357b31(0x23e);const _0x5421ca=new _0x42d0ce({'view':_0x9b442c,'target':_0x2b1bb0,'type':_0x357b31(0x23e),'isVisible':!_0x2705cc[_0x357b31(0x1e2)]});return _0x4258bd['on'](_0x357b31(0x237),()=>{const _0x462752=_0x357b31;_0x5421ca[_0x462752(0x225)](_0x462752(0x237));}),this[_0x357b31(0x2a9)](_0x4258bd,_0x5421ca),_0x47d087[_0x357b31(0x21e)](_0x5421ca),_0x5421ca;}[_0x4c986c(0x2a9)](_0xf85d87,_0x5a19d2){const _0x28c025=_0x4c986c;this[_0x28c025(0x22f)](_0xf85d87,_0x28c025(0x1ca),(_0x4d00aa,_0x32b26d)=>{const _0x227068=_0x28c025,_0x89434=_0x32b26d['ui'][_0x227068(0x289)][_0x227068(0x23b)][_0x227068(0x25e)];_0x5a19d2[_0x227068(0x1ea)][_0x227068(0x21e)](_0x89434),this[_0x227068(0x1ce)]instanceof _0x12b503&&this[_0x227068(0x1ce)]['ui'][_0x227068(0x24f)][_0x227068(0x21e)](_0x89434);},{'priority':_0x28c025(0x1ed)}),this[_0x28c025(0x22f)](_0xf85d87,_0x28c025(0x1d6),(_0xc6c561,_0x21583e)=>{const _0x2d2f65=_0x28c025,_0x1981af=_0x21583e['ui'][_0x2d2f65(0x289)][_0x2d2f65(0x23b)][_0x2d2f65(0x25e)];_0x5a19d2[_0x2d2f65(0x1ea)][_0x2d2f65(0x278)](_0x1981af)&&_0x5a19d2[_0x2d2f65(0x1ea)][_0x2d2f65(0x2a8)](_0x1981af),this[_0x2d2f65(0x1ce)]instanceof _0x12b503&&this[_0x2d2f65(0x1ce)]['ui'][_0x2d2f65(0x24f)][_0x2d2f65(0x2a8)](_0x1981af);});}[_0x4c986c(0x1ec)](_0x89eba4){const _0x569553=_0x4c986c;this[_0x569553(0x24e)](_0x89eba4,_0x569553(0x1ca)),this[_0x569553(0x24e)](_0x89eba4,_0x569553(0x1d6));}[_0x4c986c(0x217)](_0x248978){const _0x51c3c4=_0x4c986c,_0x45396e=this[_0x51c3c4(0x1ce)][_0x51c3c4(0x26c)][_0x51c3c4(0x20c)](_0xc46851),{config:_0xe3703d,locale:_0x43fbd6}=this[_0x51c3c4(0x1ce)],_0x469556=_0x46e9f1(_0xe3703d[_0x51c3c4(0x20c)](_0x51c3c4(0x25c)));return new(0x0,(_0xe3703d[_0x51c3c4(0x20c)](_0x51c3c4(0x1e5)))[(_0x51c3c4(0x25d))])(_0x43fbd6,_0x248978,_0x45396e['me'],{'editorConfig':{..._0xe3703d[_0x51c3c4(0x20c)](_0x51c3c4(0x288)),'licenseKey':this[_0x51c3c4(0x1ce)][_0x51c3c4(0x274)][_0x51c3c4(0x20c)](_0x51c3c4(0x264))},'copyMarkers':_0xe3703d[_0x51c3c4(0x20c)](_0x51c3c4(0x1f1)),'maxCommentsWhenCollapsed':_0xe3703d[_0x51c3c4(0x20c)](_0x51c3c4(0x2aa)),'maxThreadTotalWeight':_0xe3703d[_0x51c3c4(0x20c)](_0x51c3c4(0x1cb)),'maxCommentCharsWhenCollapsed':_0xe3703d[_0x51c3c4(0x20c)](_0x51c3c4(0x1da)),'formatDateTime':_0x469556,'CommentView':_0xe3703d[_0x51c3c4(0x20c)](_0x51c3c4(0x1e5))[_0x51c3c4(0x2a6)]});}[_0x4c986c(0x295)]({threadId:_0x55de30,channelId:_0x40790b,resolvedAt:_0x304842,resolvedBy:_0x20d8fb,isFromAdapter:_0x387ce9}){const _0x5fc2a9=_0x4c986c;if(!this[_0x5fc2a9(0x22b)](_0x55de30))throw new _0x3b9ff2(_0x5fc2a9(0x252),null,{'threadId':_0x55de30});const _0x22aa70=this[_0x5fc2a9(0x224)](_0x55de30);if(_0x22aa70[_0x5fc2a9(0x1e2)])throw new _0x3b9ff2(_0x5fc2a9(0x2a5),null,{'threadId':_0x55de30});const _0x222a8e=this[_0x5fc2a9(0x1ce)][_0x5fc2a9(0x26c)][_0x5fc2a9(0x20c)](_0xc46851);if(_0x22aa70[_0x5fc2a9(0x22a)]=_0x222a8e[_0x5fc2a9(0x282)](_0x20d8fb),_0x22aa70[_0x5fc2a9(0x229)]=_0x304842,_0x387ce9||!this[_0x5fc2a9(0x1e7)]||_0x5fc2a9(0x1c9)!=typeof this[_0x5fc2a9(0x1e7)][_0x5fc2a9(0x1ef)])return Promise[_0x5fc2a9(0x1d4)]();const _0x30cc8a=this[_0x5fc2a9(0x1ce)][_0x5fc2a9(0x26c)][_0x5fc2a9(0x20c)](_0x5fc2a9(0x29c)),_0xc78d5a=_0x30cc8a[_0x5fc2a9(0x21e)](_0x550756(this[_0x5fc2a9(0x1ce)][_0x5fc2a9(0x25c)],_0x5fc2a9(0x1d2)));return this[_0x5fc2a9(0x1e7)][_0x5fc2a9(0x1ef)]({'channelId':_0x40790b,'threadId':_0x55de30})[_0x5fc2a9(0x299)](({resolvedAt:_0x38d137,resolvedBy:_0x30c1b1})=>{const _0x395f0f=_0x5fc2a9;_0x30cc8a[_0x395f0f(0x2a8)](_0xc78d5a),_0x22aa70[_0x395f0f(0x22a)]['id']!==_0x30c1b1&&(_0x22aa70[_0x395f0f(0x22a)]=_0x222a8e[_0x395f0f(0x282)](_0x30c1b1)),_0x22aa70[_0x395f0f(0x229)]=_0x38d137;})[_0x5fc2a9(0x286)](_0x2304f3=>{const _0x5b8bf5=_0x5fc2a9;throw console[_0x5b8bf5(0x1d9)](_0x2304f3),new _0x3b9ff2(_0x5b8bf5(0x22c),this);});}[_0x4c986c(0x246)]({threadId:_0x587733,channelId:_0x30304d,isFromAdapter:_0x1bf2ee}){const _0x3c6261=_0x4c986c;if(!this[_0x3c6261(0x22b)](_0x587733))throw new _0x3b9ff2(_0x3c6261(0x252),null,{'threadId':_0x587733});const _0x5b4c74=this[_0x3c6261(0x224)](_0x587733);if(!_0x5b4c74[_0x3c6261(0x1e2)])throw new _0x3b9ff2(_0x3c6261(0x1e4),null,{'threadId':_0x587733});if(_0x5b4c74[_0x3c6261(0x22a)]=null,_0x5b4c74[_0x3c6261(0x229)]=null,_0x1bf2ee||!this[_0x3c6261(0x1e7)]||_0x3c6261(0x1c9)!=typeof this[_0x3c6261(0x1e7)][_0x3c6261(0x218)])return Promise[_0x3c6261(0x1d4)]();const _0x525ed0=this[_0x3c6261(0x1ce)][_0x3c6261(0x26c)][_0x3c6261(0x20c)](_0x3c6261(0x29c)),_0xbf1701=_0x525ed0[_0x3c6261(0x21e)](_0x550756(this[_0x3c6261(0x1ce)][_0x3c6261(0x25c)],_0x3c6261(0x1d2)));return this[_0x3c6261(0x1e7)][_0x3c6261(0x218)]({'channelId':_0x30304d,'threadId':_0x587733})[_0x3c6261(0x299)](()=>_0x525ed0[_0x3c6261(0x2a8)](_0xbf1701))[_0x3c6261(0x286)](_0x14418f=>{const _0x317bec=_0x3c6261;throw console[_0x317bec(0x1d9)](_0x14418f),new _0x3b9ff2(_0x317bec(0x26e),this);});}[_0x4c986c(0x277)]({threadId:_0x1893f0,isFromAdapter:_0x52c852}){const _0xf10d8a=_0x4c986c,_0x347ed3=this[_0xf10d8a(0x224)](_0x1893f0);if(!_0x347ed3)throw new _0x3b9ff2(_0xf10d8a(0x200),this);if(this[_0xf10d8a(0x1e8)](_0x1893f0),this[_0xf10d8a(0x221)][_0xf10d8a(0x269)](_0x1893f0),!_0x347ed3[_0xf10d8a(0x257)]||_0x52c852||!this[_0xf10d8a(0x1e7)]||_0xf10d8a(0x1c9)!=typeof this[_0xf10d8a(0x1e7)][_0xf10d8a(0x275)])return Promise[_0xf10d8a(0x1d4)]();const _0x4e0dda=this[_0xf10d8a(0x1ce)][_0xf10d8a(0x26c)][_0xf10d8a(0x20c)](_0xf10d8a(0x29c)),{channelId:_0x8c5f31}=_0x347ed3,_0x4e5214=_0x4e0dda[_0xf10d8a(0x21e)](_0x550756(this[_0xf10d8a(0x1ce)][_0xf10d8a(0x25c)],_0xf10d8a(0x1d2)));return this[_0xf10d8a(0x1e7)][_0xf10d8a(0x275)]({'channelId':_0x8c5f31,'threadId':_0x1893f0})[_0xf10d8a(0x299)](()=>_0x4e0dda[_0xf10d8a(0x2a8)](_0x4e5214))[_0xf10d8a(0x286)](_0x414a67=>{const _0x5765c1=_0xf10d8a;throw console[_0x5765c1(0x1d9)](_0x414a67),new _0x3b9ff2(_0x5765c1(0x266),this);});}[_0x4c986c(0x209)]({threadId:_0x54beca,unlinkedAt:_0x437170,context:_0x2bc288,attributes:_0x58607c,isFromAdapter:_0x5b60e0}){const _0x4338a5=_0x4c986c;if(_0x4338a5(0x220)!=typeof _0x54beca)throw new _0x3b9ff2(_0x4338a5(0x21f),null,{'threadId':_0x54beca});if(!this[_0x4338a5(0x22b)](_0x54beca))throw new _0x3b9ff2(_0x4338a5(0x252),null,{'threadId':_0x54beca});const _0x5b2e5d=this[_0x4338a5(0x224)](_0x54beca);let _0x3e7f15=!0x1;if(void 0x0!==_0x2bc288&&_0x5b2e5d[_0x4338a5(0x1ce)]!==_0x2bc288&&(_0x5b2e5d[_0x4338a5(0x1ce)]=_0x2bc288,_0x3e7f15=!0x0),void 0x0!==_0x437170&&_0x5b2e5d[_0x4338a5(0x231)]!==_0x437170&&(_0x5b2e5d[_0x4338a5(0x231)]=_0x437170,_0x3e7f15=!0x0),_0x58607c&&!_0x11703d(_0x58607c,_0x5b2e5d[_0x4338a5(0x1ff)])&&(_0x5b2e5d[_0x4338a5(0x1ff)]=_0x58607c,_0x3e7f15=!0x0),!_0x3e7f15)return Promise[_0x4338a5(0x1d4)]();if(!_0x5b2e5d[_0x4338a5(0x257)]||_0x5b60e0||!this[_0x4338a5(0x1e7)]||_0x4338a5(0x1c9)!=typeof this[_0x4338a5(0x1e7)][_0x4338a5(0x2a2)])return Promise[_0x4338a5(0x1d4)]();const _0x3c4a81=this[_0x4338a5(0x1ce)][_0x4338a5(0x26c)][_0x4338a5(0x20c)](_0x4338a5(0x29c)),{channelId:_0xf5a0e1}=_0x5b2e5d,_0x4dcede=_0x3c4a81[_0x4338a5(0x21e)](_0x550756(this[_0x4338a5(0x1ce)][_0x4338a5(0x25c)],_0x4338a5(0x1d2)));return this[_0x4338a5(0x1e7)][_0x4338a5(0x2a2)]({'channelId':_0xf5a0e1,'threadId':_0x54beca,'context':_0x2bc288,'unlinkedAt':_0x437170,'attributes':_0x58607c})[_0x4338a5(0x299)](()=>_0x3c4a81[_0x4338a5(0x2a8)](_0x4dcede))[_0x4338a5(0x286)](_0x3513e1=>{const _0x3b26d0=_0x4338a5;throw console[_0x3b26d0(0x1d9)](_0x3513e1),new _0x3b9ff2(_0x3b26d0(0x236),this);});}[_0x4c986c(0x1e8)](_0x441315){const _0x3d030d=_0x4c986c,_0x56c174=this[_0x3d030d(0x1ce)][_0x3d030d(0x26c)][_0x3d030d(0x20c)](_0xfe6b1e),_0x4c4652=this[_0x3d030d(0x224)](_0x441315);if(_0x4c4652[_0x3d030d(0x210)]=!0x1,this[_0x3d030d(0x240)][_0x3d030d(0x278)](_0x4c4652)){const _0xdd55fa=this[_0x3d030d(0x240)][_0x3d030d(0x20c)](_0x4c4652),_0x2e68f4=_0xdd55fa[_0x3d030d(0x289)],_0x5a2349=_0x56c174[_0x3d030d(0x21d)](_0x2e68f4);this[_0x3d030d(0x240)][_0x3d030d(0x269)](_0x4c4652),this[_0x3d030d(0x27f)][_0x3d030d(0x269)](_0x2e68f4),_0x5a2349&&_0x56c174[_0x3d030d(0x2a8)](_0x5a2349),_0xdd55fa[_0x3d030d(0x22e)](),_0x2e68f4[_0x3d030d(0x22e)]()[_0x3d030d(0x299)](()=>{const _0x383e7c=_0x3d030d;this[_0x383e7c(0x1ec)](_0x2e68f4);});}}[_0x4c986c(0x228)]({threadId:_0x4e8c79,resolvedAt:_0x5ab789}){const _0x127b9c=_0x4c986c,_0x57f72c=!!_0x5ab789,_0x490034=this[_0x127b9c(0x1ce)][_0x127b9c(0x26c)][_0x127b9c(0x20c)](_0xfe6b1e),_0x18b4a9=this[_0x127b9c(0x224)](_0x4e8c79);if(this[_0x127b9c(0x240)][_0x127b9c(0x278)](_0x18b4a9)){const _0x58233e=this[_0x127b9c(0x240)][_0x127b9c(0x20c)](_0x18b4a9)[_0x127b9c(0x289)],_0x1d5118=_0x490034[_0x127b9c(0x21d)](_0x58233e);_0x1d5118&&(_0x57f72c&&_0x490034[_0x127b9c(0x20d)](_0x1d5118),_0x1d5118[_0x127b9c(0x27b)]());}}[_0x4c986c(0x20b)](_0x4d692f){const _0x5c95e0=_0x4c986c,_0x426292=this[_0x5c95e0(0x1ce)][_0x5c95e0(0x26c)][_0x5c95e0(0x20c)](_0xc46851),_0x53e78b=_0x560e9e(_0x5c95e0(0x230)+_0x4d692f),_0x417812=_0x426292[_0x5c95e0(0x282)](_0x53e78b);return _0x417812||_0x426292[_0x5c95e0(0x29b)]({'id':_0x53e78b,'name':_0x4d692f});}[_0x4c986c(0x21c)]({threadId:_0x524640,commentId:_0x16a817=_0xa2c44d(),content:_0x5938bb,authorId:_0x21c0d2,createdAt:_0x3f661f,attributes:_0x35da62}){const _0x10a2e4=_0x4c986c;if(_0x10a2e4(0x220)!=typeof _0x16a817)throw new _0x3b9ff2(_0x10a2e4(0x234));if(_0x10a2e4(0x220)!=typeof _0x21c0d2)throw new _0x3b9ff2(_0x10a2e4(0x2a1));if(_0x10a2e4(0x220)!=typeof _0x5938bb||!_0x5938bb[_0x10a2e4(0x29f)]())throw new _0x3b9ff2(_0x10a2e4(0x2a0));const _0x127c93=this[_0x10a2e4(0x1ce)][_0x10a2e4(0x26c)][_0x10a2e4(0x20c)](_0xc46851)[_0x10a2e4(0x282)](_0x21c0d2);if(!_0x127c93)throw new _0x3b9ff2(_0x10a2e4(0x285),null,{'authorId':_0x21c0d2});let _0x1b7eca=null,_0x553089=_0x3f661f;return _0x35da62&&_0x35da62[_0x10a2e4(0x258)]&&(_0x1b7eca=this[_0x10a2e4(0x20b)](_0x35da62[_0x10a2e4(0x258)][_0x10a2e4(0x2ad)]),_0x553089=new Date(_0x35da62[_0x10a2e4(0x258)][_0x10a2e4(0x232)])),new Comment(this,{'threadId':_0x524640,'id':_0x16a817,'author':_0x1b7eca||_0x127c93,'creator':_0x127c93,'content':_0x5938bb,'createdAt':_0x3f661f,'authoredAt':_0x553089,'attributes':_0x35da62});}[_0x4c986c(0x207)](_0x9b96ed){const _0x4b78e0=_0x4c986c;let {threadId:_0x19a1dd,content:_0x5399a3,attributes:_0x405cfd,isFromAdapter:_0x549fe0}=_0x9b96ed;const _0x46bfc2=this[_0x4b78e0(0x224)](_0x9b96ed[_0x4b78e0(0x212)]);if(!_0x46bfc2)throw new _0x3b9ff2(_0x4b78e0(0x27e),this);const _0x5898c1=this[_0x4b78e0(0x21c)](_0x9b96ed),{id:_0x81dc08}=_0x5898c1;if(_0x46bfc2[_0x4b78e0(0x27d)](_0x5898c1),_0x549fe0||!this[_0x4b78e0(0x1e7)]||_0x4b78e0(0x1c9)!=typeof this[_0x4b78e0(0x1e7)][_0x4b78e0(0x268)]||!_0x46bfc2[_0x4b78e0(0x257)])return Promise[_0x4b78e0(0x1d4)]();const _0x2f423c=this[_0x4b78e0(0x1ce)][_0x4b78e0(0x26c)][_0x4b78e0(0x20c)](_0x4b78e0(0x29c)),{channelId:_0x3d7bfd}=_0x46bfc2,_0x1883b3=_0x2f423c[_0x4b78e0(0x21e)](_0x550756(this[_0x4b78e0(0x1ce)][_0x4b78e0(0x25c)],_0x4b78e0(0x1d2)));return _0x405cfd||(_0x405cfd={}),this[_0x4b78e0(0x1e7)][_0x4b78e0(0x268)]({'channelId':_0x3d7bfd,'threadId':_0x19a1dd,'commentId':_0x81dc08,'content':_0x5399a3,'attributes':_0x405cfd})[_0x4b78e0(0x299)](_0x376414=>{const _0x287a82=_0x4b78e0;_0x2f423c[_0x287a82(0x2a8)](_0x1883b3),_0x376414&&this[_0x287a82(0x238)]({'channelId':_0x3d7bfd,'threadId':_0x19a1dd,'commentId':_0x81dc08,'createdAt':_0x376414[_0x287a82(0x232)],'isFromAdapter':!0x0});})[_0x4b78e0(0x286)](_0x4c80b9=>{const _0x5ee0e8=_0x4b78e0;throw console[_0x5ee0e8(0x1d9)](_0x4c80b9),new _0x3b9ff2(_0x5ee0e8(0x216),this);});}[_0x4c986c(0x238)]({threadId:_0x3e2031,commentId:_0xa2903e,content:_0x2838c3,createdAt:_0x34e943,attributes:_0xbe1d1b,isFromAdapter:_0x5963b3}){const _0x156926=_0x4c986c;if(void 0x0!==_0x2838c3&&(_0x156926(0x220)!=typeof _0x2838c3||!_0x2838c3[_0x156926(0x29f)]()[_0x156926(0x245)]))throw new _0x3b9ff2(_0x156926(0x250));const _0x8c5a1=this[_0x156926(0x224)](_0x3e2031),_0x150672=_0x8c5a1[_0x156926(0x261)](_0xa2903e);if(!_0x150672)throw new _0x3b9ff2(_0x156926(0x256),this);let _0x988820=!0x1;if(_0x2838c3&&_0x2838c3!==_0x150672[_0x156926(0x24d)]&&(_0x150672[_0x156926(0x292)]||_0x5963b3)&&(_0x150672[_0x156926(0x24d)]=_0x2838c3,_0x988820=!0x0),_0x34e943&&_0x34e943!==_0x150672[_0x156926(0x232)]&&(_0x150672[_0x156926(0x232)]=_0x34e943,_0x150672[_0x156926(0x1ff)]&&_0x150672[_0x156926(0x1ff)][_0x156926(0x258)]||(_0x150672[_0x156926(0x271)]=_0x34e943),_0x988820=!0x0),_0xbe1d1b&&!_0x11703d(_0xbe1d1b,_0x150672[_0x156926(0x1ff)])&&(_0x150672[_0x156926(0x1ff)]=_0xbe1d1b,_0x988820=!0x0),!_0x988820)return Promise[_0x156926(0x1d4)]();if(_0x8c5a1[_0x156926(0x225)](_0x156926(0x213)),_0x5963b3||!this[_0x156926(0x1e7)]||_0x156926(0x1c9)!=typeof this[_0x156926(0x1e7)][_0x156926(0x1e0)])return Promise[_0x156926(0x1d4)]();const _0xd2211e=this[_0x156926(0x1ce)][_0x156926(0x26c)][_0x156926(0x20c)](_0x156926(0x29c)),{channelId:_0x2a9063}=this[_0x156926(0x224)](_0x150672[_0x156926(0x212)]),_0xee0274=_0xd2211e[_0x156926(0x21e)](_0x550756(this[_0x156926(0x1ce)][_0x156926(0x25c)],_0x156926(0x1d2)));return this[_0x156926(0x1e7)][_0x156926(0x1e0)]({'channelId':_0x2a9063,'threadId':_0x3e2031,'commentId':_0xa2903e,'content':_0x2838c3,'attributes':_0xbe1d1b})[_0x156926(0x299)](()=>_0xd2211e[_0x156926(0x2a8)](_0xee0274))[_0x156926(0x286)](_0x4da888=>{const _0x1cb8e2=_0x156926;throw console[_0x1cb8e2(0x1d9)](_0x4da888),new _0x3b9ff2(_0x1cb8e2(0x1f3),this);});}[_0x4c986c(0x20e)]({threadId:_0x5301f7,commentId:_0x47dfa5,isFromAdapter:_0x3e5e74}){const _0xf122a6=_0x4c986c,_0x3cb10b=this[_0xf122a6(0x224)](_0x5301f7),_0x2a9483=_0x3cb10b[_0xf122a6(0x261)](_0x47dfa5);if(!_0x2a9483)throw new _0x3b9ff2(_0xf122a6(0x251),this);if(_0x3cb10b[_0xf122a6(0x241)](_0x2a9483),_0x3e5e74||!this[_0xf122a6(0x1e7)]||_0xf122a6(0x1c9)!=typeof this[_0xf122a6(0x1e7)][_0xf122a6(0x22d)])return Promise[_0xf122a6(0x1d4)]();const _0x3c2f17=this[_0xf122a6(0x1ce)][_0xf122a6(0x26c)][_0xf122a6(0x20c)](_0xf122a6(0x29c)),{channelId:_0x478efb}=_0x3cb10b,_0x830e64=_0x3c2f17[_0xf122a6(0x21e)](_0x550756(this[_0xf122a6(0x1ce)][_0xf122a6(0x25c)],_0xf122a6(0x1d2)));return this[_0xf122a6(0x1e7)][_0xf122a6(0x22d)]({'channelId':_0x478efb,'threadId':_0x5301f7,'commentId':_0x47dfa5})[_0xf122a6(0x299)](()=>_0x3c2f17[_0xf122a6(0x2a8)](_0x830e64))[_0xf122a6(0x286)](_0x510bcf=>{const _0x516780=_0xf122a6;throw console[_0x516780(0x1d9)](_0x510bcf),new _0x3b9ff2(_0x516780(0x1cc),this);});}}export class CommentThread extends/* #__PURE__ -- @preserve */
_0x6fdfd7(){constructor(_0x5a85e6,_0x1bbd05){const _0x3e2988=_0x4c986c;super();const _0x1161a0=_0x1bbd05[_0x3e2988(0x29a)];this[_0x3e2988(0x1d5)]=_0x1bbd05[_0x3e2988(0x1d5)],this['id']=_0x1bbd05['id'],this[_0x3e2988(0x1e5)]=new _0x441d3d(),this[_0x3e2988(0x204)]=_0x5a85e6,this[_0x3e2988(0x210)]=!0x1,this[_0x3e2988(0x1e3)]=_0x1bbd05[_0x3e2988(0x257)],this[_0x3e2988(0x247)](_0x3e2988(0x226),!0x0),this[_0x3e2988(0x23a)](_0x3e2988(0x2a3))['to'](_0x5a85e6,_0x3e2988(0x29d),_0x5a85e6,_0x3e2988(0x1f2),()=>_0x5a85e6[_0x3e2988(0x2a3)](this[_0x3e2988(0x1d5)])),this[_0x3e2988(0x23a)](_0x3e2988(0x1f9))['to'](_0x5a85e6,_0x3e2988(0x29d),()=>_0x5a85e6[_0x3e2988(0x235)](this[_0x3e2988(0x1d5)])[_0x3e2988(0x1fa)]),this[_0x3e2988(0x23a)](_0x3e2988(0x298))['to'](_0x5a85e6,_0x3e2988(0x29d),()=>{const _0x24e714=_0x3e2988,_0x31a2e8=_0x5a85e6[_0x24e714(0x235)](this[_0x24e714(0x1d5)]);return _0x31a2e8[_0x24e714(0x254)]||_0x31a2e8[_0x24e714(0x1fa)];}),this[_0x3e2988(0x23a)](_0x3e2988(0x29a))['to'](_0x5a85e6,_0x3e2988(0x29d),()=>_0x1161a0&&_0x5a85e6[_0x3e2988(0x235)](this[_0x3e2988(0x1d5)])[_0x3e2988(0x1d4)]),this[_0x3e2988(0x247)](_0x3e2988(0x1ce),_0x1bbd05[_0x3e2988(0x1ce)]),this[_0x3e2988(0x23a)](_0x3e2988(0x23f))['to'](this,_0x3e2988(0x229),this,_0x3e2988(0x231),(_0x5586d7,_0x2fd032)=>_0x5586d7?_0x2fd032?_0x5586d7<_0x2fd032?_0x5586d7:_0x2fd032:_0x5586d7:_0x2fd032),this[_0x3e2988(0x247)](_0x3e2988(0x231),_0x1bbd05[_0x3e2988(0x231)]||null),this[_0x3e2988(0x247)](_0x3e2988(0x229),_0x1bbd05[_0x3e2988(0x229)]||null),this[_0x3e2988(0x247)](_0x3e2988(0x22a),_0x1bbd05[_0x3e2988(0x22a)]||null),this[_0x3e2988(0x23a)](_0x3e2988(0x1e2))['to'](this,_0x3e2988(0x229),_0x491654=>!!_0x491654),this[_0x3e2988(0x247)](_0x3e2988(0x1ff),_0x1bbd05[_0x3e2988(0x1ff)]||{});}get[_0x4c986c(0x1cf)](){const _0x382eaf=_0x4c986c;return Array[_0x382eaf(0x20a)](this[_0x382eaf(0x1e5)])[_0x382eaf(0x1d8)]((_0x252fa4,_0x35ab0d)=>_0x252fa4+_0x35ab0d[_0x382eaf(0x1cf)],0x0);}get[_0x4c986c(0x245)](){const _0x34203e=_0x4c986c;return this[_0x34203e(0x1e5)][_0x34203e(0x245)];}get[_0x4c986c(0x253)](){const _0x2fe5b0=_0x4c986c;return this[_0x2fe5b0(0x210)];}get[_0x4c986c(0x257)](){const _0x55e366=_0x4c986c;return this[_0x55e366(0x1e3)];}[_0x4c986c(0x1f6)](){const _0x23ff71=_0x4c986c,{channelId:_0x5f29f0,id:_0x5a6108}=this;this[_0x23ff71(0x204)][_0x23ff71(0x225)](bt(_0x23ff71(0x265),_0x5f29f0),{'channelId':_0x5f29f0,'threadId':_0x5a6108});}[_0x4c986c(0x294)](_0x3609e4){const _0x4ad566=_0x4c986c;this[_0x4ad566(0x206)]({'unlinkedAt':_0x3609e4});}[_0x4c986c(0x1d4)]({resolvedAt:_0x4f4b32=new Date(),resolvedBy:_0x4440a2=null,isFromAdapter:_0x5e9b91=!0x1}={}){const _0x504987=_0x4c986c,_0x119c30=this[_0x504987(0x204)][_0x504987(0x1ce)][_0x504987(0x26c)][_0x504987(0x20c)](_0xc46851)['me'],{channelId:_0x4394b6,id:_0x4d1ca5}=this;this[_0x504987(0x204)][_0x504987(0x225)](bt(_0x504987(0x1ef),_0x4394b6),{'channelId':_0x4394b6,'threadId':_0x4d1ca5,'resolvedAt':_0x4f4b32,'resolvedBy':_0x4440a2||_0x119c30['id'],'isFromAdapter':_0x5e9b91});}[_0x4c986c(0x24a)]({isFromAdapter:_0x22d130=!0x1}={}){const _0x57b8a6=_0x4c986c,{channelId:_0x209ce4,id:_0x4b871d}=this;this[_0x57b8a6(0x204)][_0x57b8a6(0x225)](bt(_0x57b8a6(0x218),_0x209ce4),{'channelId':_0x209ce4,'threadId':_0x4b871d,'isFromAdapter':_0x22d130});}[_0x4c986c(0x1f8)](_0x1917b5){const _0x2016e0=_0x4c986c;this[_0x2016e0(0x1ce)]||this[_0x2016e0(0x206)]({'context':_0x1917b5});}[_0x4c986c(0x243)](_0x260577,_0x10bfc8){const _0x1e80b8=_0x4c986c,_0x110c99=_0x1c0ff5(this[_0x1e80b8(0x1ff)]);_0x130d58(_0x110c99,_0x260577,_0x10bfc8),this[_0x1e80b8(0x206)]({'attributes':_0x110c99});}[_0x4c986c(0x284)](_0x4af41f){const _0x246b5d=_0x4c986c,_0x342bf2=_0x1c0ff5(this[_0x246b5d(0x1ff)]);_0x2ee9b6(_0x342bf2,_0x4af41f),this[_0x246b5d(0x206)]({'attributes':_0x342bf2});}[_0x4c986c(0x2a8)]({isFromAdapter:_0x32a3e2=!0x1}={}){const _0x4ff6db=_0x4c986c,{channelId:_0x20477c,id:_0x5d2ded}=this;this[_0x4ff6db(0x204)][_0x4ff6db(0x225)](bt(_0x4ff6db(0x275),_0x20477c),{'channelId':_0x20477c,'threadId':_0x5d2ded,'isFromAdapter':_0x32a3e2});}[_0x4c986c(0x2ae)](_0xe4e6f7){const _0x1d347c=_0x4c986c;return this[_0x1d347c(0x204)][_0x1d347c(0x1dc)]({'threadId':this['id'],'target':_0xe4e6f7});}[_0x4c986c(0x268)](_0x4f5c9e){const _0x84b668=_0x4c986c,{channelId:_0x451675,id:_0x3498ab}=this;this[_0x84b668(0x204)][_0x84b668(0x225)](bt(_0x84b668(0x268),_0x451675,_0x3498ab),Object[_0x84b668(0x208)]({'channelId':_0x451675,'threadId':_0x3498ab},_0x4f5c9e));}[_0x4c986c(0x261)](_0xbb7c22){const _0x58700a=_0x4c986c;if(_0x58700a(0x220)!=typeof _0xbb7c22)throw new _0x3b9ff2(_0x58700a(0x26a),null,{'commentId':_0xbb7c22});return this[_0x58700a(0x1e5)][_0x58700a(0x20c)](_0xbb7c22);}[_0x4c986c(0x26b)](){const _0x81a546=_0x4c986c;return{'threadId':this['id'],'context':this[_0x81a546(0x1ce)],'unlinkedAt':this[_0x81a546(0x231)],'resolvedAt':this[_0x81a546(0x229)],'resolvedBy':this[_0x81a546(0x22a)]?this[_0x81a546(0x22a)]['id']:null,'archivedAt':this[_0x81a546(0x23f)],'comments':this[_0x81a546(0x1e5)][_0x81a546(0x1fe)](_0x5c33f9=>_0x5c33f9[_0x81a546(0x26b)]()),'attributes':this[_0x81a546(0x1ff)]};}[_0x4c986c(0x27d)](_0x1caf49){const _0x41258d=_0x4c986c;return this[_0x41258d(0x22f)](_0x1caf49,_0x41258d(0x2a4),()=>{const _0x497e1e=_0x41258d,_0x3bac2e=this[_0x497e1e(0x28e)](_0x1caf49),_0x32b566=this[_0x497e1e(0x1e5)];_0x3bac2e-0x1!=_0x32b566[_0x497e1e(0x1d1)](_0x1caf49)&&_0x3bac2e+0x1!=_0x32b566[_0x497e1e(0x1d1)](_0x1caf49)&&(this[_0x497e1e(0x241)](_0x1caf49),this[_0x497e1e(0x27d)](_0x1caf49));}),this[_0x41258d(0x1e5)][_0x41258d(0x21e)](_0x1caf49,this[_0x41258d(0x28e)](_0x1caf49));}[_0x4c986c(0x206)](_0x4affac){const _0x3e96ea=_0x4c986c,{channelId:_0x3e93de,id:_0x3a95a2}=this;this[_0x3e96ea(0x204)][_0x3e96ea(0x225)](bt(_0x3e96ea(0x2a2),_0x3e93de),{..._0x4affac,'channelId':_0x3e93de,'threadId':_0x3a95a2});}[_0x4c986c(0x241)](_0x424acc){const _0x566494=_0x4c986c;return this[_0x566494(0x24e)](_0x424acc),_0x424acc[_0x566494(0x22e)](),this[_0x566494(0x1e5)][_0x566494(0x2a8)](_0x424acc);}[_0x4c986c(0x28e)](_0x5b3e64){const _0x16eb94=_0x4c986c,_0x2a79be=this[_0x16eb94(0x1e5)][_0x16eb94(0x1cd)](_0x58b04c=>new Date(_0x58b04c[_0x16eb94(0x271)])[_0x16eb94(0x28c)]()>new Date(_0x5b3e64[_0x16eb94(0x271)])[_0x16eb94(0x28c)]());return _0x2a79be?this[_0x16eb94(0x1e5)][_0x16eb94(0x1d1)](_0x2a79be):this[_0x16eb94(0x245)];}}function _0x3be1(){const _0x4bffbf=['comments.editorConfig','view','setActiveCommentThread','_adapter','getTime','creator','_findOptimalIndex','deactivateAll','filter','isDirty','isEditable','innerHTML','setUnlinkedAt','_resolveCommentThread','pluginName','_addCommentThread','canComment','then','isResolvable','addUser','PendingActions','_permissions','commentsrepository-remove-comment-missing-comment-thread','trim','commentsrepository-invalid-comment-content','commentsrepository-invalid-comment-authorid','updateCommentThread','isReadOnly','change:authoredAt','commentsrepository-resolved-comment-thread','CommentView','requires','remove','_bindAnnotationToEditors','comments.maxCommentsWhenCollapsed','activeCommentThread','openNewCommentThread','authorName','attachTo','function','editorReady','comments.maxThreadTotalWeight','commentsrepository-remove-comment-internal-error','find','context','weight','change:_permissions','getIndex','PENDING_ACTION_COMMENT_THREAD','55UHIYRQ','resolve','channelId','editorDestroyed','commentsrepository-missing-target','reduce','error','comments.maxCommentCharsWhenCollapsed','Missing\x20comments\x20editor\x20configuration\x20(`comments.editorConfig`).\x20Default\x20configuration\x20will\x20be\x20used\x20instead.','_attachCommentThread','addCommentThread','commentsrepository-fetch-comment-thread','_submitCommentThread','updateComment','comments.CommentThreadView','isResolved','_isSubmitted','commentsrepository-reopen-comment-thread','comments','comments.CommentView','adapter','_detachCommentThread','div','focusableElements','commentThreadInputView','_unbindEditors','highest','fetchCommentThread','resolveCommentThread','119717YkqKkn','comments.copyMarkers','_readOnlyChannels','commentsrepository-update-comment-internal-error','143490ZDhEIb','CommentsRepository','submit','innerView','setContext','isRemovable','admin','isExternal','182930fIazUl','change:_readOnlyChannels','map','attributes','commentsrepository-remove-missing-comment-thread','isPremiumPlugin','once','commentsrepository-add-comment-thread-internal-error','_repository','update','_update','_addComment','assign','_updateCommentThread','from','_getExternalAuthor','get','_removeActiveAnnotation','_removeComment','init','_isAttached','max','threadId','commentUpdated','isActive','commentsrepository-active-missing-comment-thread','commentsrepository-add-comment-internal-error','_createCommentThreadView','reopenCommentThread','406011yAwlSc','focus','41335jRbBet','_createNewComment','getByInnerView','add','commentsrepository-invalid-comment-thread-id','string','_threads','author','activate','getCommentThread','fire','_hasTargetInContent','values','_updateActiveAnnotation','resolvedAt','resolvedBy','hasCommentThread','commentsrepository-resolve-comment-thread-internal-error','removeComment','destroy','listenTo','external:','unlinkedAt','createdAt','push','commentsrepository-invalid-commentid','getPermissions','commentsrepository-update-comment-thread-internal-error','escape','_updateComment','1245052uvZaZq','bind','body','isFromAdapter','72aFDCWi','comment','archivedAt','_threadToController','_remove','define','setAttribute','change:isDirty','length','_reopenCommentThread','set','modifyAll','noChannel','reopen','commentInputView','model','content','stopListening','focusTracker','commentsrepository-update-comment-invalid-content','commentsrepository-remove-missing-comment','commentsrepository-missing-comment-thread','isAttached','write','commentsListView','commentsrepository-update-missing-comment','isSubmitted','@external','isOfficialPlugin','2jeKpko','setPermissions','locale','CommentThreadView','bodyCollectionContainer','commentsrepository-active-not-attached','createElement','getComment','createCommentThreadController','2160763EASBKb','licenseKey','submitCommentThread','commentsrepository-remove-comment-thread-internal-error','textContent','addComment','delete','commentsrepository-get-comment-invalid-id','toJSON','plugins','warn','commentsrepository-reopen-comment-thread-internal-error','126AqPaew','commentsrepository-adapter-already-set','authoredAt','change:activeAnnotations','getCommentThreads','config','removeCommentThread','commentsrepository-missing-thread-and-adapter-method','_removeCommentThread','has','commentsrepository-attach-missing-comment-thread','switchReadOnly','refreshVisibility','commentsrepository-update-comment-missing-comment-thread','_add','commentsrepository-add-comment-to-missing-comment-thread','_viewToController','commentsrepository-duplicated-comment-thread-id','lowest','getUser','commentId','removeAttribute','commentsrepository-add-comment-user-not-exists','catch','type'];_0x3be1=function(){return _0x4bffbf;};return _0x3be1();}export class Comment extends/* #__PURE__ -- @preserve */
_0x6fdfd7(){constructor(_0x4643c2,_0x20017a){const _0x29fecc=_0x4c986c;super();const _0x148dc7=_0x4643c2[_0x29fecc(0x1ce)][_0x29fecc(0x26c)][_0x29fecc(0x20c)](_0xc46851)['me'],_0x7c687b=_0x4643c2[_0x29fecc(0x224)](_0x20017a[_0x29fecc(0x212)]),_0x27a44f=0x0===_0x7c687b[_0x29fecc(0x1e5)][_0x29fecc(0x245)],_0xc39407=_0x148dc7===_0x20017a[_0x29fecc(0x222)];this['id']=_0x20017a['id'],this[_0x29fecc(0x212)]=_0x20017a[_0x29fecc(0x212)],this[_0x29fecc(0x222)]=_0x20017a[_0x29fecc(0x222)],this[_0x29fecc(0x28d)]=_0x20017a[_0x29fecc(0x28d)],this[_0x29fecc(0x1fb)]=Boolean(_0x20017a[_0x29fecc(0x1ff)]&&_0x20017a[_0x29fecc(0x1ff)][_0x29fecc(0x258)]),this[_0x29fecc(0x247)](_0x29fecc(0x24d),_0x20017a[_0x29fecc(0x24d)]),this[_0x29fecc(0x232)]=_0x20017a[_0x29fecc(0x232)]||new Date(),this[_0x29fecc(0x247)](_0x29fecc(0x271),_0x20017a[_0x29fecc(0x271)]||new Date()),this[_0x29fecc(0x23a)](_0x29fecc(0x229))['to'](_0x7c687b,_0x29fecc(0x229)),this[_0x29fecc(0x247)](_0x29fecc(0x1ff),_0x20017a[_0x29fecc(0x1ff)]||{}),this[_0x29fecc(0x23a)](_0x29fecc(0x292))['to'](_0x4643c2,_0x29fecc(0x29d),()=>{const _0x5f48f3=_0x29fecc,_0x21655b=_0x4643c2[_0x5f48f3(0x235)](_0x7c687b[_0x5f48f3(0x1d5)])[_0x5f48f3(0x254)],_0x2e37ef=_0x4643c2[_0x5f48f3(0x235)](_0x7c687b[_0x5f48f3(0x1d5)])[_0x5f48f3(0x248)];return _0xc39407&&_0x21655b||!_0xc39407&&_0x2e37ef;}),this[_0x29fecc(0x23a)](_0x29fecc(0x1f9))['to'](_0x7c687b,_0x29fecc(0x1f9),_0x4643c2,_0x29fecc(0x29d),_0x5573a0=>{const _0xd5cab3=_0x29fecc,_0x5b50e2=_0x4643c2[_0xd5cab3(0x235)](_0x7c687b[_0xd5cab3(0x1d5)])[_0xd5cab3(0x254)],_0x589a16=_0x4643c2[_0xd5cab3(0x235)](_0x7c687b[_0xd5cab3(0x1d5)])[_0xd5cab3(0x248)];return _0xc39407&&_0x5b50e2||_0x5573a0&&_0x27a44f||!_0xc39407&&_0x589a16&&!_0x27a44f;}),this[_0x29fecc(0x23a)](_0x29fecc(0x2a3))['to'](_0x7c687b,_0x29fecc(0x2a3)),this[_0x29fecc(0x204)]=_0x4643c2;}get[_0x4c986c(0x1cf)](){const _0x3bea6d=_0x4c986c;return Math[_0x3bea6d(0x211)](function(_0x30a5ef){const _0x336cb5=_0x3bea6d,_0x5525be=document[_0x336cb5(0x260)](_0x336cb5(0x1e9));return _0x5525be[_0x336cb5(0x293)]=_0x30a5ef,_0x5525be[_0x336cb5(0x267)][_0x336cb5(0x245)];}(this[_0x3bea6d(0x24d)]),0xc8);}[_0x4c986c(0x205)](_0x3bded5){const _0x4875e2=_0x4c986c,{threadId:_0x4dba49,id:_0x1f2bd0}=this;if(!this[_0x4875e2(0x204)][_0x4875e2(0x22b)](_0x4dba49))throw new _0x3b9ff2(_0x4875e2(0x27c),this);const {channelId:_0x503333}=this[_0x4875e2(0x204)][_0x4875e2(0x224)](_0x4dba49);this[_0x4875e2(0x204)][_0x4875e2(0x225)](bt(_0x4875e2(0x1e0),_0x503333,_0x4dba49),{'channelId':_0x503333,'threadId':_0x4dba49,'commentId':_0x1f2bd0,..._0x3bded5});}[_0x4c986c(0x243)](_0x3f528d,_0x5262bb){const _0x301dbb=_0x4c986c,_0x54b005=_0x1c0ff5(this[_0x301dbb(0x1ff)]);_0x130d58(_0x54b005,_0x3f528d,_0x5262bb),this[_0x301dbb(0x205)]({'attributes':_0x54b005});}[_0x4c986c(0x284)](_0x4a7190){const _0xe70945=_0x4c986c,_0x33cdf9=_0x1c0ff5(this[_0xe70945(0x1ff)]);_0x2ee9b6(_0x33cdf9,_0x4a7190),this[_0xe70945(0x205)]({'attributes':_0x33cdf9});}[_0x4c986c(0x2a8)](_0x15484e={}){const _0x5cc21d=_0x4c986c;if(!_0x15484e[_0x5cc21d(0x23c)]&&!this[_0x5cc21d(0x1f9)])return;const {threadId:_0xc34ee7,id:_0x41f487}=this;if(!this[_0x5cc21d(0x204)][_0x5cc21d(0x22b)](_0xc34ee7))throw new _0x3b9ff2(_0x5cc21d(0x29e),this);const {channelId:_0x379ac9}=this[_0x5cc21d(0x204)][_0x5cc21d(0x224)](_0xc34ee7);this[_0x5cc21d(0x204)][_0x5cc21d(0x225)](bt(_0x5cc21d(0x22d),_0x379ac9,_0xc34ee7),{'channelId':_0x379ac9,'threadId':_0xc34ee7,'commentId':_0x41f487,..._0x15484e});}[_0x4c986c(0x26b)](){const _0x16b260=_0x4c986c;return{'commentId':this['id'],'content':this[_0x16b260(0x24d)],'createdAt':this[_0x16b260(0x232)],'authorId':this[_0x16b260(0x28d)]['id'],'attributes':this[_0x16b260(0x1ff)]};}[_0x4c986c(0x22e)](){const _0xa3c98b=_0x4c986c;this[_0xa3c98b(0x24e)]();}}function bt(_0x3ff30f,..._0x336fd7){for(const _0xe6d06c of _0x336fd7)void 0x0!==_0xe6d06c&&(_0x3ff30f+=':'+String(_0xe6d06c));return _0x3ff30f;}