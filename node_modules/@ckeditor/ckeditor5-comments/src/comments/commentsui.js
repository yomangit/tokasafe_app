/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
function _0x8af7(_0x133cfd,_0x4c1f4c){const _0x403b3d=_0x403b();return _0x8af7=function(_0x8af733,_0x5785bb){_0x8af733=_0x8af733-0xe0;let _0x3b974d=_0x403b3d[_0x8af733];return _0x3b974d;},_0x8af7(_0x133cfd,_0x4c1f4c);}function _0x403b(){const _0x406665=['isPremiumPlugin','_threadToController','comment','menuBar:comment','evaluationLimit','componentFactory','commentsLicenseKeyEvaluationLimit','init','destroy','licenseKey','976547PskFZZ','376hwLLIU','commentsLicenseKeyExpired','listenTo','from','1402504hneZCa','stop','model','isEnabled','expired','featureNotAllowed','has','CommentsListView','commentsLicenseKeyNotAllowed','editing','set','domainLimit','pluginName','locale','commentsLicenseKeyValid','_viewToController','_showLicenseError','map','change:activeAnnotations','1yuTxZQ','2580800KvKzkv','hasCommentThread','commentsLicenseKeyInvalid','CommentThreadInputView','isOfficialPlugin','Comment','tooltip','_createUIButton','focus','add','view','get','execute','33159vvmTGa','plugins','find','usageLimit','commentsLicenseKeyUsageLimit','commentsLicenseKeyDomainLimit','commentsLicenseKeyDevelopmentLimit','invalid','isFocused','getCommentThread','6PmWOsq','editor','comment:','activeMarker','highest','hasMarkerForId','trialLimit','bind','getRange','focusTracker','requires','2309724xjzYii','Comments','addComment','removeCommentThread','130CiFxCu','developmentLimit','addSourceCollector','getAllMarkersForId','1305394cvyIqK','commands','innerView','5038767lnHCaZ','low','push','config','CommentsUI','commentsLicenseKeyTrialLimit','length','addCommentThread','_licenseKeyCheckInterval'];_0x403b=function(){return _0x406665;};return _0x403b();}const _0x2bc198=_0x8af7;(function(_0x355568,_0x542587){const _0x238441=_0x8af7,_0x6b84a9=_0x355568();while(!![]){try{const _0x57fa78=parseInt(_0x238441(0xff))/0x1*(parseInt(_0x238441(0x12a))/0x2)+parseInt(_0x238441(0x117))/0x3*(parseInt(_0x238441(0xec))/0x4)+-parseInt(_0x238441(0x100))/0x5+parseInt(_0x238441(0x122))/0x6+-parseInt(_0x238441(0x10d))/0x7*(parseInt(_0x238441(0xe8))/0x8)+parseInt(_0x238441(0x12d))/0x9+-parseInt(_0x238441(0x126))/0xa*(parseInt(_0x238441(0xe7))/0xb);if(_0x57fa78===_0x542587)break;else _0x6b84a9['push'](_0x6b84a9['shift']());}catch(_0x127ff6){_0x6b84a9['push'](_0x6b84a9['shift']());}}}(_0x403b,0x6316a));import{Plugin as _0x4a6d16}from'ckeditor5/src/core.js';import _0x352a03 from'./commentsrepository.js';import _0x1c526c from'./commentsediting.js';import _0x38efce from'../annotations/editorannotations.js';import{ButtonView as _0x19812c,MenuBarMenuListItemButtonView as _0x13a064}from'ckeditor5/src/ui.js';import _0x15602d from'../../theme/icons/add-comment.svg';import _0x3b9e28 from'../annotations/annotations.js';import _0x3c263e from'./ui/view/commentslistview.js';import _0x5abec5 from'./ui/view/commentthreadinputview.js';import{getTranslation as _0x5ceef5}from'../utils/common-translations.js';export default class i extends _0x4a6d16{static get[_0x2bc198(0xf8)](){const _0x410c49=_0x2bc198;return _0x410c49(0x131);}static get[_0x2bc198(0x104)](){return!0x0;}static get[_0x2bc198(0x136)](){return!0x0;}static get[_0x2bc198(0x121)](){return[_0x352a03,_0x1c526c,_0x38efce,_0x3b9e28];}get[_0x2bc198(0xf3)](){return _0x3c263e;}get[_0x2bc198(0x103)](){return _0x5abec5;}[_0x2bc198(0xe4)](){const _0x21fbfa=_0x2bc198,_0x450136=this[_0x21fbfa(0x118)],_0x5a89ae=_0x450136[_0x21fbfa(0x10e)][_0x21fbfa(0x10b)](_0x352a03),_0x36b66e=_0x450136[_0x21fbfa(0x10e)][_0x21fbfa(0x10b)](_0x1c526c),_0x17f225=_0x450136[_0x21fbfa(0x10e)][_0x21fbfa(0x10b)](_0x3b9e28),_0x21d1af=_0x450136[_0x21fbfa(0x10e)][_0x21fbfa(0x10b)](_0x38efce);_0x450136['ui'][_0x21fbfa(0xe2)][_0x21fbfa(0x109)](_0x21fbfa(0x138),()=>{const _0x216034=_0x21fbfa,_0x574c18=this[_0x216034(0x107)](_0x19812c);return _0x574c18[_0x216034(0x106)]=!0x0,_0x574c18;}),_0x450136['ui'][_0x21fbfa(0xe2)][_0x21fbfa(0x109)](_0x21fbfa(0xe0),()=>this[_0x21fbfa(0x107)](_0x13a064)),_0x21d1af[_0x21fbfa(0x128)](()=>{const _0x3a89cb=_0x21fbfa,_0x171047=[];for(const [_0x352f21,_0x390656]of _0x5a89ae[_0x3a89cb(0x137)]){const _0x49ee74=_0x36b66e[_0x3a89cb(0x129)](_0x352f21['id']),_0x150d04=_0x49ee74[_0x3a89cb(0xfd)](_0x5f4ce6=>_0x5f4ce6[_0x3a89cb(0x11f)]());_0x49ee74[_0x3a89cb(0x133)]>0x0&&_0x171047[_0x3a89cb(0x12f)]([_0x390656[_0x3a89cb(0x10a)],_0x150d04]);}return _0x171047;}),this[_0x21fbfa(0xea)](_0x17f225,_0x21fbfa(0xfe),(_0x4936ab,_0x14eb6a,_0xe8a45f)=>{const _0x3a850f=_0x21fbfa,_0x7acdcd=Array[_0x3a850f(0xeb)](_0xe8a45f)[_0x3a850f(0xfd)](_0x57e4c3=>_0x57e4c3[_0x3a850f(0x12c)])[_0x3a850f(0x10f)](_0x47141f=>_0x5a89ae[_0x3a850f(0xfb)][_0x3a850f(0xf2)](_0x47141f));if(!_0x7acdcd)return void(_0x36b66e[_0x3a850f(0x11a)]=null);const _0x4f0245=_0x5a89ae[_0x3a850f(0xfb)][_0x3a850f(0x10b)](_0x7acdcd)[_0x3a850f(0xee)]['id'],_0x1e4dba=_0x3a850f(0x119)+_0x4f0245;_0x4f0245&&_0x36b66e[_0x3a850f(0x11c)](_0x4f0245)?_0x36b66e[_0x3a850f(0x11a)]=_0x1e4dba:_0x36b66e[_0x3a850f(0x11a)]&&(_0x36b66e[_0x3a850f(0x11a)]=null);}),this[_0x21fbfa(0xea)](_0x5a89ae,_0x21fbfa(0x125),(_0x5d4a33,{threadId:_0x2e437e,isFromAdapter:_0x5d07e8})=>{const _0x279984=_0x21fbfa;!_0x5d07e8&&_0x450136['ui'][_0x279984(0x120)][_0x279984(0x115)]&&_0x36b66e[_0x279984(0x11c)](_0x2e437e)&&_0x450136[_0x279984(0xf5)][_0x279984(0x10a)][_0x279984(0x108)]();},{'priority':_0x21fbfa(0x11b)}),this[_0x21fbfa(0xea)](_0x5a89ae,_0x21fbfa(0x124),(_0x1389c4,{threadId:_0x49d762,isFromAdapter:_0x6e2d3f})=>{const _0x37d7fd=_0x21fbfa;if(_0x6e2d3f||!_0x36b66e[_0x37d7fd(0x11c)](_0x49d762)||!_0x5a89ae[_0x37d7fd(0x101)](_0x49d762))return;0x1===_0x5a89ae[_0x37d7fd(0x116)](_0x49d762)[_0x37d7fd(0x133)]&&(_0x450136[_0x37d7fd(0xf5)][_0x37d7fd(0x10a)][_0x37d7fd(0x108)](),_0x1389c4[_0x37d7fd(0xed)]());},{'priority':_0x21fbfa(0x12e)}),this[_0x21fbfa(0xe6)]=this[_0x21fbfa(0x118)][_0x21fbfa(0x130)][_0x21fbfa(0x10b)](_0x21fbfa(0xe6));const _0x11ec91=this[_0x21fbfa(0x118)];this[_0x21fbfa(0x135)]=setInterval(()=>{const _0x3837dc=_0x21fbfa;let _0xd1026e;for(const _0x1c8963 in _0x11ec91){const _0x324be4=_0x1c8963,_0x1a7d22=_0x11ec91[_0x324be4];if(_0x3837dc(0xfa)==_0x1a7d22||_0x3837dc(0x102)==_0x1a7d22||_0x3837dc(0xe9)==_0x1a7d22||_0x3837dc(0x112)==_0x1a7d22||_0x3837dc(0xf4)==_0x1a7d22||_0x3837dc(0xe3)==_0x1a7d22||_0x3837dc(0x132)==_0x1a7d22||_0x3837dc(0x113)==_0x1a7d22||_0x3837dc(0x111)==_0x1a7d22){delete _0x11ec91[_0x324be4],_0xd1026e=_0x1a7d22,clearInterval(this[_0x3837dc(0x135)]),this[_0x3837dc(0x135)]=void 0x0;break;}}_0x3837dc(0x102)==_0xd1026e&&_0x11ec91[_0x3837dc(0xfc)](_0x3837dc(0x114)),_0x3837dc(0xe9)==_0xd1026e&&_0x11ec91[_0x3837dc(0xfc)](_0x3837dc(0xf0)),_0x3837dc(0x112)==_0xd1026e&&_0x11ec91[_0x3837dc(0xfc)](_0x3837dc(0xf7)),_0x3837dc(0xf4)==_0xd1026e&&_0x11ec91[_0x3837dc(0xfc)](_0x3837dc(0xf1),_0x3837dc(0x123)),_0x3837dc(0xe3)==_0xd1026e&&_0x11ec91[_0x3837dc(0xfc)](_0x3837dc(0xe1)),_0x3837dc(0x132)==_0xd1026e&&_0x11ec91[_0x3837dc(0xfc)](_0x3837dc(0x11d)),_0x3837dc(0x113)==_0xd1026e&&_0x11ec91[_0x3837dc(0xfc)](_0x3837dc(0x127)),_0x3837dc(0x111)==_0xd1026e&&_0x11ec91[_0x3837dc(0xfc)](_0x3837dc(0x110));},0x3e8);}[_0x2bc198(0xe5)](){const _0x5c4b36=_0x2bc198;super[_0x5c4b36(0xe5)](),this[_0x5c4b36(0x135)]&&clearInterval(this[_0x5c4b36(0x135)]);}[_0x2bc198(0x107)](_0x5a9c2d){const _0x808fba=_0x2bc198,_0x50afb0=this[_0x808fba(0x118)],_0x30e6f0=new _0x5a9c2d(_0x50afb0[_0x808fba(0xf9)]),_0x568886=_0x50afb0[_0x808fba(0x12b)][_0x808fba(0x10b)](_0x808fba(0x134));return _0x30e6f0[_0x808fba(0xf6)]({'label':_0x5ceef5(_0x50afb0[_0x808fba(0xf9)],_0x808fba(0x105)),'icon':_0x15602d}),_0x30e6f0[_0x808fba(0x11e)](_0x808fba(0xef))['to'](_0x568886),this[_0x808fba(0xea)](_0x30e6f0,_0x808fba(0x10c),()=>_0x568886[_0x808fba(0x10c)]()),_0x30e6f0;}}