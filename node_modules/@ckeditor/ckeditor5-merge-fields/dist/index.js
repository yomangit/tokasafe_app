/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Command as _0x390d04,Plugin as _0x30f9ef}from'@ckeditor/ckeditor5-core/dist/index.js';import{findOptimalInsertionRange as _0x2b7c09,viewToModelPositionOutsideModelElement as _0x1b234c,toWidget as _0x33787f,Widget as _0x2707f4}from'@ckeditor/ckeditor5-widget/dist/index.js';import{IconView as _0x4dbcb8,ListView as _0x11a3c2,filterGroupAndItemNames as _0x198698,View as _0x3683fb,ContextualBalloon as _0x33822e,MenuBarMenuView as _0x6a9456,MenuBarMenuListView as _0x4f2a9f,MenuBarMenuListItemView as _0x11cd48,ViewModel as _0x5886b1,createDropdown as _0x333bf8,addListToDropdown as _0x3eedcc,MenuBarMenuListItemButtonView as _0xe1a735,ListItemGroupView as _0x40e0ea,LabelWithHighlightView as _0x3d855d,ListItemView as _0x5c91df,ButtonLabelWithHighlightView as _0x452a05,ButtonView as _0x13857a,SearchTextView as _0x3519c6}from'@ckeditor/ckeditor5-ui/dist/index.js';import{isParagraphable as _0x33cf52,wrapInParagraph as _0x204de3}from'@ckeditor/ckeditor5-engine/dist/index.js';import{logWarning as _0x2d903a,CKEditorError as _0x19d9df,uid as _0x53b452,Collection as _0x1d5ba7}from'@ckeditor/ckeditor5-utils/dist/index.js';import{cloneDeep as _0x5aeb54}from'lodash-es';class r extends _0x390d04{['refresh'](){const _0x5c64c2=this['editor']['model'],_0x44ea9f=_0x5c64c2['schema']['checkChild'](_0x5c64c2['document']['selection']['focus'],'mergeField');this['isEnabled']=_0x44ea9f;}['execute'](_0x2121f5){if(!_0x2121f5||'string'!=typeof _0x2121f5)return;const _0x36d3df=this['editor']['model'];_0x36d3df['change'](_0xb8190d=>{_0x36d3df['deleteContent'](_0x36d3df['document']['selection']);const _0x104296=_0xb8190d['createElement']('mergeField',{'id':_0x2121f5});for(const [_0x137f22,_0x477d9e]of _0x36d3df['document']['selection']['getAttributes']())_0x36d3df['schema']['checkAttribute'](_0x104296,_0x137f22)&&_0xb8190d['setAttribute'](_0x137f22,_0x477d9e,_0x104296);_0x36d3df['insertContent'](_0x104296,_0x36d3df['document']['selection'],0x0,{'setSelection':'after'});});}}class i extends _0x390d04{['refresh'](){const _0x26559d=this['editor']['model'],_0x2b528a=_0x26559d['document']['selection'];this['isEnabled']=function(_0xe11943,_0x45cfa7){const _0x1f4690=_0x2b7c09(_0xe11943,_0x45cfa7);let _0x47aa6f=_0x1f4690['start']['parent'];return _0x47aa6f['isEmpty']&&!_0x45cfa7['schema']['isLimit'](_0x47aa6f)&&(_0x47aa6f=_0x47aa6f['parent']),_0x45cfa7['schema']['checkChild'](_0x47aa6f,'mergeFieldBlock');}(_0x2b528a,_0x26559d);}['execute'](_0x2c0aee,_0x34f8ce){if(!_0x2c0aee||'string'!=typeof _0x2c0aee)return;const _0x566416=this['editor']['model'];_0x566416['change'](_0x346459=>{const _0xe607bb=_0x346459['createElement']('mergeFieldBlock',{'id':_0x2c0aee});_0x566416['insertObject'](_0xe607bb,_0x566416['document']['selection'],null,{'setSelection':'on','findOptimalPosition':!0x1===_0x34f8ce?void 0x0:'auto'});});}}class p extends _0x390d04{constructor(_0x3487f5){super(_0x3487f5);const _0x249d7a=this['editor']['plugins']['get']('MergeFieldsEditing');this['bind']('value')['to'](_0x249d7a,'previewMode'),this['affectsData']=!0x1;}['refresh'](){this['isEnabled']=!0x0;}['execute'](_0x293fa0){this['editor']['plugins']['get']('MergeFieldsEditing')['previewMode']=_0x293fa0;}}class g extends _0x30f9ef{static get['pluginName'](){return'MergeFieldsEditing';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}constructor(_0x21f604){super(_0x21f604),this['flattenedMergeFieldDefinitions']=[],_0x21f604['config']['define']('mergeFields.previewModes',['$labels','$defaultValues','$dataSets']),_0x21f604['config']['define']('mergeFields.dataSets',[]),_0x21f604['config']['define']('mergeFields.definitions',[]),_0x21f604['config']['define']('mergeFields.prefix','{{'),_0x21f604['config']['define']('mergeFields.suffix','}}'),_0x21f604['config']['define']('mergeFields.previewHtmlValues',!0x1),_0x21f604['config']['define']('mergeFields.sanitizeHtml',_0x185d46=>(_0x2d903a('merge-fields-provide-sanitize-function'),{'html':_0x185d46,'hasChanged':!0x1})),this['_mergeFieldPrefix']=_0x21f604['config']['get']('mergeFields.prefix'),this['_mergeFieldSuffix']=_0x21f604['config']['get']('mergeFields.suffix'),this['_shouldPreviewHtmlValues']=_0x21f604['config']['get']('mergeFields.previewHtmlValues'),this['flattenedMergeFieldDefinitions']=this['_getFlattenedMergeFieldDefinitions'](),this['_validateConfig']();const _0x4c1f76='\x5c'+this['_mergeFieldPrefix']['split']('')['join']('\x5c'),_0x576320='\x5c'+this['_mergeFieldSuffix']['split']('')['join']('\x5c');this['_mergeFieldRegExp']=new RegExp('('+_0x4c1f76+'[^'+(_0x4c1f76+_0x576320)+'\x20]+'+_0x576320+')','g'),this['availablePreviewModes']=this['_getAvailablePreviewModes']();const _0x11f294=_0x21f604['config']['get']('mergeFields.initialPreviewMode')||this['availablePreviewModes'][0x0];this['_validatePreviewMode'](_0x11f294),this['set']('previewMode',_0x11f294),this['_mergeFieldElements']=new Set();}['init'](){const _0x3731fd=this['editor'];_0x3731fd['commands']['add']('insertMergeField',new r(_0x3731fd)),_0x3731fd['commands']['add']('insertMergeFieldBlock',new i(_0x3731fd)),_0x3731fd['commands']['add']('previewMergeFields',new p(_0x3731fd)),this['_defineSchema'](),this['_defineConverters'](),this['on']('change:previewMode',(_0x28d3e1,_0x2ceee2,_0x10de38)=>{this['_validatePreviewMode'](_0x10de38),this['_refreshMergeFields']();}),this['listenTo'](_0x3731fd['model']['document'],'change:data',()=>{this['_trackAddedMergeFields']();}),_0x3731fd['editing']['mapper']['on']('viewToModelPosition',_0x1b234c(_0x3731fd['model'],_0x3f5442=>_0x3f5442['hasClass']('ck-merge-field'))),_0x3731fd['editing']['mapper']['on']('viewToModelPosition',_0x1b234c(_0x3731fd['model'],_0x524c09=>_0x524c09['hasClass']('ck-merge-field-block'))),this['_registerConversionPostFixer'](),_0x3731fd['editing']['view']['domConverter']['registerInlineObjectMatcher']({'name':'span','classes':['ck-merge-field']});}['afterInit'](){!async function(_0x127a04){const _0x19402b=_0x1f2b31([0x5a,0x38,0x41,0x4c,0x43,0x77,0x6f,0x56,0x32,0x4b,0x73,0x4a,0x58,0x67,0x71,0x75,0x35,0x53,0x31,0x49,0x55,0x6b,0x30,0x52,0x45,0x6a,0x39,0x69,0x33,0x61,0x62,0x6d,0x63,0x4e,0x44,0x72,0x74,0x34,0x54,0x6e,0x42,0x4d,0x59,0x78,0x64,0x47,0x37,0x50,0x68,0x6c,0x51,0x7a,0x79,0x48,0x57,0x66,0x70,0x4f,0x46,0x36,0x65,0x76]),_0x4846dd=0x75e341b3,_0x5478c1=0x75e4186b^_0x4846dd,_0x2b4621=window[_0x1f2b31([0x44,0x61,0x74,0x65])][_0x1f2b31([0x6e,0x6f,0x77])](),_0x51ccf8=_0x127a04[_0x1f2b31([0x65,0x64,0x69,0x74,0x6f,0x72])],_0x18b24c=new window[(_0x1f2b31([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0x11eed2=>{_0x51ccf8[_0x1f2b31([0x6f,0x6e,0x63,0x65])](_0x1f2b31([0x72,0x65,0x61,0x64,0x79]),_0x11eed2);}),_0x53fc4e={[_0x1f2b31([0x6b,0x74,0x79])]:_0x1f2b31([0x45,0x43]),[_0x1f2b31([0x75,0x73,0x65])]:_0x1f2b31([0x73,0x69,0x67]),[_0x1f2b31([0x63,0x72,0x76])]:_0x1f2b31([0x50,0x2d,0x32,0x35,0x36]),[_0x1f2b31([0x78])]:_0x1f2b31([0x69,0x43,0x6a,0x4f,0x43,0x76,0x44,0x46,0x49,0x36,0x6c,0x51,0x48,0x48,0x54,0x31,0x38,0x6a,0x56,0x77,0x52,0x66,0x6b,0x66,0x48,0x51,0x32,0x61,0x5f,0x4d,0x79,0x6d,0x54,0x33,0x35,0x4c,0x51,0x56,0x6f,0x46,0x53,0x41,0x49]),[_0x1f2b31([0x79])]:_0x1f2b31([0x6b,0x58,0x49,0x79,0x4a,0x34,0x65,0x76,0x74,0x43,0x45,0x46,0x52,0x6d,0x78,0x4b,0x53,0x55,0x70,0x4b,0x39,0x66,0x44,0x57,0x34,0x35,0x39,0x76,0x58,0x4f,0x76,0x56,0x72,0x68,0x66,0x36,0x75,0x51,0x41,0x65,0x4f,0x69,0x6f]),[_0x1f2b31([0x61,0x6c,0x67])]:_0x1f2b31([0x45,0x53,0x32,0x35,0x36])},_0x3f55fc=_0x51ccf8[_0x1f2b31([0x63,0x6f,0x6e,0x66,0x69,0x67])][_0x1f2b31([0x67,0x65,0x74])](_0x1f2b31([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x4b,0x65,0x79]));async function _0x2f04f4(){let _0x5e8ceb,_0x2711f1=null,_0x60acb4=null;try{if(_0x3f55fc==_0x1f2b31([0x47,0x50,0x4c]))return _0x1f2b31([0x4e,0x6f,0x74,0x41,0x6c,0x6c,0x6f,0x77,0x65,0x64]);if(_0x5e8ceb=_0xd6db8(),!_0x5e8ceb)return _0x1f2b31([0x49,0x6e,0x76,0x61,0x6c,0x69,0x64]);return _0x5e8ceb[_0x1f2b31([0x75,0x73,0x61,0x67,0x65,0x45,0x6e,0x64,0x70,0x6f,0x69,0x6e,0x74])]&&(_0x60acb4=_0x3ee72d(_0x5e8ceb[_0x1f2b31([0x75,0x73,0x61,0x67,0x65,0x45,0x6e,0x64,0x70,0x6f,0x69,0x6e,0x74])],_0x5e8ceb[_0x1f2b31([0x6a,0x74,0x69])])),await _0xbfaca9()?_0x3d80e6()?_0x42aa65()?_0x1f2b31([0x45,0x78,0x70,0x69,0x72,0x65,0x64]):_0x597915()?(_0x5e8ceb[_0x1f2b31([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x54,0x79,0x70,0x65])]==_0x1f2b31([0x65,0x76,0x61,0x6c,0x75,0x61,0x74,0x69,0x6f,0x6e])&&(_0x2711f1=_0x7f765d(_0x1f2b31([0x45,0x76,0x61,0x6c,0x75,0x61,0x74,0x69,0x6f,0x6e,0x4c,0x69,0x6d,0x69,0x74]))),_0x5e8ceb[_0x1f2b31([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x54,0x79,0x70,0x65])]==_0x1f2b31([0x74,0x72,0x69,0x61,0x6c])&&(_0x2711f1=_0x7f765d(_0x1f2b31([0x54,0x72,0x69,0x61,0x6c,0x4c,0x69,0x6d,0x69,0x74]))),_0x5e8ceb[_0x1f2b31([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x54,0x79,0x70,0x65])]==_0x1f2b31([0x64,0x65,0x76,0x65,0x6c,0x6f,0x70,0x6d,0x65,0x6e,0x74])&&(_0x2711f1=_0x7f765d(_0x1f2b31([0x44,0x65,0x76,0x65,0x6c,0x6f,0x70,0x6d,0x65,0x6e,0x74,0x4c,0x69,0x6d,0x69,0x74]))),await _0x31d815()):_0x1f2b31([0x44,0x6f,0x6d,0x61,0x69,0x6e,0x4c,0x69,0x6d,0x69,0x74]):_0x1f2b31([0x4e,0x6f,0x74,0x41,0x6c,0x6c,0x6f,0x77,0x65,0x64]):_0x1f2b31([0x49,0x6e,0x76,0x61,0x6c,0x69,0x64]);}catch(_0x2df26d){return _0x1f2b31([0x49,0x6e,0x76,0x61,0x6c,0x69,0x64]);}function _0x42aa65(){const _0x5df407=[_0x1f2b31([0x65,0x76,0x61,0x6c,0x75,0x61,0x74,0x69,0x6f,0x6e]),_0x1f2b31([0x74,0x72,0x69,0x61,0x6c])][_0x1f2b31([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x5e8ceb[_0x1f2b31([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x54,0x79,0x70,0x65])])?_0x2b4621/0x3e8:0xe10*_0x5478c1;return _0x5e8ceb[_0x1f2b31([0x65,0x78,0x70])]<_0x5df407;}function _0x3d80e6(){const _0x32fa17=_0x5e8ceb[_0x1f2b31([0x66,0x65,0x61,0x74,0x75,0x72,0x65,0x73])];return!!_0x32fa17&&(!!_0x32fa17[_0x1f2b31([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x1f2b31([0x2a]))||!!_0x32fa17[_0x1f2b31([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x1f2b31([0x4d,0x46])));}function _0x597915(){const _0x559ab1=_0x5e8ceb[_0x1f2b31([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x64,0x48,0x6f,0x73,0x74,0x73])];if(!_0x559ab1||0x0==_0x559ab1[_0x1f2b31([0x6c,0x65,0x6e,0x67,0x74,0x68])])return!0x0;const {hostname:_0x238358}=new URL(window[_0x1f2b31([0x6c,0x6f,0x63,0x61,0x74,0x69,0x6f,0x6e])]['href']);if(_0x559ab1[_0x1f2b31([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x238358))return!0x0;const _0x4dcf59=_0x238358[_0x1f2b31([0x73,0x70,0x6c,0x69,0x74])](_0x1f2b31([0x2e]));return _0x559ab1[_0x1f2b31([0x66,0x69,0x6c,0x74,0x65,0x72])](_0x5048f0=>_0x5048f0[_0x1f2b31([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x1f2b31([0x2a])))[_0x1f2b31([0x6d,0x61,0x70])](_0x38d7b0=>_0x38d7b0[_0x1f2b31([0x73,0x70,0x6c,0x69,0x74])](_0x1f2b31([0x2e])))[_0x1f2b31([0x73,0x6f,0x6d,0x65])](_0x47a01d=>_0x4dcf59[_0x1f2b31([0x65,0x76,0x65,0x72,0x79])]((_0xfbaa3d,_0x592a43)=>_0x47a01d[_0x592a43]===_0xfbaa3d||_0x47a01d[_0x592a43]===_0x1f2b31([0x2a])));}function _0x31d815(){return _0x2711f1&&_0x60acb4?new window[(_0x1f2b31([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))]((_0x3930e9,_0x2a7dfd)=>{_0x2711f1[_0x1f2b31([0x74,0x68,0x65,0x6e])](_0x3930e9,_0x2a7dfd),_0x60acb4[_0x1f2b31([0x74,0x68,0x65,0x6e])](_0x89e26c=>{_0x89e26c!=_0x1f2b31([0x56,0x61,0x6c,0x69,0x64])&&_0x3930e9(_0x89e26c);},_0x2a7dfd);}):_0x2711f1||_0x60acb4||_0x1f2b31([0x56,0x61,0x6c,0x69,0x64]);}}function _0x3ee72d(_0x2c1262,_0x3616e4){return new window[(_0x1f2b31([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0x17b952=>{if(_0x48b181())return _0x17b952(_0x1f2b31([0x56,0x61,0x6c,0x69,0x64]));_0x5b872f(),_0x51ccf8[_0x1f2b31([0x64,0x65,0x63,0x6f,0x72,0x61,0x74,0x65])](_0x1f2b31([0x5f,0x73,0x65,0x6e,0x64,0x55,0x73,0x61,0x67,0x65,0x52,0x65,0x71,0x75,0x65,0x73,0x74]));let _0x5c5fe2=!0x1;const _0x4b765c=_0x53b452();function _0x820c73(_0x2ed1f9){return!!_0x2ed1f9&&(typeof _0x2ed1f9===_0x1f2b31([0x6f,0x62,0x6a,0x65,0x63,0x74])||typeof _0x2ed1f9===_0x1f2b31([0x66,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e]))&&typeof _0x2ed1f9[_0x1f2b31([0x74,0x68,0x65,0x6e])]===_0x1f2b31([0x66,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e])&&typeof _0x2ed1f9[_0x1f2b31([0x63,0x61,0x74,0x63,0x68])]===_0x1f2b31([0x66,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e]);}function _0x36ed1a(_0x43f862){_0x1024da(_0x43f862)[_0x1f2b31([0x74,0x68,0x65,0x6e])](_0x1d0fa2=>{if(!_0x1d0fa2||_0x1d0fa2[_0x1f2b31([0x73,0x74,0x61,0x74,0x75,0x73])]!=_0x1f2b31([0x6f,0x6b]))return _0x1f2b31([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]);return _0x1f52cb(_0x3e1a58(_0x4b765c+_0x3616e4))!=_0x1d0fa2[_0x1f2b31([0x76,0x65,0x72,0x69,0x66,0x69,0x63,0x61,0x74,0x69,0x6f,0x6e])]?_0x1f2b31([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]):_0x1f2b31([0x56,0x61,0x6c,0x69,0x64]);})[_0x1f2b31([0x74,0x68,0x65,0x6e])](_0xd2ad4b=>(_0x40e846(),_0xd2ad4b),()=>{const _0x358035=_0x6166f7();return null==_0x358035?(_0x40e846(),_0x1f2b31([0x56,0x61,0x6c,0x69,0x64])):_0x1f2b31(_0x2b4621-_0x358035>(0x51efc5b3^_0x4846dd)?[0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]:[0x56,0x61,0x6c,0x69,0x64]);})[_0x1f2b31([0x74,0x68,0x65,0x6e])](_0x17b952)[_0x1f2b31([0x63,0x61,0x74,0x63,0x68])](()=>{_0x17b952(_0x1f2b31([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]));});const _0x406204=0x75d5af33^_0x4846dd;function _0x40e846(){const _0xa0841e=_0x1f2b31([0x6c,0x6c,0x63,0x74,0x2d])+_0x1f52cb(_0x3e1a58(_0x2c1262)),_0x271f15=_0x4f92e7(_0x1f52cb(window[_0x1f2b31([0x4d,0x61,0x74,0x68])][_0x1f2b31([0x63,0x65,0x69,0x6c])](_0x2b4621/_0x406204)));window[_0x1f2b31([0x6c,0x6f,0x63,0x61,0x6c,0x53,0x74,0x6f,0x72,0x61,0x67,0x65])][_0x1f2b31([0x73,0x65,0x74,0x49,0x74,0x65,0x6d])](_0xa0841e,_0x271f15);}function _0x6166f7(){const _0x2f03dd=_0x1f2b31([0x6c,0x6c,0x63,0x74,0x2d])+_0x1f52cb(_0x3e1a58(_0x2c1262)),_0x81eb20=window[_0x1f2b31([0x6c,0x6f,0x63,0x61,0x6c,0x53,0x74,0x6f,0x72,0x61,0x67,0x65])][_0x1f2b31([0x67,0x65,0x74,0x49,0x74,0x65,0x6d])](_0x2f03dd);return _0x81eb20?window[_0x1f2b31([0x70,0x61,0x72,0x73,0x65,0x49,0x6e,0x74])](_0x4f92e7(_0x81eb20),0x10)*_0x406204:null;}function _0x1024da(_0x1a6c24){return new window[(_0x1f2b31([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))]((_0x4f7344,_0x19d6c8)=>{_0x1a6c24[_0x1f2b31([0x74,0x68,0x65,0x6e])](_0x4f7344,_0x19d6c8),window[_0x1f2b31([0x73,0x65,0x74,0x54,0x69,0x6d,0x65,0x6f,0x75,0x74])](_0x19d6c8,0x75e29573^_0x4846dd);});}}_0x51ccf8[_0x1f2b31([0x6f,0x6e])](_0x1f2b31([0x5f,0x73,0x65,0x6e,0x64,0x55,0x73,0x61,0x67,0x65,0x52,0x65,0x71,0x75,0x65,0x73,0x74]),(_0x326c2a,_0x136415)=>{if(_0x136415[0x0]!=_0x2c1262)return _0x17b952(_0x1f2b31([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]));_0x136415[0x1]={..._0x136415[0x1],[_0x1f2b31([0x72,0x65,0x71,0x75,0x65,0x73,0x74,0x49,0x64])]:_0x4b765c};},{[_0x1f2b31([0x70,0x72,0x69,0x6f,0x72,0x69,0x74,0x79])]:_0x1f2b31([0x68,0x69,0x67,0x68])}),_0x51ccf8[_0x1f2b31([0x6f,0x6e])](_0x1f2b31([0x5f,0x73,0x65,0x6e,0x64,0x55,0x73,0x61,0x67,0x65,0x52,0x65,0x71,0x75,0x65,0x73,0x74]),_0x9fe699=>{_0x820c73(_0x9fe699[_0x1f2b31([0x72,0x65,0x74,0x75,0x72,0x6e])])&&(_0x5c5fe2=!0x0,_0x36ed1a(_0x9fe699[_0x1f2b31([0x72,0x65,0x74,0x75,0x72,0x6e])]));},{[_0x1f2b31([0x70,0x72,0x69,0x6f,0x72,0x69,0x74,0x79])]:_0x1f2b31([0x6c,0x6f,0x77])}),_0x18b24c[_0x1f2b31([0x74,0x68,0x65,0x6e])](()=>{_0x5c5fe2||_0x17b952(_0x1f2b31([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]));});});function _0x48b181(){return _0x51ccf8[_0x1f2b31([0x65,0x64,0x69,0x74,0x69,0x6e,0x67])][_0x1f2b31([0x76,0x69,0x65,0x77])][_0x1f2b31([0x5f,0x6f,0x76,0x65,0x72,0x6c,0x61,0x79,0x4d,0x6f,0x64,0x65,0x48,0x69,0x6e,0x74])]==_0x1f2b31([0x61,0x75,0x74,0x6f]);}function _0x5b872f(){_0x51ccf8[_0x1f2b31([0x65,0x64,0x69,0x74,0x69,0x6e,0x67])][_0x1f2b31([0x76,0x69,0x65,0x77])][_0x1f2b31([0x5f,0x6f,0x76,0x65,0x72,0x6c,0x61,0x79,0x4d,0x6f,0x64,0x65,0x48,0x69,0x6e,0x74])]=_0x1f2b31([0x61,0x75,0x74,0x6f]);}}function _0x7f765d(_0x332627){const _0xc70094=[new window[(_0x1f2b31([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0x210223=>setTimeout(_0x210223,0x75ea7f7f^_0x4846dd)),_0x18b24c[_0x1f2b31([0x74,0x68,0x65,0x6e])](()=>new window[(_0x1f2b31([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0x2c5505=>{let _0xf98502=0x0;_0x51ccf8[_0x1f2b31([0x6d,0x6f,0x64,0x65,0x6c])][_0x1f2b31([0x6f,0x6e])](_0x1f2b31([0x61,0x70,0x70,0x6c,0x79,0x4f,0x70,0x65,0x72,0x61,0x74,0x69,0x6f,0x6e]),(_0x2c5096,_0x586881)=>{_0x586881[0x0][_0x1f2b31([0x69,0x73,0x44,0x6f,0x63,0x75,0x6d,0x65,0x6e,0x74,0x4f,0x70,0x65,0x72,0x61,0x74,0x69,0x6f,0x6e])]&&_0xf98502++,_0xf98502==(0x75e3404b^_0x4846dd)&&(_0x2c5505(),_0x2c5096[_0x1f2b31([0x6f,0x66,0x66])]());});}))];return window[_0x1f2b31([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65])][_0x1f2b31([0x72,0x61,0x63,0x65])](_0xc70094)[_0x1f2b31([0x74,0x68,0x65,0x6e])](()=>_0x332627);}async function _0x188f1b(){await _0x18b24c,_0x51ccf8[_0x1f2b31([0x6d,0x6f,0x64,0x65,0x6c])][_0x1f2b31([0x63,0x68,0x61,0x6e,0x67,0x65])]=_0x3f257b,_0x51ccf8[_0x1f2b31([0x6d,0x6f,0x64,0x65,0x6c])][_0x1f2b31([0x65,0x6e,0x71,0x75,0x65,0x75,0x65,0x43,0x68,0x61,0x6e,0x67,0x65])]=_0x3f257b,_0x51ccf8[_0x1f2b31([0x65,0x6e,0x61,0x62,0x6c,0x65,0x52,0x65,0x61,0x64,0x4f,0x6e,0x6c,0x79,0x4d,0x6f,0x64,0x65])](_0x1f2b31([0x6d,0x6f,0x64,0x65,0x6c]));}function _0x4eab07(_0x4d01b9){const _0xf7dd40=_0x5820ef();_0x51ccf8[_0xf7dd40]=_0x1f2b31([0x6d,0x65,0x72,0x67,0x65,0x46,0x69,0x65,0x6c,0x64,0x73,0x4c,0x69,0x63,0x65,0x6e,0x73,0x65,0x4b,0x65,0x79])+_0x4d01b9,_0x4d01b9!=_0x1f2b31([0x56,0x61,0x6c,0x69,0x64])&&_0x188f1b();}function _0x5820ef(){const _0x205521=window[_0x1f2b31([0x53,0x74,0x72,0x69,0x6e,0x67])](window[_0x1f2b31([0x70,0x65,0x72,0x66,0x6f,0x72,0x6d,0x61,0x6e,0x63,0x65])][_0x1f2b31([0x6e,0x6f,0x77])]())[_0x1f2b31([0x72,0x65,0x70,0x6c,0x61,0x63,0x65])](_0x1f2b31([0x2e]),'');let _0x4ddd1c=_0x1f2b31([0x5a]);for(let _0x96fb22=0x0;_0x96fb22<_0x205521[_0x1f2b31([0x6c,0x65,0x6e,0x67,0x74,0x68])];_0x96fb22+=0x2){let _0x26cbf2=window[_0x1f2b31([0x70,0x61,0x72,0x73,0x65,0x49,0x6e,0x74])](_0x205521[_0x1f2b31([0x73,0x75,0x62,0x73,0x74,0x72,0x69,0x6e,0x67])](_0x96fb22,_0x96fb22+0x2));_0x26cbf2>=_0x19402b[_0x1f2b31([0x6c,0x65,0x6e,0x67,0x74,0x68])]&&(_0x26cbf2-=_0x19402b[_0x1f2b31([0x6c,0x65,0x6e,0x67,0x74,0x68])]),_0x4ddd1c+=_0x19402b[_0x26cbf2];}return _0x4ddd1c;}function _0xd6db8(){const _0x4159a7=_0x3f55fc[_0x1f2b31([0x73,0x70,0x6c,0x69,0x74])](_0x1f2b31([0x2e]));if(0x3!=_0x4159a7[_0x1f2b31([0x6c,0x65,0x6e,0x67,0x74,0x68])])return null;return _0x3042fc(_0x4159a7[0x1]);function _0x3042fc(_0x3cea91){const _0x22d658=_0x498b60(_0x3cea91);return _0x22d658&&_0x2d27c0()?_0x22d658:null;function _0x2d27c0(){const _0x37e2c8=_0x22d658[_0x1f2b31([0x6a,0x74,0x69])],_0xaf517c=window[_0x1f2b31([0x70,0x61,0x72,0x73,0x65,0x49,0x6e,0x74])](_0x37e2c8[_0x1f2b31([0x73,0x75,0x62,0x73,0x74,0x72,0x69,0x6e,0x67])](_0x37e2c8[_0x1f2b31([0x6c,0x65,0x6e,0x67,0x74,0x68])]-0x8),0x10),_0x33ed1c={..._0x22d658,[_0x1f2b31([0x6a,0x74,0x69])]:_0x37e2c8[_0x1f2b31([0x73,0x75,0x62,0x73,0x74,0x72,0x69,0x6e,0x67])](0x0,_0x37e2c8[_0x1f2b31([0x6c,0x65,0x6e,0x67,0x74,0x68])]-0x8)};return delete _0x33ed1c[_0x1f2b31([0x76,0x63])],_0x3e1a58(_0x33ed1c)==_0xaf517c;}}}async function _0xbfaca9(){let _0x2bca64=!0x0;try{const _0xae30df=_0x3f55fc[_0x1f2b31([0x73,0x70,0x6c,0x69,0x74])](_0x1f2b31([0x2e])),[_0x2a3df3,_0x4b2dcb,_0x1d0155]=_0xae30df;return _0x54a750(_0x2a3df3),await _0x2f2b73(_0x2a3df3,_0x4b2dcb,_0x1d0155),_0x2bca64;}catch(_0x157329){return!0x1;}function _0x54a750(_0x164b51){const _0x56680b=_0x498b60(_0x164b51);_0x56680b&&_0x56680b[_0x1f2b31([0x61,0x6c,0x67])]==_0x1f2b31([0x45,0x53,0x32,0x35,0x36])||(_0x2bca64=!0x1);}async function _0x2f2b73(_0x5cc0b9,_0x2c395d,_0xfb5943){const _0xc76c3b=window[_0x1f2b31([0x55,0x69,0x6e,0x74,0x38,0x41,0x72,0x72,0x61,0x79])][_0x1f2b31([0x66,0x72,0x6f,0x6d])](_0x2366d8(_0xfb5943),_0x37a13b=>_0x37a13b[_0x1f2b31([0x63,0x68,0x61,0x72,0x43,0x6f,0x64,0x65,0x41,0x74])](0x0)),_0x35371b=new window[(_0x1f2b31([0x54,0x65,0x78,0x74,0x45,0x6e,0x63,0x6f,0x64,0x65,0x72]))]()[_0x1f2b31([0x65,0x6e,0x63,0x6f,0x64,0x65])](_0x5cc0b9+_0x1f2b31([0x2e])+_0x2c395d),_0x63594a=window[_0x1f2b31([0x63,0x72,0x79,0x70,0x74,0x6f])][_0x1f2b31([0x73,0x75,0x62,0x74,0x6c,0x65])];if(!_0x63594a)return;const _0x5a0b96=await _0x63594a[_0x1f2b31([0x69,0x6d,0x70,0x6f,0x72,0x74,0x4b,0x65,0x79])](_0x1f2b31([0x6a,0x77,0x6b]),_0x53fc4e,{[_0x1f2b31([0x6e,0x61,0x6d,0x65])]:_0x1f2b31([0x45,0x43,0x44,0x53,0x41]),[_0x1f2b31([0x6e,0x61,0x6d,0x65,0x64,0x43,0x75,0x72,0x76,0x65])]:_0x1f2b31([0x50,0x2d,0x32,0x35,0x36])},!0x1,[_0x1f2b31([0x76,0x65,0x72,0x69,0x66,0x79])]);await _0x63594a[_0x1f2b31([0x76,0x65,0x72,0x69,0x66,0x79])]({[_0x1f2b31([0x6e,0x61,0x6d,0x65])]:_0x1f2b31([0x45,0x43,0x44,0x53,0x41]),[_0x1f2b31([0x68,0x61,0x73,0x68])]:{[_0x1f2b31([0x6e,0x61,0x6d,0x65])]:_0x1f2b31([0x53,0x48,0x41,0x2d,0x32,0x35,0x36])}},_0x5a0b96,_0xc76c3b,_0x35371b)||(_0x2bca64=!0x1);}}function _0x498b60(_0x5d534e){return _0x5d534e[_0x1f2b31([0x73,0x74,0x61,0x72,0x74,0x73,0x57,0x69,0x74,0x68])](_0x1f2b31([0x65,0x79]))?JSON[_0x1f2b31([0x70,0x61,0x72,0x73,0x65])](_0x2366d8(_0x5d534e)):null;}function _0x2366d8(_0x4130a3){return window[_0x1f2b31([0x61,0x74,0x6f,0x62])](_0x4130a3[_0x1f2b31([0x72,0x65,0x70,0x6c,0x61,0x63,0x65])](/-/g,_0x1f2b31([0x2b]))[_0x1f2b31([0x72,0x65,0x70,0x6c,0x61,0x63,0x65])](/_/g,_0x1f2b31([0x2f])));}function _0x3e1a58(_0xb47228){let _0x598f24=0x1505;function _0x31aedf(_0x217240){for(let _0xc90d97=0x0;_0xc90d97<_0x217240[_0x1f2b31([0x6c,0x65,0x6e,0x67,0x74,0x68])];_0xc90d97++){const _0x5956d6=_0x217240[_0x1f2b31([0x63,0x68,0x61,0x72,0x43,0x6f,0x64,0x65,0x41,0x74])](_0xc90d97);_0x598f24=(_0x598f24<<0x5)+_0x598f24+_0x5956d6,_0x598f24&=_0x598f24;}}function _0x505246(_0x51798b){Array[_0x1f2b31([0x69,0x73,0x41,0x72,0x72,0x61,0x79])](_0x51798b)?_0x51798b[_0x1f2b31([0x66,0x6f,0x72,0x45,0x61,0x63,0x68])](_0x505246):_0x51798b&&typeof _0x51798b==_0x1f2b31([0x6f,0x62,0x6a,0x65,0x63,0x74])?Object[_0x1f2b31([0x65,0x6e,0x74,0x72,0x69,0x65,0x73])](_0x51798b)[_0x1f2b31([0x73,0x6f,0x72,0x74])]()[_0x1f2b31([0x66,0x6f,0x72,0x45,0x61,0x63,0x68])](([_0x42d110,_0x3b028b])=>{_0x31aedf(_0x42d110),_0x505246(_0x3b028b);}):_0x31aedf(window[_0x1f2b31([0x53,0x74,0x72,0x69,0x6e,0x67])](_0x51798b));}return _0x505246(_0xb47228),_0x598f24>>>0x0;}function _0x1f52cb(_0x19c437){return _0x19c437[_0x1f2b31([0x74,0x6f,0x53,0x74,0x72,0x69,0x6e,0x67])](0x10)[_0x1f2b31([0x70,0x61,0x64,0x53,0x74,0x61,0x72,0x74])](0x8,_0x1f2b31([0x30]));}function _0x4f92e7(_0x2dc1bf){return _0x2dc1bf[_0x1f2b31([0x73,0x70,0x6c,0x69,0x74])]('')[_0x1f2b31([0x72,0x65,0x76,0x65,0x72,0x73,0x65])]()[_0x1f2b31([0x6a,0x6f,0x69,0x6e])]('');}function _0x3f257b(){}function _0x1f2b31(_0x3f4e9e){return _0x3f4e9e['map'](_0x2d79f4=>String['fromCharCode'](_0x2d79f4))['join']('');}_0x4eab07(await _0x2f04f4());}(this);}['getDefaultValues'](){const _0x2078bc={},_0x2327f4=this['getMergeFieldsIds']();for(const _0x1183d4 of _0x2327f4)_0x2078bc[_0x1183d4]=this['getMergeFieldDefaultValue'](_0x1183d4);return _0x2078bc;}['getDataSetValues'](_0x759cde,_0x306c18=!0x1){const _0x5c9fc5={},_0x39b8b=this['getMergeFieldsIds']();for(const _0x3297d7 of _0x39b8b){let _0x10a153=this['getMergeFieldValue'](_0x3297d7,_0x759cde);null===_0x10a153&&_0x306c18&&(_0x10a153=this['getMergeFieldDefaultValue'](_0x3297d7)),_0x5c9fc5[_0x3297d7]=_0x10a153;}return _0x5c9fc5;}['getLabel'](_0x1f3a61){const _0x353eec=this['getDefinition'](_0x1f3a61);return _0x353eec&&_0x353eec['label']?_0x353eec['label']:_0x1f3a61;}['getMergeFieldDefaultValue'](_0x57d4fe){const _0x18520f=this['getDefinition'](_0x57d4fe);if(!_0x18520f||void 0x0===_0x18520f['defaultValue'])return null;const _0x2aeb74='function'==typeof _0x18520f['defaultValue']?_0x18520f['defaultValue'](this['editor']):_0x18520f['defaultValue'];return String(_0x2aeb74);}['getMergeFieldValue'](_0x267b6e,_0x44b422){const _0x8e82ce=this['editor']['config']['get']('mergeFields.dataSets')['find'](_0x2e2e9d=>_0x2e2e9d['id']===_0x44b422);if(!_0x8e82ce)throw new _0x19d9df('merge-fields-data-set-not-found',null);const _0x83350c=_0x8e82ce['values'][_0x267b6e];if(void 0x0===_0x83350c)return null;const _0x2f5fb0='function'==typeof _0x83350c?_0x83350c(this['editor']):_0x83350c;return String(_0x2f5fb0);}['getMergeFieldType'](_0x5b6d52){const _0x63ab1b=this['getDefinition'](_0x5b6d52);return _0x63ab1b&&_0x63ab1b['type']?_0x63ab1b['type']:'text';}['getDocumentMergeFieldsIds'](){const _0x1069bf=new Set();for(const _0x4fd02c of this['_mergeFieldElements'])'$graveyard'!==_0x4fd02c['root']['rootName']&&_0x1069bf['add'](_0x4fd02c['getAttribute']('id'));return Array['from'](_0x1069bf);}['getMergeFieldsIds'](){const _0x2a5829=this['flattenedMergeFieldDefinitions']['map'](_0x42b079=>_0x42b079['id']),_0x13bfef=this['getDocumentMergeFieldsIds']();return Array['from'](new Set([..._0x2a5829,..._0x13bfef]));}['getDefinition'](_0x775712){return this['flattenedMergeFieldDefinitions']['find'](_0x353065=>_0x353065['id']===_0x775712)||null;}['_getFlattenedMergeFieldDefinitions'](){const _0x3cddb9=new Set(),_0x1c05bd=this['editor'];return _0x1c05bd['config']['get']('mergeFields.definitions')['reduce']((_0x165997,_0x2d7650)=>{if('groupId'in _0x2d7650){if(_0x3cddb9['has'](_0x2d7650['groupId']))throw new _0x19d9df('merge-fields-duplicate-group-id',_0x1c05bd,{'duplicateId':_0x2d7650['groupId']});_0x3cddb9['add'](_0x2d7650['groupId']);}return'groupId'in _0x2d7650?function(_0x46215f,_0x28b627){for(const _0x4b98e5 of _0x28b627['definitions'])_0x46215f=_0x46215f['concat'](_0x4b98e5);return _0x46215f;}['bind'](_0x1c05bd)(_0x165997,_0x2d7650):_0x165997['concat'](_0x2d7650);},new Array());}['_validateConfig'](){const _0x2cb98a=/^['"`!#%:;=@{}~$()*+/?[\\\]^|]+$/;if(!_0x2cb98a['test'](this['_mergeFieldPrefix'])||!_0x2cb98a['test'](this['_mergeFieldSuffix']))throw new _0x19d9df('merge-fields-invalid-prefix-or-suffix',this,{'prefix':this['_mergeFieldPrefix'],'suffix':this['_mergeFieldSuffix']});if(this['_mergeFieldPrefix']['length']>0x8||this['_mergeFieldSuffix']['length']>0x8)throw new _0x19d9df('merge-fields-prefix-or-suffix-too-long',this,{'prefix':this['_mergeFieldPrefix'],'suffix':this['_mergeFieldSuffix'],'limit':0x8});const _0x47e745=/^[a-zA-Z0-9_.-]+$/,_0x5860a4=new Set();if(this['flattenedMergeFieldDefinitions']['map'](_0x27a4bd=>{if(!_0x47e745['test'](_0x27a4bd['id']))throw new _0x19d9df('merge-fields-invalid-id',this,{'incorrectId':_0x27a4bd['id']});if(_0x5860a4['has'](_0x27a4bd['id']))throw new _0x19d9df('merge-fields-duplicate-merge-field-id',this,{'duplicateId':_0x27a4bd['id']});_0x5860a4['add'](_0x27a4bd['id']);}),this['_mergeFieldPrefix']===this['_mergeFieldSuffix'])throw new _0x19d9df('merge-fields-prefix-and-suffix-must-differ',this);const _0x3b8e5a=this['editor']['config']['get']('mergeFields.previewModes'),_0x301409=['$labels','$defaultValues','$dataSets'];if(!_0x3b8e5a['length']||!_0x3b8e5a['every'](_0x16a34a=>_0x301409['includes'](_0x16a34a)))throw new _0x19d9df('merge-fields-invalid-preview-modes-configuration',this,{'invalidConfig':_0x3b8e5a});const _0x318e46=new Set(),_0x37f00c=this['editor']['config']['get']('mergeFields.dataSets');for(const _0x1bb074 of _0x37f00c){if(_0x318e46['has'](_0x1bb074['id']))throw new _0x19d9df('merge-fields-duplicate-data-set-id',this,{'duplicateId':_0x1bb074['id']});_0x318e46['add'](_0x1bb074['id']);}}['_getAvailablePreviewModes'](){const _0x5ba24f=this['editor']['config']['get']('mergeFields.previewModes'),_0x5c7b54=[];if(_0x5ba24f['includes']('$labels')&&_0x5c7b54['push']('$labels'),_0x5ba24f['includes']('$defaultValues')&&_0x5c7b54['push']('$defaultValues'),_0x5ba24f['includes']('$dataSets')){const _0x2ad86a=this['editor']['config']['get']('mergeFields.dataSets');_0x5c7b54['push'](..._0x2ad86a['map'](_0x433a3f=>_0x433a3f['id']));}return _0x5c7b54;}['_defineSchema'](){const _0x46cdbd=this['editor']['model']['schema'];_0x46cdbd['register']('mergeField',{'inheritAllFrom':'$inlineObject','allowAttributes':['id'],'allowWhere':'$text'}),_0x46cdbd['register']('mergeFieldBlock',{'inheritAllFrom':'$blockObject','allowAttributes':['id']});}['_defineConverters'](){const _0xcfcbf5=this['editor']['conversion'];_0xcfcbf5['for']('upcast')['add'](_0x5ac712=>{_0x5ac712['on']('text',(_0x3f8959,_0x3369c5,_0x3be5bb)=>{const {consumable:_0x28378d,writer:_0x276253,schema:_0x49eddd}=_0x3be5bb,{viewItem:_0x16638b}=_0x3369c5;if(!_0x28378d['test'](_0x16638b))return;const _0x951747=_0x16638b['data']['split'](this['_mergeFieldRegExp'])['filter'](_0x402f04=>_0x402f04);if(0x1===_0x951747['length']&&!_0x951747[0x0]['match'](this['_mergeFieldRegExp']))return;let _0x7bdcc6=!0x0;for(const _0x1d56ed of _0x951747){if(!_0x1d56ed['match'](this['_mergeFieldRegExp'])){_0x7bdcc6=!0x1;break;}const _0x375088=_0x1d56ed['slice'](this['_mergeFieldPrefix']['length'],_0x1d56ed['length']-this['_mergeFieldSuffix']['length']);if('text'===this['getMergeFieldType'](_0x375088)){_0x7bdcc6=!0x1;break;}}if(_0x7bdcc6){_0x28378d['consume'](_0x16638b);for(const _0x3ad3ce of _0x951747){const _0x33f5d6=_0x3ad3ce['slice'](this['_mergeFieldPrefix']['length'],_0x3ad3ce['length']-this['_mergeFieldSuffix']['length']),_0x54d28e=_0x3369c5['modelCursor'],_0x191881=_0x276253['createElement']('mergeFieldBlock',{'id':_0x33f5d6});_0x276253['insert'](_0x191881,_0x54d28e),_0x3369c5['modelCursor']=_0x54d28e['getShiftedBy'](0x1),_0x3369c5['modelRange']=_0x276253['createRange'](_0x3369c5['modelRange']?_0x3369c5['modelRange']['start']:_0x54d28e,_0x3369c5['modelCursor']);}}else{if(!_0x49eddd['checkChild'](_0x3369c5['modelCursor'],'$text')){if(!_0x33cf52(_0x3369c5['modelCursor'],'$text',_0x49eddd))return;_0x3369c5['modelCursor']=_0x204de3(_0x3369c5['modelCursor'],_0x276253);}_0x28378d['consume'](_0x16638b);for(const _0x1528c6 of _0x951747){const _0x1f78c3=_0x3369c5['modelCursor'];let _0x1e0e2a;if(_0x1528c6['match'](this['_mergeFieldRegExp'])){const _0x3a5b1e=_0x1528c6['slice'](this['_mergeFieldPrefix']['length'],_0x1528c6['length']-this['_mergeFieldSuffix']['length']);_0x1e0e2a=_0x276253['createElement']('mergeField',{'id':_0x3a5b1e});}else _0x1e0e2a=_0x276253['createText'](_0x1528c6);_0x276253['insert'](_0x1e0e2a,_0x1f78c3),_0x3369c5['modelCursor']=_0x1f78c3['getShiftedBy'](_0x1e0e2a['offsetSize']),_0x3369c5['modelRange']=_0x276253['createRange'](_0x3369c5['modelRange']?_0x3369c5['modelRange']['start']:_0x1f78c3,_0x3369c5['modelCursor']);}}});}),_0xcfcbf5['for']('editingDowncast')['elementToElement']({'model':'mergeField','view':(_0xadb1fc,{writer:_0x4f1d3c})=>this['_createMergeFieldWidget'](_0xadb1fc,_0x4f1d3c,'text')}),_0xcfcbf5['for']('dataDowncast')['elementToElement']({'model':'mergeField','view':(_0x144cba,{writer:_0x55d183,options:_0x55b59f})=>this['_createTextualMergeField'](_0x144cba,_0x55d183,_0x55b59f['mergeFieldsData'])}),_0xcfcbf5['for']('editingDowncast')['elementToElement']({'model':'mergeFieldBlock','view':(_0x5e0b52,{writer:_0x1a70b5})=>this['_createMergeFieldWidget'](_0x5e0b52,_0x1a70b5,'block')}),_0xcfcbf5['for']('dataDowncast')['elementToElement']({'model':'mergeFieldBlock','view':(_0x6deb4c,{writer:_0x21c593,options:_0x5c2d21})=>this['_createTextualMergeField'](_0x6deb4c,_0x21c593,_0x5c2d21['mergeFieldsData'])});}['_createMergeFieldWidget'](_0x4bbddb,_0x3e07c5,_0x195b2b){const {label:_0x391e0a,classes:_0x2ce355,status:_0x255d80,height:_0x1b1322}=this['_prepareViewElementData'](_0x4bbddb),_0x261df4=this['_mergeFieldPrefix'],_0x4e6226=this['_mergeFieldSuffix'],_0x5947b4=this['editor']['config']['get']('mergeFields.sanitizeHtml'),_0x5b2ccf='text'===_0x195b2b?'span':'div';let _0x596b54;if('$labels'===this['previewMode'])_0x596b54=_0x3e07c5['createContainerElement'](_0x5b2ccf,{'class':_0x2ce355},[_0x3e07c5['createUIElement']('span',{'class':'ck-merge-field__affix'},function(_0x33fc5a){const _0x19afc0=this['toDomElement'](_0x33fc5a);return _0x19afc0['innerHTML']=_0x261df4,_0x19afc0;}),_0x3e07c5['createContainerElement']('span',{'class':'ck-merge-field__content'},_0x3e07c5['createText'](String(_0x391e0a))),_0x3e07c5['createUIElement']('span',{'class':'ck-merge-field__affix'},function(_0x5ebcd2){const _0xcf7fbc=this['toDomElement'](_0x5ebcd2);return _0xcf7fbc['innerHTML']=_0x4e6226,_0xcf7fbc;})]);else{if(_0x255d80){const _0x460d6f=this['_shouldPreviewHtmlValues']?_0x3e07c5['createRawElement']('span',{},function(_0x573d81,_0x9ee757){_0x9ee757['setContentOf'](_0x573d81,_0x5947b4(_0x391e0a)['html']);}):_0x3e07c5['createText'](_0x391e0a);if(_0x596b54=_0x3e07c5['createContainerElement'](_0x5b2ccf,{'class':_0x2ce355},[_0x460d6f]),'text'===_0x195b2b||['WARNING_MISSING_DEFAULT_VALUE','WARNING_MISSING_DATA']['includes'](_0x255d80)){const _0x2370bf=_0x3e07c5['createUIElement']('span',{'class':'ck-merge-field__icon'},function(_0x138ee3){const _0xc126aa=this['toDomElement'](_0x138ee3),_0x3399dc=new _0x4dbcb8();return _0x3399dc['set']({'content':'<svg\x20width=\x2212\x22\x20height=\x2212\x22\x20viewBox=\x220\x200\x2013\x2013\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22>\x0a<path\x20fill-rule=\x22evenodd\x22\x20clip-rule=\x22evenodd\x22\x20d=\x22M12\x206C12\x209.31371\x209.31371\x2012\x206\x2012C2.68629\x2012\x200\x209.31371\x200\x206C0\x202.68629\x202.68629\x200\x206\x200C9.31371\x200\x2012\x202.68629\x2012\x206ZM5.27988\x202.40003H6.71988V6.72003H5.27988V2.40003ZM6.72009\x208.16003H5.28009V9.60003H6.72009V8.16003Z\x22\x20fill=\x22#DB3700\x22/>\x0a</svg>\x0a'}),_0x3399dc['render'](),_0xc126aa['appendChild'](_0x3399dc['element']),_0xc126aa;});_0x3e07c5['insert'](_0x3e07c5['createPositionAt'](_0x596b54,'end'),_0x2370bf);}_0x3e07c5['setCustomProperty']('mergeFieldStatus',_0x255d80,_0x596b54);}else{const _0x2ca85d=this['_shouldPreviewHtmlValues']?_0x3e07c5['createRawElement'](_0x5b2ccf,{},function(_0x2082f8,_0x23af87){_0x23af87['setContentOf'](_0x2082f8,_0x5947b4(_0x391e0a)['html']);}):_0x3e07c5['createText'](_0x391e0a);_0x596b54=_0x3e07c5['createContainerElement'](_0x5b2ccf,{'class':_0x2ce355},_0x2ca85d);}}if('block'===_0x195b2b){const _0x3e8f11=_0x3e07c5['createContainerElement']('div',{'class':'ck-merge-field-block'},[_0x596b54]);if(('$labels'===this['previewMode']||_0x255d80&&['WARNING_MISSING_DEFAULT_VALUE','WARNING_MISSING_DATA']['includes'](_0x255d80))&&_0x3e07c5['setAttribute']('style','height:\x20'+_0x1b1322+'px',_0x3e8f11),_0x596b54['hasClass']('ck-merge-field_with-value'))_0x3e07c5['addClass']('ck-merge-field-block_with-value',_0x3e8f11);else{if(_0x596b54['hasClass']('ck-merge-field_with-warning')){for(const _0x20b36d of _0x596b54['getClassNames']())if('ck-merge-field'!==_0x20b36d){const _0x4e41a1=_0x20b36d['replace']('ck-merge-field','ck-merge-field-block');_0x3e07c5['addClass'](_0x4e41a1,_0x3e8f11);}_0x3e07c5['setAttribute']('data-merge-field-block-label',this['getLabel'](_0x4bbddb['getAttribute']('id')),_0x3e8f11),_0x3e07c5['setCustomProperty']('mergeFieldStatus',_0x255d80,_0x3e8f11);}}return _0x3e07c5['setCustomProperty']('mergeFieldBlock',!0x0,_0x3e8f11),_0x33787f(_0x3e8f11,_0x3e07c5,{'hasSelectionHandle':!0x0});}return _0x3e07c5['setCustomProperty']('mergeField',!0x0,_0x596b54),_0x33787f(_0x596b54,_0x3e07c5);}['_prepareViewElementData'](_0x50a3b9){const _0x4f7761=this['getDefinition'](_0x50a3b9['getAttribute']('id'));if(!_0x4f7761)return'$labels'===this['previewMode']?{'label':_0x50a3b9['getAttribute']('id'),'classes':'ck-merge-field'}:{'label':_0x50a3b9['getAttribute']('id'),'classes':'ck-merge-field\x20ck-merge-field_with-warning\x20ck-merge-field_with-warning_missing-definition','status':'WARNING_MISSING_DATA'};const _0x492153=this['getLabel'](_0x4f7761['id']),_0x130b5a=this['getMergeFieldType'](_0x4f7761['id']),_0x5e07e6=this['getMergeFieldDefaultValue'](_0x50a3b9['getAttribute']('id')),_0xdec361='text'!==_0x130b5a?_0x4f7761['height']||0x78:void 0x0;if('$labels'===this['previewMode'])return{'label':_0x492153,'height':_0xdec361,'classes':'ck-merge-field'};if('$defaultValues'===this['previewMode'])return _0x5e07e6?{'label':_0x5e07e6,'height':_0xdec361,'classes':'ck-merge-field\x20ck-merge-field_with-value'}:{'label':_0x492153,'height':_0xdec361,'classes':'ck-merge-field\x20ck-merge-field_with-warning\x20ck-merge-field_with-warning_no-default','status':'WARNING_MISSING_DEFAULT_VALUE'};const _0x5eb074=this['getMergeFieldValue'](_0x4f7761['id'],this['previewMode']);return _0x5eb074?{'label':_0x5eb074,'height':_0xdec361,'classes':'ck-merge-field\x20ck-merge-field_with-value'}:_0x5e07e6?{'label':_0x5e07e6,'height':_0xdec361,'classes':'ck-merge-field\x20ck-merge-field_with-warning\x20ck-merge-field_with-warning_default-value-used','status':'WARNING_MISSING_DATA_USED_DEFAULT_VALUE'}:{'label':_0x492153,'height':_0xdec361,'classes':'ck-merge-field\x20ck-merge-field_with-warning\x20ck-merge-field_with-warning_missing-data','status':'WARNING_MISSING_DATA'};}['_createTextualMergeField'](_0x1aa16c,_0x489e5e,_0x17590b){const _0xba6999=_0x1aa16c['getAttribute']('id'),_0x39ee5c=_0x17590b&&_0x17590b[_0xba6999]?_0x17590b[_0xba6999]:this['_mergeFieldPrefix']+_0xba6999+this['_mergeFieldSuffix'];let _0x2c6852;if(_0x17590b)_0x2c6852=_0x489e5e['createRawElement']('span',{},function(_0x92adb5,_0x3145e5){_0x3145e5['setContentOf'](_0x92adb5,String(_0x39ee5c));});else{_0x2c6852=_0x489e5e['createContainerElement']('span');const _0x558fad=_0x489e5e['createText'](_0x39ee5c);_0x489e5e['insert'](_0x489e5e['createPositionAt'](_0x2c6852,'end'),_0x558fad);}return _0x489e5e['setCustomProperty']('dataPipeline:transparentRendering',!0x0,_0x2c6852),_0x2c6852;}['_refreshMergeFields'](){this['_mergeFieldElements']['forEach'](_0x2f7ed8=>{'$graveyard'!==_0x2f7ed8['root']['rootName']&&this['editor']['editing']['reconvertItem'](_0x2f7ed8);});}['_validatePreviewMode'](_0x21d25b){if(!this['availablePreviewModes']['includes'](_0x21d25b))throw new _0x19d9df('merge-fields-invalid-preview-mode-set',this,{'availablePreviewModes':this['availablePreviewModes'],'previewMode':_0x21d25b});}['_trackAddedMergeFields'](){for(const _0x184a8a of this['editor']['model']['document']['differ']['getChanges']({'includeChangesInGraveyard':!0x0})){if('insert'!==_0x184a8a['type']||'$text'===_0x184a8a['name'])continue;if('mergeField'===_0x184a8a['name']||'mergeFieldBlock'===_0x184a8a['name']){this['_mergeFieldElements']['add'](_0x184a8a['position']['nodeAfter']);continue;}const _0x17a10b=this['editor']['model']['createRangeIn'](_0x184a8a['position']['nodeAfter']);for(const _0x2f4390 of _0x17a10b['getItems']())_0x2f4390['is']('element','mergeField')&&this['_mergeFieldElements']['add'](_0x2f4390);}}['_registerConversionPostFixer'](){const _0x2666ee=this['editor'];_0x2666ee['model']['document']['registerPostFixer'](_0x34de00=>{if(!_0x34de00['batch']['isLocal'])return!0x1;const _0x5cfab7=[],_0x2d8bab=new Set(),_0x576f07=this['_mergeFieldRegExp'];let _0x3b4b50=!0x1;for(const _0x4d633d of _0x2666ee['model']['document']['differ']['getChanges']())if('insert'===_0x4d633d['type']||'remove'===_0x4d633d['type']){let _0x1f19e3='$text'==_0x4d633d['name']?_0x4d633d['position']['parent']:_0x4d633d['position']['nodeAfter'];if(!_0x1f19e3)continue;_0x1f19e3['is']('$text')&&(_0x1f19e3=_0x1f19e3['parent']),_0x41c8df(_0x1f19e3);}for(const _0x36526d of _0x5cfab7['reverse']()){const {match:_0x418ebe,item:_0x43d74b}=_0x36526d,_0x5871f0=_0x34de00['createPositionAt'](_0x43d74b,_0x418ebe['index']),_0x281363=_0x5871f0['getShiftedBy'](_0x418ebe[0x0]['length']),_0x4e85ee=_0x34de00['createRange'](_0x5871f0,_0x281363),_0x46a956=_0x418ebe[0x0],_0x101d6a=_0x46a956['slice'](this['_mergeFieldPrefix']['length'],_0x46a956['length']-this['_mergeFieldSuffix']['length']),_0x1464e9=_0x41d885(_0x4e85ee);if(_0x1464e9['set']('id',_0x101d6a),'block'===this['getMergeFieldType'](_0x101d6a)){const _0x28d069=_0x34de00['createElement']('mergeFieldBlock',{'id':_0x101d6a});_0x34de00['remove'](_0x4e85ee),_0x2666ee['model']['insertObject'](_0x28d069,null,null,{'setSelection':'on','findOptimalPosition':void 0x0});}else{const _0x53aa7f=_0x34de00['createElement']('mergeField',_0x1464e9);_0x2666ee['model']['schema']['checkChild'](_0x4e85ee['start'],'mergeField')?_0x2666ee['model']['insertObject'](_0x53aa7f,_0x4e85ee):_0x34de00['remove'](_0x4e85ee);}_0x3b4b50=!0x0;}return _0x3b4b50;function _0x41c8df(_0x5aff86){let _0x54b98c='',_0x55b980=0x0;if(!_0x2d8bab['has'](_0x5aff86))for(const _0x3a8681 of _0x5aff86['getChildren']()){const _0x3fbed3=_0x3a8681['nextSibling'];if(_0x3a8681['is']('$text')&&(''===_0x54b98c&&_0x3a8681['startOffset']&&(_0x55b980=_0x3a8681['startOffset']),_0x54b98c+=_0x3a8681['data']),!_0x3fbed3||_0x3fbed3['is']('element')){for(const _0x430d0e of _0x54b98c['matchAll'](_0x576f07))_0x430d0e['index']=_0x430d0e['index']+_0x55b980,_0x5cfab7['push']({'match':_0x430d0e,'item':_0x5aff86});_0x2d8bab['add'](_0x5aff86),_0x54b98c='';}_0x3a8681['is']('element')&&_0x41c8df(_0x3a8681);}}function _0x41d885(_0x19d68b){const _0xbc34b2=_0x19d68b['getItems'](),_0xe921ef=_0xbc34b2['next']()['value'],_0x28a759=new Map(_0xe921ef['getAttributes']());for(const _0xb6e5e8 of _0xbc34b2)for(const [_0x4a3970,_0x9e68f0]of _0x28a759)_0xb6e5e8['getAttribute'](_0x4a3970)!==_0x9e68f0&&_0x28a759['delete'](_0x4a3970);return _0x28a759;}});}}class $ extends _0x11a3c2{['filter'](_0x368f78){return _0x198698(_0x368f78,this['items']);}}class D extends _0x3683fb{constructor(_0x1a8aa3){super(_0x1a8aa3),this['set']('text','');const _0x572ce6=this['bindTemplate'];this['setTemplate']({'tag':'div','attributes':{'class':['ck','ck-merge-fields-form']},'children':[{'tag':'div','attributes':{'class':['ck','ck-merge-fields-form__status']},'children':[{'text':_0x572ce6['to']('text')}]}]});}}function N(_0x2c73f5,_0x4c5daf){const t=_0x2c73f5['t'];switch(_0x4c5daf){case'Search\x20merge\x20field':return t('Search\x20merge\x20field');case'No\x20merge\x20fields\x20found':return t('No\x20merge\x20fields\x20found');case'No\x20merge\x20fields\x20available':return t('No\x20merge\x20fields\x20available');case'Insert\x20merge\x20field':return t('Insert\x20merge\x20field');case'Merge\x20field':return t('Merge\x20field');case'Merge\x20fields\x20preview':return t('Merge\x20fields\x20preview');case'Labels':return t('Labels');case'Default\x20values':return t('Default\x20values');case'WARNING_MISSING_DATA_USED_DEFAULT_VALUE':return t({'string':'Default\x20value\x20is\x20used.','id':'WARNING_MISSING_DATA_USED_DEFAULT_VALUE'});case'WARNING_MISSING_DEFAULT_VALUE':return t({'string':'Default\x20value\x20not\x20available.','id':'WARNING_MISSING_DEFAULT_VALUE'});case'WARNING_MISSING_DATA':return t({'string':'Value\x20not\x20available.','id':'WARNING_MISSING_DATA'});default:return _0x4c5daf;}}var A='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2020\x2020\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22>\x0a<circle\x20cx=\x2210.0001\x22\x20cy=\x229.79993\x22\x20r=\x221.5\x22/>\x0a<path\x20d=\x22M13.2496\x202.75005C13.2497\x202.00005\x2013.2498\x202.00005\x2013.2498\x202.00005L13.2511\x202.00005L13.2534\x202.00006L13.2606\x202.00009L13.2848\x202.0003C13.3052\x202.00053\x2013.3337\x202.00098\x2013.3688\x202.00185C13.4386\x202.0036\x2013.536\x202.00707\x2013.6475\x202.01402C13.8589\x202.02722\x2014.1651\x202.05536\x2014.4328\x202.12276C14.8296\x202.22267\x2015.1705\x202.40399\x2015.4402\x202.67392C15.7077\x202.94161\x2015.8688\x203.26001\x2015.9644\x203.5803C16.1459\x204.18776\x2016.1145\x204.89393\x2016.0724\x205.49256C16.0626\x205.6324\x2016.052\x205.76849\x2016.0416\x205.90131C16.0036\x206.38849\x2015.969\x206.83163\x2015.9895\x207.25369C16.0151\x207.78147\x2016.1252\x208.13279\x2016.3222\x208.3656C16.5447\x208.6286\x2016.8158\x208.79405\x2017.0411\x208.89436C17.1523\x208.94386\x2017.2471\x208.97509\x2017.3103\x208.99319C17.3417\x209.00219\x2017.3647\x209.00776\x2017.3773\x209.01062L17.3868\x209.01269L17.9996\x209.12173V9.75005H15.5976C15.4541\x209.63123\x2015.3117\x209.49364\x2015.1771\x209.33451C14.669\x208.73405\x2014.5235\x207.99036\x2014.4913\x207.32643C14.4657\x206.79933\x2014.5105\x206.23163\x2014.5497\x205.73429C14.5592\x205.61404\x2014.5683\x205.49785\x2014.5761\x205.3874C14.6198\x204.76596\x2014.62\x204.32043\x2014.5272\x204.00956C14.4857\x203.87069\x2014.4332\x203.78828\x2014.3791\x203.73414C14.3272\x203.68223\x2014.2386\x203.6207\x2014.0665\x203.57736C13.9372\x203.5448\x2013.7433\x203.52293\x2013.554\x203.51111C13.4651\x203.50556\x2013.3869\x203.50277\x2013.3313\x203.50139C13.3037\x203.5007\x2013.282\x203.50036\x2013.2678\x203.5002L13.2524\x203.50007L13.2493\x203.50005L12.4996\x203.5L12.4997\x202L13.2498\x202.00005L13.2496\x202.75005Z\x22/>\x0a<path\x20d=\x22M13.2496\x2016.7501C13.2497\x2017.5001\x2013.2498\x2017.5001\x2013.2498\x2017.5001L13.2511\x2017.5001L13.2534\x2017.5001L13.2606\x2017.5L13.2848\x2017.4998C13.3052\x2017.4996\x2013.3337\x2017.4991\x2013.3688\x2017.4983C13.4386\x2017.4965\x2013.536\x2017.493\x2013.6475\x2017.4861C13.8589\x2017.4729\x2014.1651\x2017.4448\x2014.4328\x2017.3774C14.8296\x2017.2774\x2015.1705\x2017.0961\x2015.4402\x2016.8262C15.7077\x2016.5585\x2015.8688\x2016.2401\x2015.9644\x2015.9198C16.1459\x2015.3124\x2016.1145\x2014.6062\x2016.0724\x2014.0076C16.0626\x2013.8677\x2016.052\x2013.7316\x2016.0416\x2013.5988C16.0036\x2013.1116\x2015.969\x2012.6685\x2015.9895\x2012.2464C16.0151\x2011.7186\x2016.1252\x2011.3673\x2016.3222\x2011.1345C16.5447\x2010.8715\x2016.8158\x2010.7061\x2017.0411\x2010.6058C17.1523\x2010.5563\x2017.2471\x2010.525\x2017.3103\x2010.5069C17.3417\x2010.4979\x2017.3647\x2010.4924\x2017.3773\x2010.4895L17.3868\x2010.4874L17.9996\x2010.3784V9.75005H15.5976C15.4541\x209.86887\x2015.3117\x2010.0065\x2015.1771\x2010.1656C14.669\x2010.7661\x2014.5235\x2011.5098\x2014.4913\x2012.1737C14.4657\x2012.7008\x2014.5105\x2013.2685\x2014.5497\x2013.7658C14.5592\x2013.8861\x2014.5683\x2014.0023\x2014.5761\x2014.1127C14.6198\x2014.7341\x2014.62\x2015.1797\x2014.5272\x2015.4906C14.4857\x2015.6294\x2014.4332\x2015.7118\x2014.3791\x2015.766C14.3272\x2015.8179\x2014.2386\x2015.8794\x2014.0665\x2015.9228C13.9372\x2015.9553\x2013.7433\x2015.9772\x2013.554\x2015.989C13.4651\x2015.9945\x2013.3869\x2015.9973\x2013.3313\x2015.9987C13.3037\x2015.9994\x2013.282\x2015.9998\x2013.2678\x2015.9999L13.2524\x2016L13.2493\x2016.0001L12.4996\x2016.0001L12.4997\x2017.5001L13.2498\x2017.5001L13.2496\x2016.7501Z\x22/>\x0a<path\x20d=\x22M6.75\x202.75005C6.74995\x202.00005\x206.74982\x202.00005\x206.74982\x202.00005L6.74853\x202.00005L6.74622\x202.00006L6.73903\x202.00009L6.71478\x202.0003C6.69446\x202.00053\x206.66594\x202.00098\x206.63087\x202.00185C6.56099\x202.0036\x206.46364\x202.00707\x206.35217\x202.01402C6.14071\x202.02722\x205.83458\x202.05536\x205.56688\x202.12276C5.17006\x202.22267\x204.82913\x202.40399\x204.55943\x202.67392C4.29196\x202.94161\x204.13085\x203.26001\x204.03519\x203.5803C3.85377\x204.18776\x203.88516\x204.89393\x203.92723\x205.49256C3.93706\x205.6324\x203.94768\x205.76849\x203.95804\x205.90131C3.99605\x206.38849\x204.03062\x206.83163\x204.01013\x207.25369C3.98451\x207.78147\x203.87445\x208.13279\x203.67746\x208.3656C3.45492\x208.6286\x203.18386\x208.79405\x202.95851\x208.89436C2.84732\x208.94386\x202.75258\x208.97509\x202.68931\x208.99319C2.65789\x209.00219\x202.63488\x209.00776\x202.62229\x209.01062L2.61279\x209.01269L2\x209.12173V9.75005H4.40205C4.54555\x209.63123\x204.6879\x209.49364\x204.82254\x209.33451C5.33063\x208.73405\x205.47613\x207.99036\x205.50837\x207.32643C5.53396\x206.79933\x205.48918\x206.23163\x205.44995\x205.73429C5.44047\x205.61404\x205.4313\x205.49785\x205.42354\x205.3874C5.37987\x204.76596\x205.37961\x204.32043\x205.47246\x204.00956C5.51394\x203.87069\x205.56644\x203.78828\x205.62053\x203.73414C5.6724\x203.68223\x205.76099\x203.6207\x205.93312\x203.57736C6.06245\x203.5448\x206.25632\x203.52293\x206.4456\x203.51111C6.5345\x203.50556\x206.61271\x203.50277\x206.6683\x203.50139C6.69595\x203.5007\x206.71765\x203.50036\x206.73185\x203.5002L6.74724\x203.50007L6.75029\x203.50005L7.50005\x203.5L7.49995\x202L6.74982\x202.00005L6.75\x202.75005Z\x22/>\x0a<path\x20d=\x22M6.75\x2016.7501C6.74995\x2017.5001\x206.74982\x2017.5001\x206.74982\x2017.5001L6.74853\x2017.5001L6.74622\x2017.5001L6.73903\x2017.5L6.71478\x2017.4998C6.69446\x2017.4996\x206.66594\x2017.4991\x206.63087\x2017.4983C6.56099\x2017.4965\x206.46364\x2017.493\x206.35217\x2017.4861C6.14071\x2017.4729\x205.83458\x2017.4448\x205.56688\x2017.3774C5.17006\x2017.2774\x204.82913\x2017.0961\x204.55943\x2016.8262C4.29196\x2016.5585\x204.13085\x2016.2401\x204.03519\x2015.9198C3.85377\x2015.3124\x203.88516\x2014.6062\x203.92723\x2014.0076C3.93706\x2013.8677\x203.94768\x2013.7316\x203.95804\x2013.5988C3.99605\x2013.1116\x204.03062\x2012.6685\x204.01013\x2012.2464C3.98451\x2011.7186\x203.87445\x2011.3673\x203.67746\x2011.1345C3.45492\x2010.8715\x203.18386\x2010.7061\x202.95851\x2010.6058C2.84732\x2010.5563\x202.75258\x2010.525\x202.68931\x2010.5069C2.65789\x2010.4979\x202.63488\x2010.4924\x202.62229\x2010.4895L2.61279\x2010.4874L2\x2010.3784V9.75005H4.40205C4.54555\x209.86887\x204.6879\x2010.0065\x204.82254\x2010.1656C5.33063\x2010.7661\x205.47613\x2011.5098\x205.50837\x2012.1737C5.53396\x2012.7008\x205.48918\x2013.2685\x205.44995\x2013.7658C5.44047\x2013.8861\x205.4313\x2014.0023\x205.42354\x2014.1127C5.37987\x2014.7341\x205.37961\x2015.1797\x205.47246\x2015.4906C5.51394\x2015.6294\x205.56644\x2015.7118\x205.62053\x2015.766C5.6724\x2015.8179\x205.76099\x2015.8794\x205.93312\x2015.9228C6.06245\x2015.9553\x206.25632\x2015.9772\x206.4456\x2015.989C6.5345\x2015.9945\x206.61271\x2015.9973\x206.6683\x2015.9987C6.69595\x2015.9994\x206.71765\x2015.9998\x206.73185\x2015.9999L6.74724\x2016L6.75029\x2016.0001L7.50005\x2016.0001L7.49995\x2017.5001L6.74982\x2017.5001L6.75\x2016.7501Z\x22/>\x0a</svg>\x0a',P='<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2020\x2020\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22>\x0a<circle\x20cx=\x229.00037\x22\x20cy=\x229.79993\x22\x20r=\x221.5\x22/>\x0a<path\x20d=\x22M5.75024\x202.75005C5.75019\x202.00005\x205.75006\x202.00005\x205.75006\x202.00005L5.74877\x202.00005L5.74647\x202.00006L5.73927\x202.00009L5.71503\x202.0003C5.6947\x202.00053\x205.66619\x202.00098\x205.63111\x202.00185C5.56123\x202.0036\x205.46388\x202.00707\x205.35241\x202.01402C5.14095\x202.02722\x204.83482\x202.05536\x204.56712\x202.12276C4.1703\x202.22267\x203.82938\x202.40399\x203.55967\x202.67392C3.29221\x202.94161\x203.1311\x203.26001\x203.03544\x203.5803C2.85401\x204.18776\x202.8854\x204.89393\x202.92747\x205.49256C2.9373\x205.6324\x202.94792\x205.76849\x202.95828\x205.90131C2.99629\x206.38849\x203.03087\x206.83163\x203.01038\x207.25369C2.98475\x207.78147\x202.87469\x208.13279\x202.6777\x208.3656C2.45517\x208.6286\x202.1841\x208.79405\x201.95875\x208.89436C1.84756\x208.94386\x201.75282\x208.97509\x201.68956\x208.99319C1.65813\x209.00219\x201.63513\x209.00776\x201.62253\x209.01062L1.61304\x209.01269L1.00024\x209.12173V9.75005H3.4023C3.54579\x209.63123\x203.68814\x209.49364\x203.82278\x209.33451C4.33087\x208.73405\x204.47638\x207.99036\x204.50861\x207.32643C4.5342\x206.79933\x204.48942\x206.23163\x204.4502\x205.73429C4.44071\x205.61404\x204.43155\x205.49785\x204.42378\x205.3874C4.38011\x204.76596\x204.37986\x204.32043\x204.4727\x204.00956C4.51418\x203.87069\x204.56668\x203.78828\x204.62078\x203.73414C4.67264\x203.68223\x204.76124\x203.6207\x204.93336\x203.57736C5.06269\x203.5448\x205.25656\x203.52293\x205.44585\x203.51111C5.53475\x203.50556\x205.61296\x203.50277\x205.66854\x203.50139C5.6962\x203.5007\x205.71789\x203.50036\x205.73209\x203.5002L5.74748\x203.50007L5.75054\x203.50005L6.5003\x203.5L6.50019\x202L5.75006\x202.00005L5.75024\x202.75005Z\x22/>\x0a<path\x20d=\x22M5.75024\x2016.7501C5.75019\x2017.5001\x205.75006\x2017.5001\x205.75006\x2017.5001L5.74877\x2017.5001L5.74647\x2017.5001L5.73927\x2017.5L5.71503\x2017.4998C5.6947\x2017.4996\x205.66619\x2017.4991\x205.63111\x2017.4983C5.56123\x2017.4965\x205.46388\x2017.493\x205.35241\x2017.4861C5.14095\x2017.4729\x204.83482\x2017.4448\x204.56712\x2017.3774C4.1703\x2017.2774\x203.82938\x2017.0961\x203.55967\x2016.8262C3.29221\x2016.5585\x203.1311\x2016.2401\x203.03544\x2015.9198C2.85401\x2015.3124\x202.8854\x2014.6062\x202.92747\x2014.0076C2.9373\x2013.8677\x202.94792\x2013.7316\x202.95828\x2013.5988C2.99629\x2013.1116\x203.03087\x2012.6685\x203.01038\x2012.2464C2.98475\x2011.7186\x202.87469\x2011.3673\x202.6777\x2011.1345C2.45517\x2010.8715\x202.1841\x2010.7061\x201.95875\x2010.6058C1.84756\x2010.5563\x201.75282\x2010.525\x201.68956\x2010.5069C1.65813\x2010.4979\x201.63513\x2010.4924\x201.62253\x2010.4895L1.61304\x2010.4874L1.00024\x2010.3784V9.75005H3.4023C3.54579\x209.86887\x203.68814\x2010.0065\x203.82278\x2010.1656C4.33087\x2010.7661\x204.47638\x2011.5098\x204.50861\x2012.1737C4.5342\x2012.7008\x204.48942\x2013.2685\x204.4502\x2013.7658C4.44071\x2013.8861\x204.43155\x2014.0023\x204.42378\x2014.1127C4.38011\x2014.7341\x204.37986\x2015.1797\x204.4727\x2015.4906C4.51418\x2015.6294\x204.56668\x2015.7118\x204.62078\x2015.766C4.67264\x2015.8179\x204.76124\x2015.8794\x204.93336\x2015.9228C5.06269\x2015.9553\x205.25656\x2015.9772\x205.44585\x2015.989C5.53475\x2015.9945\x205.61296\x2015.9973\x205.66854\x2015.9987C5.6962\x2015.9994\x205.71789\x2015.9998\x205.73209\x2015.9999L5.74748\x2016L5.75054\x2016.0001L6.5003\x2016.0001L6.50019\x2017.5001L5.75006\x2017.5001L5.75024\x2016.7501Z\x22/>\x0a<path\x20fill-rule=\x22evenodd\x22\x20clip-rule=\x22evenodd\x22\x20d=\x22M12.2514\x202.00005L12.2501\x202.00005L11.5\x202L11.4999\x203.5L12.2496\x203.50005L12.2527\x203.50007L12.2681\x203.5002C12.2823\x203.50036\x2012.304\x203.5007\x2012.3316\x203.50139C12.3872\x203.50277\x2012.4654\x203.50556\x2012.5543\x203.51111C12.7436\x203.52293\x2012.9375\x203.5448\x2013.0668\x203.57736C13.2389\x203.6207\x2013.3275\x203.68223\x2013.3794\x203.73414C13.4335\x203.78828\x2013.486\x203.87069\x2013.5275\x204.00956C13.6203\x204.32043\x2013.6201\x204.76596\x2013.5764\x205.3874C13.5686\x205.49785\x2013.5595\x205.61404\x2013.55\x205.73429C13.5108\x206.23163\x2013.466\x206.79933\x2013.4916\x207.32643C13.5238\x207.99036\x2013.6693\x208.73405\x2014.1774\x209.33451C14.312\x209.49364\x2014.4544\x209.63123\x2014.5979\x209.75005C14.4544\x209.86887\x2014.312\x2010.0065\x2014.1774\x2010.1656C13.7121\x2010.7154\x2013.5509\x2011.3854\x2013.5023\x2012.0042C13.6011\x2012.0012\x2013.7003\x2011.9997\x2013.7999\x2011.9997C14.208\x2011.9997\x2014.6093\x2012.0247\x2015.0018\x2012.0729C15.0416\x2011.6402\x2015.1479\x2011.3408\x2015.3225\x2011.1345C15.545\x2010.8715\x2015.8161\x2010.7061\x2016.0414\x2010.6058C16.1526\x2010.5563\x2016.2474\x2010.525\x2016.3106\x2010.5069C16.342\x2010.4979\x2016.365\x2010.4924\x2016.3776\x2010.4895L16.3871\x2010.4874L16.9999\x2010.3784V9.75005V9.12173L16.3871\x209.01269L16.3776\x209.01062C16.365\x209.00776\x2016.342\x209.00219\x2016.3106\x208.99319C16.2474\x208.97509\x2016.1526\x208.94386\x2016.0414\x208.89436C15.8161\x208.79405\x2015.545\x208.6286\x2015.3225\x208.3656C15.1255\x208.13279\x2015.0154\x207.78147\x2014.9898\x207.25369C14.9693\x206.83163\x2015.0039\x206.38849\x2015.0419\x205.90131C15.0523\x205.76849\x2015.0629\x205.6324\x2015.0727\x205.49256C15.1148\x204.89393\x2015.1462\x204.18776\x2014.9647\x203.5803C14.8691\x203.26001\x2014.708\x202.94161\x2014.4405\x202.67392C14.1708\x202.40399\x2013.8299\x202.22267\x2013.433\x202.12276C13.1654\x202.05536\x2012.8592\x202.02722\x2012.6478\x202.01402C12.5363\x202.00707\x2012.4389\x202.0036\x2012.3691\x202.00185C12.334\x202.00098\x2012.3055\x202.00053\x2012.2851\x202.0003L12.2609\x202.00009L12.2537\x202.00006L12.2514\x202.00005Z\x22/>\x0a<path\x20fill-rule=\x22evenodd\x22\x20clip-rule=\x22evenodd\x22\x20d=\x22M9.00335\x2017.2062L9.00308\x2017.2065C8.7234\x2017.5118\x208.24919\x2017.5327\x207.94372\x2017.2532C7.63816\x2016.9735\x207.61716\x2016.4991\x207.89681\x2016.1935L8.45008\x2016.6999C7.89681\x2016.1935\x207.89697\x2016.1934\x207.89713\x2016.1932L7.89751\x2016.1928L7.89844\x2016.1918L7.90098\x2016.189L7.90879\x2016.1806L7.93517\x2016.1526C7.95746\x2016.1292\x207.98914\x2016.0963\x208.02971\x2016.0555C8.11079\x2015.9738\x208.22768\x2015.8597\x208.37644\x2015.724C8.6732\x2015.4532\x209.10079\x2015.0927\x209.62744\x2014.7314C10.6647\x2014.0198\x2012.1659\x2013.2499\x2013.8501\x2013.2499C15.5343\x2013.2499\x2017.0355\x2014.0198\x2018.0727\x2014.7314C18.5994\x2015.0927\x2019.027\x2015.4532\x2019.3237\x2015.724C19.4725\x2015.8597\x2019.5894\x2015.9738\x2019.6705\x2016.0555C19.711\x2016.0963\x2019.7427\x2016.1292\x2019.765\x2016.1526L19.7914\x2016.1806L19.7992\x2016.189L19.8017\x2016.1918L19.8027\x2016.1928L19.803\x2016.1932C19.8032\x2016.1934\x2019.8034\x2016.1935\x2019.2501\x2016.6999L19.8034\x2016.1935C20.083\x2016.4991\x2020.062\x2016.9735\x2019.7565\x2017.2532C19.4511\x2017.5326\x2018.9772\x2017.5118\x2018.6975\x2017.207L18.6971\x2017.2065L18.6968\x2017.2062L18.6945\x2017.2037L18.6783\x2017.1865C18.6629\x2017.1704\x2018.6386\x2017.1452\x2018.6059\x2017.1123C18.5404\x2017.0463\x2018.4414\x2016.9494\x2018.3127\x2016.8321C18.0546\x2016.5966\x2017.6814\x2016.282\x2017.2242\x2015.9683C16.9805\x2015.8012\x2016.7185\x2015.6381\x2016.4421\x2015.4883C16.7016\x2015.9322\x2016.8502\x2016.4487\x2016.8502\x2016.9999C16.8502\x2018.6567\x2015.5071\x2019.9999\x2013.8502\x2019.9999C12.1934\x2019.9999\x2010.8502\x2018.6567\x2010.8502\x2016.9999C10.8502\x2016.4486\x2010.9989\x2015.932\x2011.2584\x2015.4881C10.9819\x2015.6379\x2010.7198\x2015.8011\x2010.476\x2015.9683C10.0188\x2016.282\x209.64555\x2016.5966\x209.38746\x2016.8321C9.25879\x2016.9494\x209.15975\x2017.0463\x209.09425\x2017.1123C9.06153\x2017.1452\x209.03726\x2017.1704\x209.02192\x2017.1865L9.00572\x2017.2037L9.00335\x2017.2062Z\x22/>\x0a<circle\x20cx=\x2214.8253\x22\x20cy=\x2216.1749\x22\x20r=\x221.125\x22\x20fill=\x22white\x22/>\x0a</svg>\x0a';class m extends _0x30f9ef{static get['requires'](){return['Mention',g,_0x33822e,_0x2707f4];}static get['pluginName'](){return'MergeFieldsUI';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}constructor(_0x1ab5c5){super(_0x1ab5c5),this['_balloonPanelView']=null,this['_removeMenuBarButtonIfUnnecessary'](),this['_setupMentionConfiguration']();}['init'](){const _0x491daf=this['editor'];_0x491daf['ui']['componentFactory']['add']('insertMergeField',_0x13dcb6=>{const _0x48acdd=function(_0x1285fd){const _0x41f3d9=_0x333bf8(_0x1285fd);return _0x41f3d9['set']({'class':'ck-insert-merge-field-dropdown','isEnabled':!0x0}),_0x41f3d9['buttonView']['set']({'label':N(_0x1285fd,'Insert\x20merge\x20field'),'icon':A,'tooltip':!0x0}),_0x41f3d9;}(_0x13dcb6);return _0x48acdd['bind']('isEnabled')['toMany']([_0x491daf['commands']['get']('insertMergeField'),_0x491daf['commands']['get']('insertMergeFieldBlock')],'isEnabled',(..._0x68f07d)=>_0x68f07d['some'](_0x5150c8=>_0x5150c8)),_0x48acdd['once']('change:isOpen',()=>{const _0x164bf5={'insertInline':_0x491daf['commands']['get']('insertMergeField'),'insertBlock':_0x491daf['commands']['get']('insertMergeFieldBlock')},_0x55a5da=function(_0x2ae8f8,_0x2bbb36,_0xad01bd){const _0x238c9a=new $(_0x2ae8f8),_0x223d2e=[],_0x2a7c84=[];for(const _0x46d86c of _0x2bbb36)if('groupId'in _0x46d86c){const _0x27174a=U(_0x2ae8f8,_0x46d86c['groupLabel']||_0x46d86c['groupId'],_0x46d86c['definitions'],_0xad01bd);_0x27174a['delegate']('execute')['to'](_0x238c9a),_0x2a7c84['push'](_0x27174a);}else _0x223d2e['push'](_0x46d86c);if(_0x223d2e['length']){const _0x314516=U(_0x2ae8f8,'Other',_0x223d2e,_0xad01bd);_0x314516['delegate']('execute')['to'](_0x238c9a),_0x2a7c84['push'](_0x314516);}return _0x238c9a['items']['addMany'](_0x2a7c84),_0x238c9a;}(_0x13dcb6,_0x491daf['config']['get']('mergeFields.definitions'),_0x164bf5);_0x55a5da['delegate']('execute')['to'](_0x48acdd),_0x48acdd['on']('execute',(_0x213734,_0x42309c)=>{const _0x9b6451=_0x491daf['plugins']['get']('MergeFieldsEditing')['getMergeFieldType'](_0x42309c);_0x491daf['execute']('text'===_0x9b6451?'insertMergeField':'insertMergeFieldBlock',_0x42309c),_0x491daf['editing']['view']['focus']();});const _0x40c7d0=function(_0x321b93,_0x2c085c){return new _0x3519c6(_0x321b93,{'filteredView':_0x2c085c,'queryView':{'label':N(_0x321b93,'Search\x20merge\x20field')},'class':'ck-merge-fields-search','infoView':{'text':{'notFound':{'primary':N(_0x321b93,'No\x20merge\x20fields\x20found')},'noSearchableItems':{'primary':N(_0x321b93,'No\x20merge\x20fields\x20available')}}}});}(_0x13dcb6,_0x55a5da);_0x48acdd['panelView']['children']['add'](_0x40c7d0),_0x48acdd['on']('change:isOpen',(_0x6925f,_0x2daf9c,_0x45c74f)=>{_0x45c74f&&_0x40c7d0['reset']();});}),_0x48acdd;}),_0x491daf['ui']['componentFactory']['add']('menuBar:insertMergeField',_0x2d954=>{const _0x4b38da=new _0x6a9456(_0x2d954);_0x4b38da['buttonView']['set']({'label':N(_0x2d954,'Merge\x20field'),'icon':A}),_0x4b38da['bind']('isEnabled')['toMany']([_0x491daf['commands']['get']('insertMergeField'),_0x491daf['commands']['get']('insertMergeFieldBlock')],'isEnabled',(..._0x40b11b)=>_0x40b11b['some'](_0x42733d=>_0x42733d));const _0x1e6188=[],_0x257cca=new _0x4f2a9f(_0x2d954),_0x16ce12={'insertInline':_0x491daf['commands']['get']('insertMergeField'),'insertBlock':_0x491daf['commands']['get']('insertMergeFieldBlock')};for(const _0x530ee6 of _0x491daf['config']['get']('mergeFields.definitions'))if('groupId'in _0x530ee6){const _0xcd7835=new _0x11cd48(_0x2d954,_0x4b38da),_0x198af9=C(_0x2d954,_0x530ee6,_0x16ce12);_0xcd7835['children']['add'](_0x198af9),_0x198af9['delegate']('execute')['to'](_0x4b38da),_0x257cca['items']['add'](_0xcd7835);}else _0x1e6188['push'](_0x530ee6);if(_0x1e6188['length']){if(0x0===_0x257cca['items']['length'])for(const _0x398779 of _0x1e6188){const _0x3bd192=R(_0x2d954,_0x398779,_0x4b38da,'text'===_0x491daf['plugins']['get']('MergeFieldsEditing')['getMergeFieldType'](_0x398779['id'])?_0x491daf['commands']['get']('insertMergeField'):_0x491daf['commands']['get']('insertMergeFieldBlock'));_0x257cca['items']['add'](_0x3bd192);}else{const _0x25fbe8=new _0x11cd48(_0x2d954,_0x4b38da),_0xedee72=C(_0x2d954,{'groupId':'Other','definitions':_0x1e6188},_0x16ce12);_0x25fbe8['children']['add'](_0xedee72),_0xedee72['delegate']('execute')['to'](_0x4b38da),_0x257cca['items']['add'](_0x25fbe8);}}return _0x4b38da['panelView']['children']['add'](_0x257cca),_0x4b38da['on']('execute',(_0x477553,_0x3f3afa)=>{const _0x9c3280=_0x491daf['plugins']['get']('MergeFieldsEditing')['getMergeFieldType'](_0x3f3afa);_0x491daf['execute']('text'===_0x9c3280?'insertMergeField':'insertMergeFieldBlock',_0x3f3afa),_0x491daf['editing']['view']['focus']();}),_0x4b38da;});const _0x5dbe6a=_0x491daf['config']['get']('mergeFields.previewModes'),_0x1705f9=[];if(_0x5dbe6a['includes']('$labels')&&_0x1705f9['push']({'type':'button','model':new _0x5886b1({'withText':!0x0,'isToggleable':!0x0,'label':N(this['editor']['locale'],'Labels'),'commandValue':'$labels'})}),_0x5dbe6a['includes']('$defaultValues')&&_0x1705f9['push']({'type':'button','model':new _0x5886b1({'withText':!0x0,'isToggleable':!0x0,'label':N(this['editor']['locale'],'Default\x20values'),'commandValue':'$defaultValues'})}),_0x5dbe6a['includes']('$dataSets')){const _0x3f69e2=_0x491daf['config']['get']('mergeFields.dataSets');if(_0x3f69e2['length']){for(const _0x938117 of _0x3f69e2)_0x1705f9['push']({'type':'button','model':new _0x5886b1({'withText':!0x0,'isToggleable':!0x0,'label':_0x938117['label']||_0x938117['id'],'commandValue':_0x938117['id']})});}}_0x491daf['ui']['componentFactory']['add']('previewMergeFields',_0x24281a=>{const _0x409301=_0x491daf['commands']['get']('previewMergeFields'),_0xaf7e14=new _0x1d5ba7();for(const _0x50e76c of _0x5aeb54(_0x1705f9))_0x50e76c['model']['bind']('isOn')['to'](_0x409301,'value',_0x4f151d=>_0x4f151d===_0x50e76c['model']['commandValue']),_0xaf7e14['add'](_0x50e76c);const _0x13cd1e=_0x333bf8(_0x24281a),_0x4c5695=N(_0x24281a,'Merge\x20fields\x20preview');return _0x13cd1e['bind']('isEnabled')['to'](_0x409301),_0x3eedcc(_0x13cd1e,_0xaf7e14,{'ariaLabel':_0x4c5695,'role':'menu'}),_0x13cd1e['set']({'class':'ck-merge-fields-preview-dropdown'}),_0x13cd1e['buttonView']['set']({'label':_0x4c5695,'ariaLabel':_0x4c5695,'ariaLabelledBy':void 0x0,'isOn':!0x1,'icon':P,'tooltip':!0x0}),this['listenTo'](_0x13cd1e,'execute',_0x6bc887=>{const {commandValue:_0x301823}=_0x6bc887['source'];_0x491daf['execute']('previewMergeFields',_0x301823),_0x491daf['editing']['view']['focus']();}),_0x13cd1e;}),_0x491daf['ui']['componentFactory']['add']('menuBar:previewMergeFields',_0x533c63=>{const _0x267f40=new _0x6a9456(_0x533c63),_0x3ef6ff=_0x491daf['commands']['get']('previewMergeFields');_0x267f40['buttonView']['set']({'label':N(_0x533c63,'Merge\x20fields\x20preview'),'icon':P}),_0x267f40['bind']('isEnabled')['to'](_0x3ef6ff);const _0xcb7c72=new _0x4f2a9f(_0x533c63);_0xcb7c72['set']({'ariaLabel':N(_0x533c63,'Merge\x20fields\x20preview')});for(const _0x2b73cf of _0x5aeb54(_0x1705f9)){const _0x248d70=new _0x11cd48(_0x533c63,_0x267f40),_0x557a01=new _0xe1a735(_0x533c63);_0x2b73cf['model']['bind']('isOn')['to'](_0x3ef6ff,'value',_0x2fc79c=>_0x2fc79c===_0x2b73cf['model']['commandValue']),_0x557a01['isToggleable']=!0x0,_0x557a01['bind'](...Object['keys'](_0x2b73cf['model']))['to'](_0x2b73cf['model']),_0x557a01['delegate']('execute')['to'](_0x267f40),_0x557a01['on']('execute',_0x5d1f12=>{const {commandValue:_0x1d11cf}=_0x5d1f12['source'];_0x491daf['execute']('previewMergeFields',_0x1d11cf),_0x491daf['editing']['view']['focus']();}),_0x248d70['children']['add'](_0x557a01),_0xcb7c72['items']['add'](_0x248d70);}return _0x267f40['panelView']['children']['add'](_0xcb7c72),_0x267f40;}),this['_balloon']=_0x491daf['plugins']['get'](_0x33822e),this['listenTo'](_0x491daf['ui'],'update',()=>{this['_updateBalloonVisibility']();},{'priority':'low'}),this['listenTo'](_0x491daf['ui']['focusTracker'],'change:isFocused',(_0xeb9064,_0x2764aa,_0x12e71a)=>{this['_balloon']['visibleView']&&this['_balloon']['visibleView']===this['_balloonPanelView']&&(_0x12e71a?this['_updateBalloonVisibility']():this['_hideBalloon']());},{'priority':'low'}),this['editor']['once']('ready',this['_overrideMentionExecuteListener']['bind'](this)),this['licenseKey']=this['editor']['config']['get']('licenseKey');const _0x1be629=this['editor'];this['_licenseKeyCheckInterval']=setInterval(()=>{let _0x2c7cdc;for(const _0x52c2be in _0x1be629){const _0x79e273=_0x52c2be,_0x5e49f6=_0x1be629[_0x79e273];if('mergeFieldsLicenseKeyValid'==_0x5e49f6||'mergeFieldsLicenseKeyInvalid'==_0x5e49f6||'mergeFieldsLicenseKeyExpired'==_0x5e49f6||'mergeFieldsLicenseKeyDomainLimit'==_0x5e49f6||'mergeFieldsLicenseKeyNotAllowed'==_0x5e49f6||'mergeFieldsLicenseKeyEvaluationLimit'==_0x5e49f6||'mergeFieldsLicenseKeyTrialLimit'==_0x5e49f6||'mergeFieldsLicenseKeyDevelopmentLimit'==_0x5e49f6||'mergeFieldsLicenseKeyUsageLimit'==_0x5e49f6){delete _0x1be629[_0x79e273],_0x2c7cdc=_0x5e49f6,clearInterval(this['_licenseKeyCheckInterval']),this['_licenseKeyCheckInterval']=void 0x0;break;}}'mergeFieldsLicenseKeyInvalid'==_0x2c7cdc&&_0x1be629['_showLicenseError']('invalid'),'mergeFieldsLicenseKeyExpired'==_0x2c7cdc&&_0x1be629['_showLicenseError']('expired'),'mergeFieldsLicenseKeyDomainLimit'==_0x2c7cdc&&_0x1be629['_showLicenseError']('domainLimit'),'mergeFieldsLicenseKeyNotAllowed'==_0x2c7cdc&&_0x1be629['_showLicenseError']('featureNotAllowed','MergeFields'),'mergeFieldsLicenseKeyEvaluationLimit'==_0x2c7cdc&&_0x1be629['_showLicenseError']('evaluationLimit'),'mergeFieldsLicenseKeyTrialLimit'==_0x2c7cdc&&_0x1be629['_showLicenseError']('trialLimit'),'mergeFieldsLicenseKeyDevelopmentLimit'==_0x2c7cdc&&_0x1be629['_showLicenseError']('developmentLimit'),'mergeFieldsLicenseKeyUsageLimit'==_0x2c7cdc&&_0x1be629['_showLicenseError']('usageLimit');},0x3e8);}['destroy'](){super['destroy'](),this['_licenseKeyCheckInterval']&&clearInterval(this['_licenseKeyCheckInterval']);}['_updateBalloonVisibility'](){const _0x4f7ea7=this['editor']['editing']['view']['document']['selection']['getSelectedElement'](),_0x56b4a6=!(!_0x4f7ea7||!_0x4f7ea7['getCustomProperty']('mergeFieldStatus'));if(this['_balloon']['visibleView']&&this['_balloon']['visibleView']===this['_balloonPanelView']){if(_0x56b4a6){const _0x1f4ce7=_0x4f7ea7['getCustomProperty']('mergeFieldStatus');this['_balloonPanelView']['text']=N(this['editor']['locale'],_0x1f4ce7),this['_balloon']['updatePosition'](this['_getBalloonPositionData']());}else this['_hideBalloon']();}else{if(_0x56b4a6){const _0x19fa41=_0x4f7ea7['getCustomProperty']('mergeFieldStatus');this['_showBalloon'](N(this['editor']['locale'],_0x19fa41));}}}['_showBalloon'](_0x78bab0){this['_balloonPanelView']||(this['_balloonPanelView']=new D(this['editor']['locale']),this['_balloonPanelView']['text']=_0x78bab0),this['_balloon']['hasView'](this['_balloonPanelView'])||this['_balloon']['add']({'stackId':'mergeFieldsBalloon','view':this['_balloonPanelView'],'position':this['_getBalloonPositionData']()});}['_getBalloonPositionData'](){const _0x5b286b=this['editor']['editing']['view'];return{'target':()=>{const _0x4aef5b=_0x5b286b['document']['selection']['getFirstRange'](),_0x5e5f6d=_0x5b286b['domConverter']['mapViewToDom'](_0x4aef5b['getContainedElement']());return _0x5e5f6d?Array['from'](_0x5e5f6d['getClientRects']())[0x0]:_0x5b286b['domConverter']['viewRangeToDom'](_0x4aef5b);}};}['_hideBalloon'](){this['_balloon']['remove'](this['_balloonPanelView']);}['_removeMenuBarButtonIfUnnecessary'](){const _0x10ed33=this['editor']['config'];if(_0x10ed33['get']('mergeFields.previewModes')){const _0x1e13e4=_0x10ed33['get']('mergeFields.previewModes');if(0x1===_0x1e13e4['length']){if(_0x1e13e4['includes']('$dataSets'))0x1===_0x10ed33['get']('mergeFields.dataSets')['length']&&_0x470bff();else _0x470bff();}}function _0x470bff(){const _0x55e005=_0x10ed33['get']('menuBar.removeItems');_0x55e005?(_0x55e005['push']('menuBar:previewMergeFields'),_0x10ed33['set']('menuBar.removeItems',_0x55e005)):_0x10ed33['set']('menuBar.removeItems',['menuBar:previewMergeFields']);}}['_setupMentionConfiguration'](){const _0x2c89f5=this['editor'],_0x3b612a=_0x2c89f5['config']['get']('mention.feeds'),_0x205f8c=_0x2c89f5['config']['get']('mergeFields.prefix');_0x3b612a['push']({'marker':_0x205f8c['charAt'](0x0),'dropdownLimit':0xa,'feed':_0x119d2f=>{if(_0x119d2f['slice'](0x0,_0x205f8c['length']-0x1)!==_0x205f8c['slice'](0x1))return[];const _0x31efbc=_0x119d2f&&_0x119d2f['toLowerCase']()['slice'](_0x205f8c['length']-0x1);return _0x2c89f5['plugins']['get']('MergeFieldsEditing')['flattenedMergeFieldDefinitions']['filter'](_0x320f73=>{const _0xe7364e=_0x2c89f5['commands']['get']('insertMergeField')['isEnabled'],_0x4283dd=_0x2c89f5['commands']['get']('insertMergeFieldBlock')['isEnabled'],_0x6ff279=_0x2c89f5['plugins']['get']('MergeFieldsEditing')['getMergeFieldType'](_0x320f73['id']);if('text'===_0x6ff279&&!_0xe7364e)return!0x1;if('block'===_0x6ff279&&!_0x4283dd)return!0x1;return _0x2c89f5['plugins']['get']('MergeFieldsEditing')['getLabel'](_0x320f73['id'])['toLowerCase']()['includes'](_0x31efbc);});},'itemRenderer':_0x12c448=>{const _0x58f45f=document['createElement']('button');return _0x58f45f['innerHTML']=''+(_0x12c448['label']||_0x12c448['id']),_0x58f45f;}}),_0x2c89f5['config']['set']('mention.feeds',_0x3b612a);}['_overrideMentionExecuteListener'](){const _0x48fa30=this['editor'];_0x48fa30['commands']['get']('mention')['on']('execute',(_0x5cf0d5,_0x4c3d99)=>{const _0x129e80=_0x4c3d99[0x0];_0x129e80['marker']===_0x48fa30['config']['get']('mergeFields.prefix')['charAt'](0x0)&&_0x48fa30['model']['change'](_0x1abbc9=>{_0x1abbc9['remove'](_0x129e80['range']),('text'===_0x48fa30['plugins']['get']('MergeFieldsEditing')['getMergeFieldType'](_0x129e80['mention']['id'])?_0x48fa30['execute']('insertMergeField',_0x129e80['mention']['id']):_0x48fa30['execute']('insertMergeFieldBlock',_0x129e80['mention']['id'],!0x1),_0x5cf0d5['stop']());});},{'priority':'high'});}}function U(_0x47aae3,_0x246628,_0xed3489,_0x22bacd){const _0x379f3c=new _0x40e0ea(_0x47aae3,new _0x3d855d());_0x379f3c['label']=_0x246628;for(const _0x20b001 of _0xed3489){const _0x46277f=q(_0x47aae3,_0x20b001,'block'===_0x20b001['type']?_0x22bacd['insertBlock']:_0x22bacd['insertInline']);_0x46277f['delegate']('execute')['to'](_0x379f3c),_0x379f3c['items']['add'](_0x46277f);}return _0x379f3c;}function q(_0xc7896,_0x4bee9a,_0x2d298a){const _0xa8169e=new _0x5c91df(_0xc7896),_0x5a7917=new _0x452a05(),_0x81e25e=new _0x13857a(_0xc7896,_0x5a7917);return _0xa8169e['children']['add'](_0x81e25e),_0x81e25e['set']({'label':_0x4bee9a['label']||_0x4bee9a['id'],'withText':!0x0}),_0x81e25e['bind']('isEnabled')['to'](_0x2d298a),_0x81e25e['on']('execute',()=>{_0xa8169e['fire']('execute',_0x4bee9a['id']);}),_0xa8169e;}function C(_0x163b57,_0x3d6485,_0x5135ce){const _0x15c80a=new _0x6a9456(_0x163b57),_0x5346cf=new _0x4f2a9f(_0x163b57);for(const _0x2486c7 of _0x3d6485['definitions']){const _0x4ce8a3=R(_0x163b57,_0x2486c7,_0x15c80a,'block'===_0x2486c7['type']?_0x5135ce['insertBlock']:_0x5135ce['insertInline']);_0x5346cf['items']['add'](_0x4ce8a3);}return _0x15c80a['set']({'class':'ck-menu-bar__merge-fields-submenu'}),_0x15c80a['buttonView']['set']({'label':_0x3d6485['groupLabel']||_0x3d6485['groupId']}),_0x15c80a['panelView']['children']['add'](_0x5346cf),_0x15c80a;}function R(_0x950e65,_0x3f25e3,_0x4c0b3b,_0x39ea9b){const _0x304e58=new _0x11cd48(_0x950e65,_0x4c0b3b),_0x2c1fac=new _0xe1a735(_0x950e65);return _0x2c1fac['set']({'label':_0x3f25e3['label']||_0x3f25e3['id']}),_0x304e58['delegate']('execute')['to'](_0x4c0b3b),_0x304e58['children']['add'](_0x2c1fac),_0x2c1fac['bind']('isEnabled')['to'](_0x39ea9b),_0x2c1fac['on']('execute',()=>{_0x304e58['fire']('execute',_0x3f25e3['id']);}),_0x304e58;}class u extends _0x30f9ef{static get['requires'](){return[g,m];}static get['pluginName'](){return'MergeFields';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}}export{u as MergeFields,g as MergeFieldsEditing,m as MergeFieldsUI};