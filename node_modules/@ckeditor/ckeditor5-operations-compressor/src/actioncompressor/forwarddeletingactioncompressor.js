/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
function _0x4298(){const _0x55c28d=['root','$graveyard','977166mmqqDk','_checkOperation','MoveOperation','_splitCurrent','buffers','7448070pEoipp','1155168xaNtXR','targetPosition','decompress','sourcePosition','_combineNext','_compareOperations','12cnATLA','1351847Asgjad','howMany','4337690EuSjyi','_decompressSingleOperation','_getCompressorByName','_context','24920370HyCueA','_compressSingleOperation','__className','compress','4pJUetF','wasUndone','446572CdtUsY'];_0x4298=function(){return _0x55c28d;};return _0x4298();}function _0xd1e9(_0x5cfb91,_0x48964c){const _0x429814=_0x4298();return _0xd1e9=function(_0xd1e97e,_0x2c7809){_0xd1e97e=_0xd1e97e-0x8b;let _0x2ea484=_0x429814[_0xd1e97e];return _0x2ea484;},_0xd1e9(_0x5cfb91,_0x48964c);}const _0xfc70c8=_0xd1e9;(function(_0x5785be,_0x1ed758){const _0x1b9c98=_0xd1e9,_0x812bc5=_0x5785be();while(!![]){try{const _0x533d76=-parseInt(_0x1b9c98(0x98))/0x1+parseInt(_0x1b9c98(0xa4))/0x2*(-parseInt(_0x1b9c98(0x97))/0x3)+parseInt(_0x1b9c98(0xa2))/0x4*(-parseInt(_0x1b9c98(0x9a))/0x5)+-parseInt(_0x1b9c98(0x8b))/0x6+parseInt(_0x1b9c98(0x90))/0x7+parseInt(_0x1b9c98(0x91))/0x8+parseInt(_0x1b9c98(0x9e))/0x9;if(_0x533d76===_0x1ed758)break;else _0x812bc5['push'](_0x812bc5['shift']());}catch(_0x49ae8e){_0x812bc5['push'](_0x812bc5['shift']());}}}(_0x4298,0xab5fa));import _0x2d465a from'./actioncompressor.js';import{arePositionsEqual as _0x5381d5}from'../utils.js';import{cloneDeep as _0xaa271f}from'lodash-es';export default class h extends _0x2d465a{[_0xfc70c8(0x95)](_0x32319e,_0x55f0db){const _0x23dd4b=_0xfc70c8;return _0x55f0db[_0x23dd4b(0x99)]++,_0x55f0db;}[_0xfc70c8(0x8e)](_0x4516a7){const _0x1068a1=_0xfc70c8,_0x1047c6=_0xaa271f(_0x4516a7);return _0x1047c6[_0x1068a1(0x99)]=0x1,_0x4516a7[_0x1068a1(0x99)]--,_0x1047c6;}[_0xfc70c8(0x96)](_0x15152e,_0x115381){const _0x491996=_0xfc70c8;return!(!this[_0x491996(0x8c)](_0x15152e)||!this[_0x491996(0x8c)](_0x115381))&&(_0x5381d5(_0x15152e[_0x491996(0x94)],_0x115381[_0x491996(0x94)])&&_0x5381d5(_0x15152e[_0x491996(0x92)],_0x115381[_0x491996(0x92)]));}[_0xfc70c8(0x9f)](_0x83ae2a){const _0xce4ae2=_0xfc70c8,_0x1be4bd={'types':[],'buffers':[],'baseVersion':0x0};return this[_0xce4ae2(0x9d)][_0xce4ae2(0x9c)](_0xce4ae2(0x8d))[_0xce4ae2(0xa1)](_0x1be4bd,[_0x83ae2a]),_0x1be4bd[_0xce4ae2(0x8f)][0x0];}[_0xfc70c8(0x9b)](_0x51b1ad){const _0x40d148=_0xfc70c8,_0x126f8d=[];return this[_0x40d148(0x9d)][_0x40d148(0x9c)](_0x40d148(0x8d))[_0x40d148(0x93)](_0x126f8d,_0x51b1ad),_0x126f8d[0x0];}[_0xfc70c8(0x8c)](_0x256af2){const _0x1aa5fd=_0xfc70c8;return _0x1aa5fd(0x8d)==_0x256af2[_0x1aa5fd(0xa0)]&&_0x1aa5fd(0xa6)==_0x256af2[_0x1aa5fd(0x92)][_0x1aa5fd(0xa5)]&&0x1==_0x256af2[_0x1aa5fd(0x99)]&&!_0x256af2[_0x1aa5fd(0xa3)];}}