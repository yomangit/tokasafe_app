/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
function _0xe240(_0x453739,_0x4b3375){const _0x21fae5=_0x21fa();return _0xe240=function(_0xe240d,_0x1e6c3d){_0xe240d=_0xe240d-0x80;let _0x5d061f=_0x21fae5[_0xe240d];return _0x5d061f;},_0xe240(_0x453739,_0x4b3375);}const _0x5f141c=_0xe240;(function(_0x538873,_0x3a0b19){const _0x1d1554=_0xe240,_0x15e8c5=_0x538873();while(!![]){try{const _0x5913ea=-parseInt(_0x1d1554(0xba))/0x1*(parseInt(_0x1d1554(0xa7))/0x2)+parseInt(_0x1d1554(0xbb))/0x3+-parseInt(_0x1d1554(0xcc))/0x4*(parseInt(_0x1d1554(0xab))/0x5)+parseInt(_0x1d1554(0xac))/0x6+parseInt(_0x1d1554(0xbd))/0x7+parseInt(_0x1d1554(0xd7))/0x8*(-parseInt(_0x1d1554(0xc1))/0x9)+parseInt(_0x1d1554(0xd2))/0xa*(parseInt(_0x1d1554(0xa9))/0xb);if(_0x5913ea===_0x3a0b19)break;else _0x15e8c5['push'](_0x15e8c5['shift']());}catch(_0x53f980){_0x15e8c5['push'](_0x15e8c5['shift']());}}}(_0x21fa,0xa0b73));import{ContextPlugin as _0x5aebab}from'ckeditor5/src/core.js';import{CKEditorError as _0x30976e,Collection as _0xa75ecb}from'ckeditor5/src/utils.js';import{clickOutsideHandler as _0x15ee67,BalloonPanelView as _0x1883fc,BodyCollection as _0x537868}from'ckeditor5/src/ui.js';import{isElement as _0x538e86}from'lodash-es';import _0x352563 from'../realtimecollaborativeediting/sessions.js';import _0x27b3e9 from'./view/presencelistview.js';import _0x2e2df4 from'./view/presencedropdownlistview.js';import _0x1e6a87 from'./view/presencedropdownlistitemview.js';function _0x21fa(){const _0x7b66ed=['_createView','items','onClick','unpin','define','ck\x20ck-presence-list__balloon','config','select','4Zggjds','appendChild','class','Tab','view','showDropdown','80cOOpiS','context','offsetHeight','number','indexOf','8WPoMll','button','checkIfScrollable','element','activeElement','join','remove','_bodyCollection','presenceDropdownView','inlineListView','content','querySelectorAll','add','requires','map','_allConnectedUsers','sort','presencelist-collapseat-invalid-format','set','Enter','destroy','focusTracker','attachToDom','init','plugins','using','Shift+Tab','isFocusable','displayMe','keystrokes','hasTooltip','presencelist-missing-container','allConnectedUsers','balloonPanelView','min','length','reverse','isCollapsed','pin','change:isFocused','usersCount','get','_handleUserAdd','focus','[contenteditable]','detachFromDom','input','bind','render','textarea','bindTo','_handleUserRemove','isRendered','presenceList.container','14UWiTUD','presenceList.displayMe','1040974yjqSpc','tabIndex','2335615CGKfyi','2664204nUVWHN','counterView','Esc','body','presenceList','isExpanded',':not([disabled]):not([tabindex=\x22-1\x22])','hideDropdown','isVisible','isHidden','locale','filter','listenTo','presenceList.collapseAt','21753finuQK','427584FwJeBi','from','2897650jdDtRr','isMe','execute','[tabindex]','4319091jAUPNx','currentDisplayedUsers','offsetWidth'];_0x21fa=function(){return _0x7b66ed;};return _0x21fa();}import _0x4b0c1f from'./view/presenceinlinelistitemview.js';const A={'collapseAt':0x6,'displayMe':!0x0};export default class r extends _0x5aebab{constructor(_0x24d165){const _0x1b94e0=_0xe240;super(_0x24d165),this[_0x1b94e0(0xde)]=null,this[_0x1b94e0(0xd3)][_0x1b94e0(0xca)][_0x1b94e0(0xc8)](_0x1b94e0(0xb0),A);const _0x2e7e80=_0x24d165[_0x1b94e0(0xca)][_0x1b94e0(0x9a)](_0x1b94e0(0xb9));if(_0x1b94e0(0xd5)!=typeof _0x2e7e80)throw new _0x30976e(_0x1b94e0(0x82),this);if(_0x2e7e80<0x1)throw new _0x30976e(_0x1b94e0(0x82),this);this[_0x1b94e0(0x80)]=this[_0x1b94e0(0xd3)][_0x1b94e0(0x89)][_0x1b94e0(0x9a)](_0x352563)[_0x1b94e0(0x91)],this[_0x1b94e0(0x83)](_0x1b94e0(0x99),0x0),this[_0x1b94e0(0xc2)]=new _0xa75ecb(),this[_0x1b94e0(0x92)]=new _0x1883fc(),this[_0x1b94e0(0x92)][_0x1b94e0(0xce)]=_0x1b94e0(0xc9),this[_0x1b94e0(0xd0)]=this[_0x1b94e0(0xc4)](),this[_0x1b94e0(0xdf)]=void 0x0;}static get[_0x5f141c(0xe4)](){return[_0x352563];}[_0x5f141c(0x88)](){const _0x253717=_0x5f141c;for(const _0x2950f7 of this[_0x253717(0x80)])this[_0x253717(0x9b)](_0x2950f7);this[_0x253717(0xb8)](this[_0x253717(0x80)],_0x253717(0xe3),(_0x353ba8,_0x1ab1d1)=>{const _0x4472f5=_0x253717;this[_0x4472f5(0x9b)](_0x1ab1d1);}),this[_0x253717(0xb8)](this[_0x253717(0x80)],_0x253717(0xdd),(_0x192917,_0x50d321)=>{const _0x2af8f8=_0x253717;this[_0x2af8f8(0xa4)](_0x50d321);});}[_0x5f141c(0xc4)](){const _0x1f0ac4=_0x5f141c,_0x4cf96b=this[_0x1f0ac4(0xd3)],_0x38e94b=new _0x27b3e9(this[_0x1f0ac4(0xd3)][_0x1f0ac4(0xb6)]),_0x42ea91=this[_0x1f0ac4(0x92)];if(!_0x538e86(_0x4cf96b[_0x1f0ac4(0xca)][_0x1f0ac4(0x9a)](_0x1f0ac4(0xa6))))throw new _0x30976e(_0x1f0ac4(0x90),this);return _0x38e94b[_0x1f0ac4(0xad)][_0x1f0ac4(0xa0)](_0x1f0ac4(0x99))['to'](this),_0x38e94b[_0x1f0ac4(0xa0)](_0x1f0ac4(0x96))['to'](this,_0x1f0ac4(0x99),_0x3e1f60=>{const _0x198925=_0x1f0ac4,{collapseAt:_0x363eae,displayMe:_0x463c4b}=_0x4cf96b[_0x198925(0xca)][_0x198925(0x9a)](_0x198925(0xb0)),_0x27f4c0=_0x3e1f60>=_0x363eae;return _0x38e94b[_0x198925(0xad)][_0x198925(0xb5)]=!(0x1==_0x3e1f60&&_0x463c4b||_0x27f4c0),_0x27f4c0||this[_0x198925(0xb3)](),_0x27f4c0;}),_0x38e94b[_0x1f0ac4(0xe0)][_0x1f0ac4(0xc5)][_0x1f0ac4(0xa3)](this[_0x1f0ac4(0xc2)])[_0x1f0ac4(0x8a)](_0xa6f1a0=>{const _0x30dce9=_0x1f0ac4,_0x233c9d=_0x4cf96b[_0x30dce9(0xca)][_0x30dce9(0x9a)](_0x30dce9(0xb0)),_0x1f71d4=new _0x4b0c1f(_0x4cf96b[_0x30dce9(0xb6)],_0xa6f1a0,!!_0x233c9d[_0x30dce9(0xc6)]);return _0x1f71d4[_0x30dce9(0xa0)](_0x30dce9(0x8f))['to'](_0x38e94b,_0x30dce9(0x96),_0x38c2c7=>!_0x38c2c7),_0x1f71d4[_0x30dce9(0xa0)](_0x30dce9(0x8c))['to'](_0x38e94b,_0x30dce9(0x96),_0x44ce72=>!_0x44ce72),_0x233c9d[_0x30dce9(0xc6)]&&this[_0x30dce9(0xb8)](_0x1f71d4,_0x30dce9(0xbf),()=>{const _0xd62d1f=_0x30dce9;this[_0xd62d1f(0xd0)][_0xd62d1f(0x96)]||_0x233c9d[_0xd62d1f(0xc6)](_0xa6f1a0,_0x1f71d4[_0xd62d1f(0xda)]);}),_0x1f71d4;}),this[_0x1f0ac4(0xb8)](_0x38e94b[_0x1f0ac4(0xe0)],_0x1f0ac4(0xbf),()=>{const _0x545342=_0x1f0ac4;this[_0x545342(0xdf)]?this[_0x545342(0xb3)]():this[_0x545342(0xd0)][_0x545342(0x96)]&&this[_0x545342(0xd1)]();}),_0x38e94b[_0x1f0ac4(0xe0)][_0x1f0ac4(0x8e)][_0x1f0ac4(0x83)](_0x1f0ac4(0x84),(_0xd01751,_0x5ba61f)=>{const _0x1b3a5b=_0x1f0ac4;this[_0x1b3a5b(0xd0)][_0x1b3a5b(0x96)]&&(this[_0x1b3a5b(0xd1)](),_0x5ba61f());}),_0x38e94b[_0x1f0ac4(0xa1)](),_0x42ea91[_0x1f0ac4(0xa1)](),_0x15ee67({'emitter':_0x38e94b,'activator':()=>_0x42ea91[_0x1f0ac4(0xb4)],'contextElements':[_0x42ea91[_0x1f0ac4(0xda)],_0x38e94b[_0x1f0ac4(0xe0)][_0x1f0ac4(0xda)]],'callback':()=>this[_0x1f0ac4(0xb3)]()}),_0x4cf96b[_0x1f0ac4(0xca)][_0x1f0ac4(0x9a)](_0x1f0ac4(0xa6))[_0x1f0ac4(0xcd)](_0x38e94b[_0x1f0ac4(0xda)]),this[_0x1f0ac4(0xde)]=new _0x537868(this[_0x1f0ac4(0xd3)][_0x1f0ac4(0xb6)]),this[_0x1f0ac4(0xde)][_0x1f0ac4(0x87)](),this[_0x1f0ac4(0xde)][_0x1f0ac4(0xe3)](this[_0x1f0ac4(0x92)]),_0x38e94b;}[_0x5f141c(0x9b)](_0x5a75fc){const _0x1d3c36=_0x5f141c;if(!this[_0x1d3c36(0xd3)][_0x1d3c36(0xca)][_0x1d3c36(0x9a)](_0x1d3c36(0xa8))&&_0x5a75fc[_0x1d3c36(0xbe)])return;const _0x415012=this[_0x1d3c36(0xd3)][_0x1d3c36(0xca)][_0x1d3c36(0x9a)](_0x1d3c36(0xb9))-0x1;this[_0x1d3c36(0x99)]++,this[_0x1d3c36(0xc2)][_0x1d3c36(0x94)]==_0x415012&&this[_0x1d3c36(0xc2)][_0x1d3c36(0x94)]>0x1&&this[_0x1d3c36(0xc2)][_0x1d3c36(0xdd)](0x1);const _0x4cd9ac=_0x5a75fc[_0x1d3c36(0xbe)]?0x0:this[_0x1d3c36(0xc2)][_0x1d3c36(0x94)];this[_0x1d3c36(0xc2)][_0x1d3c36(0xe3)](_0x5a75fc,_0x4cd9ac);}[_0x5f141c(0xa4)](_0x50aeb1){const _0x447f00=_0x5f141c;if(this[_0x447f00(0x99)]--,this[_0x447f00(0xc2)][_0x447f00(0x9a)](_0x50aeb1['id'])&&(this[_0x447f00(0xc2)][_0x447f00(0xdd)](_0x50aeb1['id']),this[_0x447f00(0xc2)][_0x447f00(0x94)]<this[_0x447f00(0x99)])){for(const _0x9ecd64 of Array[_0x447f00(0xbc)](this[_0x447f00(0x80)])[_0x447f00(0x95)]())if(!this[_0x447f00(0xc2)][_0x447f00(0x9a)](_0x9ecd64['id']))return void this[_0x447f00(0xc2)][_0x447f00(0xe3)](_0x9ecd64,Math[_0x447f00(0x93)](this[_0x447f00(0xc2)][_0x447f00(0x94)],0x1));}}[_0x5f141c(0xd1)](){const _0x397aee=_0x5f141c;if(this[_0x397aee(0xdf)])return;const _0x2c2319=this[_0x397aee(0xd3)][_0x397aee(0xca)][_0x397aee(0x9a)](_0x397aee(0xb0));this[_0x397aee(0xdf)]=new _0x2e2df4(this[_0x397aee(0xd3)][_0x397aee(0xb6)],!!_0x2c2319[_0x397aee(0xc6)]),this[_0x397aee(0xd0)][_0x397aee(0xe0)][_0x397aee(0xb1)]=!0x0;const {listWrapperView:_0x45e66a}=this[_0x397aee(0xdf)];_0x45e66a[_0x397aee(0xc5)][_0x397aee(0xa3)](this[_0x397aee(0x80)])[_0x397aee(0x8a)](_0x46ac43=>{const _0x20fab3=_0x397aee;if(!_0x2c2319[_0x20fab3(0x8d)]&&_0x46ac43[_0x20fab3(0xbe)])return null;const _0x2bce33=new _0x1e6a87(this[_0x20fab3(0xd3)][_0x20fab3(0xb6)],_0x46ac43,!!_0x2c2319[_0x20fab3(0xc6)]);return _0x2c2319[_0x20fab3(0xc6)]&&this[_0x20fab3(0xb8)](_0x2bce33,_0x20fab3(0xbf),()=>{const _0x1e73d0=_0x20fab3;_0x2c2319[_0x1e73d0(0xc6)](_0x46ac43,_0x2bce33[_0x1e73d0(0xda)]);}),_0x2bce33;}),this[_0x397aee(0x92)][_0x397aee(0xe1)][_0x397aee(0xe3)](this[_0x397aee(0xdf)]),this[_0x397aee(0x92)][_0x397aee(0x97)]({'target':this[_0x397aee(0xd0)][_0x397aee(0xe0)][_0x397aee(0xda)]}),_0x45e66a[_0x397aee(0x9c)](),_0x45e66a[_0x397aee(0xd9)]();const _0x3208f8=(_0x45a134,_0x4bb28a)=>{const _0x3ed415=_0x397aee;this[_0x3ed415(0xb3)](),this[_0x3ed415(0xd0)][_0x3ed415(0xe0)][_0x3ed415(0x9c)](),_0x4bb28a();};_0x45e66a[_0x397aee(0x8e)][_0x397aee(0x83)](_0x397aee(0xae),_0x3208f8),_0x45e66a[_0x397aee(0x8e)][_0x397aee(0x83)](_0x397aee(0x8b),_0x3208f8),_0x45e66a[_0x397aee(0x8e)][_0x397aee(0x83)](_0x397aee(0xcf),(_0x132723,_0x3856ce)=>{const _0x50406d=_0x397aee;!function(_0x46844f){const _0x198271=_0xe240,_0xd61f0b=['a',_0x198271(0xd8),_0x198271(0x9f),_0x198271(0xcb),_0x198271(0xa2),_0x198271(0xc0),_0x198271(0x9d)][_0x198271(0xe5)](_0xf57e87=>_0xf57e87+_0x198271(0xb2))[_0x198271(0xdc)](','),_0x38f1b4=[...document[_0x198271(0xaf)][_0x198271(0xe2)](_0xd61f0b)][_0x198271(0xb7)](_0x48bb22=>_0x48bb22===document[_0x198271(0xdb)]||_0x48bb22[_0x198271(0xc3)]+_0x48bb22[_0x198271(0xd4)]>0x0)[_0x198271(0x81)]((_0x5bba12,_0x149d1d)=>(_0x5bba12[_0x198271(0xaa)]||0x0)-(_0x149d1d[_0x198271(0xaa)]||0x0)),_0x192423=_0x38f1b4[_0x198271(0xd6)](_0x46844f),_0x55fc94=_0x38f1b4[(_0x192423+0x1)%_0x38f1b4[_0x198271(0x94)]];_0x55fc94&&_0x55fc94[_0x198271(0x9c)]();}(this[_0x50406d(0xd0)][_0x50406d(0xda)]),this[_0x50406d(0xb3)](),_0x3856ce();}),_0x45e66a[_0x397aee(0x86)][_0x397aee(0xe3)](this[_0x397aee(0xd0)][_0x397aee(0xda)]),_0x45e66a[_0x397aee(0x86)]['on'](_0x397aee(0x98),(_0x38bc33,_0x3aa44f,_0x2d9ca1)=>{const _0x284cf8=_0x397aee;_0x2d9ca1||this[_0x284cf8(0xb3)]();});}[_0x5f141c(0xb3)](){const _0xb55084=_0x5f141c;this[_0xb55084(0xdf)]&&(this[_0xb55084(0xd0)][_0xb55084(0xe0)][_0xb55084(0xb1)]=!0x1,this[_0xb55084(0x92)][_0xb55084(0xc7)](),this[_0xb55084(0x92)][_0xb55084(0xe1)][_0xb55084(0xdd)](this[_0xb55084(0xdf)]),this[_0xb55084(0xdf)][_0xb55084(0x85)](),this[_0xb55084(0xdf)]=void 0x0);}[_0x5f141c(0x85)](){const _0x17ec8c=_0x5f141c;super[_0x17ec8c(0x85)](),this[_0x17ec8c(0xd0)]&&this[_0x17ec8c(0xd0)][_0x17ec8c(0xa5)]&&this[_0x17ec8c(0xd0)][_0x17ec8c(0x85)](),this[_0x17ec8c(0xde)]&&(this[_0x17ec8c(0xde)][_0x17ec8c(0x9e)](),this[_0x17ec8c(0xde)][_0x17ec8c(0x85)](),this[_0x17ec8c(0xde)]=null);}}