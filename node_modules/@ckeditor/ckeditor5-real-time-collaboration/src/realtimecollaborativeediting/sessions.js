/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0xb69fb9=_0x5118;(function(_0x14ae61,_0xb84df3){const _0x19058b=_0x5118,_0x1470fc=_0x14ae61();while(!![]){try{const _0x216220=-parseInt(_0x19058b(0x9f))/0x1+parseInt(_0x19058b(0xa4))/0x2+parseInt(_0x19058b(0x90))/0x3*(parseInt(_0x19058b(0xc1))/0x4)+-parseInt(_0x19058b(0xaf))/0x5*(-parseInt(_0x19058b(0xa0))/0x6)+-parseInt(_0x19058b(0xb2))/0x7*(parseInt(_0x19058b(0xc2))/0x8)+-parseInt(_0x19058b(0x8c))/0x9*(-parseInt(_0x19058b(0xa1))/0xa)+-parseInt(_0x19058b(0xbd))/0xb*(-parseInt(_0x19058b(0x87))/0xc);if(_0x216220===_0xb84df3)break;else _0x1470fc['push'](_0x1470fc['shift']());}catch(_0x528b22){_0x1470fc['push'](_0x1470fc['shift']());}}}(_0x40e7,0xa3c01));import{ContextPlugin as _0x99479c}from'ckeditor5/src/core.js';import{Collection as _0x14b19a,CKEditorError as _0x3ddf94}from'ckeditor5/src/utils.js';import _0x35bb45 from'./websocketgateway.js';import{Users as _0x3669b4}from'ckeditor5-collaboration/src/collaboration-core.js';function _0x5118(_0x92ea75,_0x377dec){const _0x40e7cd=_0x40e7();return _0x5118=function(_0x511853,_0x341a51){_0x511853=_0x511853-0x87;let _0x81d1d4=_0x40e7cd[_0x511853];return _0x81d1d4;},_0x5118(_0x92ea75,_0x377dec);}export default class i extends _0x99479c{static get[_0xb69fb9(0x96)](){const _0x4a1dd3=_0xb69fb9;return _0x4a1dd3(0xb1);}static get[_0xb69fb9(0x9e)](){return!0x0;}static get[_0xb69fb9(0xb0)](){return!0x0;}static get[_0xb69fb9(0xb6)](){return[_0x35bb45,_0x3669b4];}constructor(_0x433d67){const _0x49fe0b=_0xb69fb9;super(_0x433d67),this[_0x49fe0b(0xac)]=new Map(),this[_0x49fe0b(0xb7)]=new Map(),this[_0x49fe0b(0x98)]=new _0x14b19a(),this[_0x49fe0b(0x8b)]=new Map(),this[_0x49fe0b(0xb3)]=0x0,this[_0x49fe0b(0x8d)]=this[_0x49fe0b(0xa7)][_0x49fe0b(0xae)][_0x49fe0b(0xb8)](_0x3669b4);}[_0xb69fb9(0x99)](){const _0x533ea2=_0xb69fb9,_0x56c6f8=this[_0x533ea2(0xa7)][_0x533ea2(0xae)][_0x533ea2(0xb8)](_0x35bb45);this[_0x533ea2(0x8e)](_0x56c6f8,_0x533ea2(0xaa),(_0x9c25e7,_0x3eec1f,_0x33f12b)=>{const _0x3fbc7b=_0x533ea2;if(_0x3fbc7b(0xc5)!==_0x33f12b)this[_0x3fbc7b(0xac)][_0x3fbc7b(0xa5)](_0x22e8cd=>_0x22e8cd[_0x3fbc7b(0x9b)]()),this[_0x3fbc7b(0xb7)][_0x3fbc7b(0xa5)](_0x5095bd=>_0x5095bd[_0x3fbc7b(0x9b)]()),this[_0x3fbc7b(0x98)][_0x3fbc7b(0x9b)]();else{for(const [_0x3e74ef,_0x29e603]of this[_0x3fbc7b(0x8b)])for(const _0x2be068 of _0x29e603)this[_0x3fbc7b(0xbf)](_0x3e74ef,_0x2be068);}}),this[_0x533ea2(0xb9)](_0x56c6f8[_0x533ea2(0xc3)]['me'],!0x0);}[_0xb69fb9(0xc6)](_0x3d0b40,_0x3483a2){const _0x27fb25=_0xb69fb9;if(this[_0x27fb25(0x8b)][_0x27fb25(0xbe)](_0x3d0b40))throw new _0x3ddf94(_0x27fb25(0x8a),null,{'channelId':_0x3d0b40});this[_0x27fb25(0x8b)][_0x27fb25(0x9a)](_0x3d0b40,_0x3483a2),this[_0x27fb25(0xac)][_0x27fb25(0x9a)](_0x3d0b40,new _0x14b19a()),this[_0x27fb25(0xb7)][_0x27fb25(0x9a)](_0x3d0b40,new _0x14b19a()),this[_0x27fb25(0x8e)](_0x3483a2,_0x27fb25(0xc4),(_0x1c7ab7,_0x46bfec)=>this[_0x27fb25(0xbf)](_0x3d0b40,_0x46bfec)),this[_0x27fb25(0x8e)](_0x3483a2,_0x27fb25(0x9d),(_0x3e5a22,_0x6664bc)=>this[_0x27fb25(0x95)](_0x3d0b40,_0x6664bc));for(const _0x45731f of _0x3483a2)this[_0x27fb25(0xbf)](_0x3d0b40,_0x45731f);}[_0xb69fb9(0xab)](_0x439521){const _0xe1ecf2=_0xb69fb9;if(!this[_0xe1ecf2(0x8b)][_0xe1ecf2(0xbe)](_0x439521))throw new _0x3ddf94(_0xe1ecf2(0x93),null,{'channelId':_0x439521});const _0xb6e646=this[_0xe1ecf2(0x8b)][_0xe1ecf2(0xb8)](_0x439521);this[_0xe1ecf2(0x91)](_0xb6e646);for(const _0x119c2c of _0xb6e646)_0xe1ecf2(0xc5)===this[_0xe1ecf2(0xa7)][_0xe1ecf2(0xae)][_0xe1ecf2(0xb8)](_0x35bb45)[_0xe1ecf2(0x92)]&&this[_0xe1ecf2(0x95)](_0x439521,_0x119c2c);this[_0xe1ecf2(0x8b)][_0xe1ecf2(0x88)](_0x439521),this[_0xe1ecf2(0xac)][_0xe1ecf2(0x88)](_0x439521),this[_0xe1ecf2(0xb7)][_0xe1ecf2(0x88)](_0x439521);}get[_0xb69fb9(0x89)](){const _0x2715d2=_0xb69fb9;return this[_0x2715d2(0xa7)][_0x2715d2(0xae)][_0x2715d2(0xb8)](_0x35bb45)[_0x2715d2(0xc3)][_0x2715d2(0xa3)];}[_0xb69fb9(0x97)](_0xef831b){const _0xbb492=_0xb69fb9;for(const _0x560ca0 of this[_0xbb492(0xac)][_0xbb492(0xba)]())for(const _0x398abb of _0x560ca0)if(_0x398abb['id']===_0xef831b)return _0x398abb[_0xbb492(0xa9)];}[_0xb69fb9(0xad)](_0x4424a1,_0x3ab51b){const _0x172aa4=_0xb69fb9,_0xaf9ddc=_0x3ab51b?[this[_0x172aa4(0xac)][_0x172aa4(0xb8)](_0x3ab51b)]:this[_0x172aa4(0xac)][_0x172aa4(0xba)](),_0x20916d=new Set();for(const _0x2b9632 of _0xaf9ddc)for(const _0x7db7a0 of _0x2b9632)_0x7db7a0[_0x172aa4(0xa9)]['id']===_0x4424a1['id']&&_0x20916d[_0x172aa4(0xc4)](_0x7db7a0['id']);return _0x20916d;}[_0xb69fb9(0x94)](_0x28cb17){const _0x3315ef=_0xb69fb9;for(const _0x49d250 of this[_0x3315ef(0xac)][_0x3315ef(0xba)]())for(const _0x6350b1 of _0x49d250)if(_0x6350b1[_0x3315ef(0xa9)]===_0x28cb17)return _0x6350b1[_0x3315ef(0x8f)];}[_0xb69fb9(0xbf)](_0x38c4f7,_0x18746c){const _0x273abd=_0xb69fb9;if(_0x273abd(0xc5)!==this[_0x273abd(0xa7)][_0x273abd(0xae)][_0x273abd(0xb8)](_0x35bb45)[_0x273abd(0x92)])return;const _0x2e0d58=_0x18746c[_0x273abd(0xa9)],_0x118a2a=this[_0x273abd(0x8d)][_0x273abd(0xbc)](_0x2e0d58['id'])||this[_0x273abd(0xb9)](_0x2e0d58),_0x4e40e3=Object[_0x273abd(0x9c)]({},_0x18746c,{'user':_0x118a2a});this[_0x273abd(0xac)][_0x273abd(0xb8)](_0x38c4f7)[_0x273abd(0xc4)](_0x4e40e3);const _0x2ef028=this[_0x273abd(0xb7)][_0x273abd(0xb8)](_0x38c4f7);_0x2ef028[_0x273abd(0xbe)](_0x118a2a['id'])||_0x2ef028[_0x273abd(0xc4)](_0x118a2a),this[_0x273abd(0x98)][_0x273abd(0xbe)](_0x118a2a['id'])||this[_0x273abd(0x98)][_0x273abd(0xc4)](_0x118a2a,_0x118a2a[_0x273abd(0xa6)]?0x0:void 0x0),this[_0x273abd(0xb4)](_0x273abd(0xc0)+_0x38c4f7,{'channelId':_0x38c4f7,'session':_0x4e40e3});}[_0xb69fb9(0x95)](_0xabb76e,_0x2f411e){const _0x244b0f=_0xb69fb9;if(_0x244b0f(0xc5)!==this[_0x244b0f(0xa7)][_0x244b0f(0xae)][_0x244b0f(0xb8)](_0x35bb45)[_0x244b0f(0x92)])return;const _0x4c4bac=this[_0x244b0f(0xb7)][_0x244b0f(0xb8)](_0xabb76e),_0x8cccd7=_0x2f411e[_0x244b0f(0xa9)];_0x8cccd7['id']&&(this[_0x244b0f(0xac)][_0x244b0f(0xb8)](_0xabb76e)[_0x244b0f(0x9d)](_0x2f411e['id']),_0x4c4bac[_0x244b0f(0xbe)](_0x8cccd7['id'])&&!this[_0x244b0f(0xad)](_0x8cccd7,_0xabb76e)[_0x244b0f(0xa2)]&&_0x4c4bac[_0x244b0f(0x9d)](_0x8cccd7['id']),this[_0x244b0f(0x98)][_0x244b0f(0xb8)](_0x8cccd7['id'])&&!this[_0x244b0f(0xad)](_0x8cccd7)[_0x244b0f(0xa2)]&&this[_0x244b0f(0x98)][_0x244b0f(0x9d)](_0x8cccd7['id']));}[_0xb69fb9(0xb9)](_0x6ece52,_0x229b61){const _0x3f8cd3=_0xb69fb9,_0x10948a=this[_0x3f8cd3(0x8d)][_0x3f8cd3(0xa8)](_0x6ece52);return _0x229b61&&this[_0x3f8cd3(0x8d)][_0x3f8cd3(0xb5)](_0x6ece52['id']),_0x10948a[_0x3f8cd3(0xbb)]=this[_0x3f8cd3(0xb3)]++,_0x10948a;}}function _0x40e7(){const _0x46d708=['sessionAdd:','4qjRfbe','8DMhhzd','connection','add','connected','register','12WduLTq','delete','mySessionId','sessions-register-already-registered','_registeredSessions','9909153nkANkt','_users','listenTo','role','1859955iFVYZZ','stopListening','state','sessions-unregister-not-exist','getUserRole','_handleSessionRemove','pluginName','getUserBySessionId','allConnectedUsers','init','set','clear','assign','remove','isOfficialPlugin','1190008WkQzwZ','6ECtxpj','10odUvoz','size','sessionId','1483182sCLIMl','forEach','isMe','context','addUser','user','change:state','unregister','channelSessions','getUserSessions','plugins','1441115meBGmo','isPremiumPlugin','Sessions','8589028HjGBpG','_uniqueUsersCount','fire','defineMe','requires','channelConnectedUsers','get','_createUser','values','orderNumber','getUser','3706087hyjyTI','has','_handleSessionAdd'];_0x40e7=function(){return _0x46d708;};return _0x40e7();}