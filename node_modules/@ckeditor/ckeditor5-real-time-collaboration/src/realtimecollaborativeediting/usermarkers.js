/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0xbbe457=_0x1982;function _0x1982(_0xffc972,_0x3d5e0a){const _0xfdd2a6=_0xfdd2();return _0x1982=function(_0x198202,_0x4849a8){_0x198202=_0x198202-0x102;let _0x11c199=_0xfdd2a6[_0x198202];return _0x11c199;},_0x1982(_0xffc972,_0x3d5e0a);}(function(_0x20a09f,_0x22af1e){const _0x393df5=_0x1982,_0x3d010c=_0x20a09f();while(!![]){try{const _0x165a0f=-parseInt(_0x393df5(0x165))/0x1*(-parseInt(_0x393df5(0x118))/0x2)+-parseInt(_0x393df5(0x103))/0x3*(-parseInt(_0x393df5(0x12f))/0x4)+-parseInt(_0x393df5(0x10d))/0x5+-parseInt(_0x393df5(0x106))/0x6*(parseInt(_0x393df5(0x170))/0x7)+parseInt(_0x393df5(0x10e))/0x8+parseInt(_0x393df5(0x182))/0x9*(parseInt(_0x393df5(0x16b))/0xa)+parseInt(_0x393df5(0x16d))/0xb*(-parseInt(_0x393df5(0x11a))/0xc);if(_0x165a0f===_0x22af1e)break;else _0x3d010c['push'](_0x3d010c['shift']());}catch(_0x303a7b){_0x3d010c['push'](_0x3d010c['shift']());}}}(_0xfdd2,0x26dcc));import{Plugin as _0x48f9ef}from'ckeditor5/src/core.js';function _0xfdd2(){const _0x21b97b=['requires','getNearestSelectionRange','isSimilar','getFirstRange','marker','user:position','tableCell','mouseleave','delete','selection','change','nodeAfter','name','isInline','batch','conversion','hasDomSelection','setCustomProperty','rootName','getSelectionClass','editor','ck-user__marker_hovered','addMarker','update:user:range','markerRange','hasContent','reconvertMarker','isOfficialPlugin','isObject','span','getAttribute','color','newRange','innerHTML','markerNameToElements','user:position:','user:range','isPremiumPlugin','plugins','add','change:range','toRange','type','getMarkerClass','getCustomProperty','root','Escape','createRange','userPositionMarker','1EdSEjb','markerName','split','checkChild','removeMarker','clear','10Pbkikd','user:','11XVfTji','_createdBatches','parent','211127VbfORl','end','getStart','getPositions','updateMarker','undo','mouseenter','applyOperation','ck-user__marker\x20','element','enqueueChange','getContainedElement','get','set','mySessionId','view','markerToElement','stopListening','870003zHjqLn','getUserBySessionId','afterInit','oldRange','createUIElement','user:range:','has','27SReGUX','⁠<span\x20class=\x22ck-user__marker-line\x22\x20contenteditable=\x22false\x22><span\x20class=\x22ck-user__marker-dot\x22></span></span><span\x20class=\x22ck-user__marker-tooltip\x22\x20contenteditable=\x22false\x22\x20spellcheck=\x22false\x22>','pluginName','6KbMCjG','model','ck-user__selection','_domEmitter','editingDowncast','markerToHighlight','fromRange','714095wFyNuA','402552PRfACZ','start','remove','createUserMarkerOperations','</span>⁠','classList','toDomElement','destroy','commands','document','499186MbRzlz','listenTo','1911456UJrqwD','contenteditable','isCollapsed','editing','keydown','init','detach','orderNumber','startsWith','deletionPosition','schema','getRange','isLimit','removeClass','markers','mapper','for','data-session-id','$graveyard','highest','render','42164fUztet','UserMarkers','size','$text','addEventListener'];_0xfdd2=function(){return _0x21b97b;};return _0xfdd2();}import{global as _0x391bf5,DomEmitterMixin as _0x50484f}from'ckeditor5/src/utils.js';import _0x2f7180 from'./sessions.js';import{LiveRange as _0xeba141}from'ckeditor5/src/engine.js';import'../../theme/usermarkers.css';export default class W extends _0x48f9ef{constructor(){const _0x480a8f=_0x1982;super(...arguments),this[_0x480a8f(0x109)]=new(_0x50484f())();}static get[_0xbbe457(0x134)](){return[_0x2f7180];}static get[_0xbbe457(0x105)](){const _0x15d087=_0xbbe457;return _0x15d087(0x130);}static get[_0xbbe457(0x14f)](){return!0x0;}static get[_0xbbe457(0x159)](){return!0x0;}[_0xbbe457(0x11f)](){const _0x5eefbc=_0xbbe457,_0x2078fd=this[_0x5eefbc(0x148)],_0xf8be7e=_0x2078fd[_0x5eefbc(0x15a)][_0x5eefbc(0x17c)](_0x2f7180);_0x2078fd[_0x5eefbc(0x143)][_0x5eefbc(0x12a)](_0x5eefbc(0x10a))[_0x5eefbc(0x180)]({'model':_0x5eefbc(0x139),'view':(_0x486537,{writer:_0x1ddeab})=>function(_0x226b77,_0x77a40f,_0x127c3a,_0x242b76){const _0x4c79ed=_0x5eefbc,_0x38e155=_0x226b77[_0x4c79ed(0x166)][_0x4c79ed(0x167)](':')[0x2],_0x3b4507=_0x127c3a[_0x4c79ed(0x183)](_0x38e155);if(!_0x3b4507||_0x38e155===_0x127c3a[_0x4c79ed(0x17e)])return;if(!_0x242b76[_0x4c79ed(0x107)][_0x4c79ed(0x124)][_0x4c79ed(0x168)](_0x226b77[_0x4c79ed(0x14c)][_0x4c79ed(0x10f)],_0x4c79ed(0x132)))return;const _0x1b6fbc={'class':_0x4c79ed(0x178)+_0x3b4507[_0x4c79ed(0x153)][_0x4c79ed(0x15f)](),'data-name':_0x3b4507[_0x4c79ed(0x140)],'data-session-id':_0x38e155},_0x3a88f3=_0x242b76[_0x4c79ed(0x107)][_0x4c79ed(0x128)][_0x4c79ed(0x17c)](_0x226b77[_0x4c79ed(0x166)]),_0x4c863e=_0x3a88f3[_0x4c79ed(0x172)](),_0x3fb52d=_0x4c863e[_0x4c79ed(0x13f)],_0x1f32e1=_0x242b76[_0x4c79ed(0x107)][_0x4c79ed(0x124)];if(_0x3fb52d&&_0x1f32e1[_0x4c79ed(0x150)](_0x3fb52d)&&_0x1f32e1[_0x4c79ed(0x141)](_0x3fb52d)&&!_0x242b76[_0x4c79ed(0x107)][_0x4c79ed(0x128)][_0x4c79ed(0x17c)](_0x4c79ed(0x187)+_0x38e155)[_0x4c79ed(0x125)]()[_0x4c79ed(0x11c)])return;const _0x3e773f=_0x4c863e[_0x4c79ed(0x16f)];return _0x242b76[_0x4c79ed(0x107)][_0x4c79ed(0x124)][_0x4c79ed(0x126)](_0x3e773f)&&!_0x242b76[_0x4c79ed(0x107)][_0x4c79ed(0x14d)](_0x3e773f)&&(_0x1b6fbc[_0x4c79ed(0x11b)]=!0x1),function(_0x2d8bd2,_0x4d2edb,_0x2229c2){const _0x53900c=_0x4c79ed,_0x25af00=_0x2d8bd2[_0x53900c(0x186)](_0x53900c(0x151),_0x4d2edb);return _0x2d8bd2[_0x53900c(0x145)](_0x53900c(0x164),!0x0,_0x25af00),_0x25af00[_0x53900c(0x12e)]=function(_0x5be3b7){const _0x6651de=_0x53900c,_0x1cadb5=this[_0x6651de(0x114)](_0x5be3b7);return _0x1cadb5[_0x6651de(0x155)]=_0x6651de(0x104)+_0x2229c2[_0x6651de(0x140)]+_0x6651de(0x112),_0x1cadb5[_0x6651de(0x133)](_0x6651de(0x176),()=>{const _0x4645b9=_0x6651de;_0x1cadb5[_0x4645b9(0x113)][_0x4645b9(0x15b)](_0x4645b9(0x149));}),_0x1cadb5[_0x6651de(0x133)](_0x6651de(0x13b),()=>{const _0x463e91=_0x6651de;_0x1cadb5[_0x463e91(0x113)][_0x463e91(0x110)](_0x463e91(0x149));}),_0x1cadb5;},_0x25af00[_0x53900c(0x136)]=function(_0x316580){const _0xd76c45=_0x53900c;return!(!this[_0xd76c45(0x160)](_0xd76c45(0x164))||!_0x316580[_0xd76c45(0x160)](_0xd76c45(0x164))||this[_0xd76c45(0x152)](_0xd76c45(0x12b))!=_0x316580[_0xd76c45(0x152)](_0xd76c45(0x12b)));},_0x25af00;}(_0x77a40f,_0x1b6fbc,_0x3b4507);}(_0x486537,_0x1ddeab,_0xf8be7e,_0x2078fd)}),_0x2078fd[_0x5eefbc(0x143)][_0x5eefbc(0x12a)](_0x5eefbc(0x10a))[_0x5eefbc(0x10b)]({'model':_0x5eefbc(0x158),'view':_0x42c9ef=>function(_0x1d83c1,_0x520cfa){const _0xe7fdcb=_0x5eefbc,_0x4b845a=_0x1d83c1[_0xe7fdcb(0x166)][_0xe7fdcb(0x167)](':')[0x2];if(_0x4b845a===_0x520cfa[_0xe7fdcb(0x17e)])return null;const _0x155036=_0x520cfa[_0xe7fdcb(0x183)](_0x4b845a);if(!_0x155036)return{'id':_0x4b845a,'classes':[]};return{'id':_0x4b845a,'classes':[_0xe7fdcb(0x108),_0x155036[_0xe7fdcb(0x153)][_0xe7fdcb(0x147)]()],'attributes':{'data-session-id':_0x4b845a},'priority':0x7d0+_0x155036[_0xe7fdcb(0x121)]};}(_0x42c9ef,_0xf8be7e)}),function(_0x2e7f48){const _0xff3122=_0x5eefbc,_0x219a8d=_0x2e7f48[_0xff3122(0x107)],_0x3766bc=new Map(),_0x1189b8=_0x2e7f48[_0xff3122(0x15a)][_0xff3122(0x17c)](_0x2f7180);_0x219a8d[_0xff3122(0x128)]['on'](_0xff3122(0x14b),(_0x131984,_0x38a88a,_0x5870cf,_0x144f77)=>{const _0x4f6c0f=_0xff3122;if(!_0x144f77&&_0x3766bc[_0x4f6c0f(0x17c)](_0x38a88a[_0x4f6c0f(0x140)]))return _0x3766bc[_0x4f6c0f(0x17c)](_0x38a88a[_0x4f6c0f(0x140)])[_0x4f6c0f(0x120)](),void _0x3766bc[_0x4f6c0f(0x13c)](_0x38a88a[_0x4f6c0f(0x140)]);const _0x4edbd3=_0x38a88a[_0x4f6c0f(0x140)][_0x4f6c0f(0x167)](':')[0x2];if(_0x4edbd3===_0x1189b8[_0x4f6c0f(0x17e)])return;const _0x443a18=_0x4f6c0f(0x157)+_0x4edbd3;_0x219a8d[_0x4f6c0f(0x128)][_0x4f6c0f(0x102)](_0x443a18)&&_0x2e7f48[_0x4f6c0f(0x11d)][_0x4f6c0f(0x14e)](_0x443a18),_0x38a88a['on'](_0x4f6c0f(0x15c),(_0x22126f,_0x78f79b,_0x11a438)=>{const _0x544962=_0x4f6c0f;if(_0x544962(0x12c)!=_0x78f79b[_0x544962(0x161)][_0x544962(0x146)]&&_0x544962(0x12c)==_0x38a88a[_0x544962(0x125)]()[_0x544962(0x161)][_0x544962(0x146)]&&!_0x3766bc[_0x544962(0x102)](_0x38a88a[_0x544962(0x140)])){const _0x2f3348=_0x219a8d[_0x544962(0x124)][_0x544962(0x135)](_0x11a438[_0x544962(0x123)]);if(_0x2f3348){const _0x979b0c=_0xeba141[_0x544962(0x10c)](_0x2f3348);_0x3766bc[_0x544962(0x17d)](_0x38a88a[_0x544962(0x140)],_0x979b0c),_0x979b0c['on'](_0x544962(0x15c),(_0x16adc1,_0x52206,_0x483a0c)=>{const _0x21348e=_0x544962;if(_0x21348e(0x12c)==_0x979b0c[_0x21348e(0x161)][_0x21348e(0x146)]){const _0x121888=_0x219a8d[_0x21348e(0x124)][_0x21348e(0x135)](_0x483a0c[_0x21348e(0x123)]);_0x121888?(_0x979b0c[_0x21348e(0x10f)]=_0x121888[_0x21348e(0x10f)],_0x979b0c[_0x21348e(0x171)]=_0x121888[_0x21348e(0x171)]):(_0x3766bc[_0x21348e(0x13c)](_0x38a88a[_0x21348e(0x140)]),_0x979b0c[_0x21348e(0x120)]());}});}}});}),_0x219a8d[_0xff3122(0x117)]['on'](_0xff3122(0x13e),()=>{const _0x3a63db=_0xff3122;_0x3766bc[_0x3a63db(0x131)]>0x0&&_0x219a8d[_0x3a63db(0x17a)]({'isUndoable':!0x1},_0x4de1d3=>{const _0x1139d0=_0x3a63db;for(const [_0x361ae7,_0x5dadde]of _0x3766bc)_0x1139d0(0x12c)==_0x219a8d[_0x1139d0(0x128)][_0x1139d0(0x17c)](_0x361ae7)[_0x1139d0(0x125)]()[_0x1139d0(0x161)][_0x1139d0(0x146)]&&(ee(_0x361ae7[_0x1139d0(0x167)](':')[0x2],_0x5dadde[_0x1139d0(0x15d)](),_0x219a8d,_0x4de1d3),_0x5dadde[_0x1139d0(0x120)]());_0x3766bc[_0x1139d0(0x16a)]();});});}(_0x2078fd),this[_0x5eefbc(0x109)][_0x5eefbc(0x119)](_0x391bf5[_0x5eefbc(0x117)],_0x5eefbc(0x11e),(_0x1e6f84,{key:_0x2d21f7})=>{const _0x43374d=_0x5eefbc;_0x43374d(0x162)===_0x2d21f7&&function(_0x53b53f){const _0x3cda27=_0x43374d;_0x53b53f[_0x3cda27(0x11d)][_0x3cda27(0x17f)][_0x3cda27(0x13e)](_0x15c340=>{const _0x1793c6=_0x3cda27;for(const _0x3ceaf6 of _0x53b53f[_0x1793c6(0x107)][_0x1793c6(0x128)]){if(!_0x3ceaf6[_0x1793c6(0x140)][_0x1793c6(0x122)](_0x1793c6(0x139)))continue;const _0x5a61a8=_0x53b53f[_0x1793c6(0x11d)][_0x1793c6(0x129)][_0x1793c6(0x156)](_0x3ceaf6[_0x1793c6(0x140)]);if(_0x5a61a8){for(const _0x292251 of _0x5a61a8)_0x15c340[_0x1793c6(0x127)](_0x1793c6(0x149),_0x292251);}}});}(_0x2078fd);},{'useCapture':!0x0});}[_0xbbe457(0x184)](){const _0x433ff9=_0xbbe457,_0x8bc3e=this[_0x433ff9(0x148)],_0x2ed679=_0x8bc3e[_0x433ff9(0x116)][_0x433ff9(0x17c)](_0x433ff9(0x175));_0x2ed679&&_0x8bc3e[_0x433ff9(0x107)]['on'](_0x433ff9(0x177),(_0x28a8b9,_0x599af3)=>{const _0x8e3c6a=_0x433ff9,_0x219c4b=_0x599af3[0x0];if(_0x8e3c6a(0x138)!=_0x219c4b[_0x8e3c6a(0x15e)]||!_0x219c4b[_0x8e3c6a(0x140)][_0x8e3c6a(0x122)](_0x8e3c6a(0x16c)))return;const _0x589407=_0x219c4b[_0x8e3c6a(0x142)];_0x2ed679[_0x8e3c6a(0x16e)][_0x8e3c6a(0x102)](_0x589407)&&(_0x219c4b[_0x8e3c6a(0x154)]=_0x219c4b[_0x8e3c6a(0x185)]?_0x8bc3e[_0x8e3c6a(0x107)][_0x8e3c6a(0x163)](_0x219c4b[_0x8e3c6a(0x185)][_0x8e3c6a(0x10f)],_0x219c4b[_0x8e3c6a(0x185)][_0x8e3c6a(0x171)]):null);},{'priority':_0x433ff9(0x12d)});}[_0xbbe457(0x115)](){const _0x5adaa4=_0xbbe457;return this[_0x5adaa4(0x109)][_0x5adaa4(0x181)](),super[_0x5adaa4(0x115)]();}[_0xbbe457(0x111)](){const _0x487963=_0xbbe457,_0x56795e=this[_0x487963(0x148)],_0x261b50=_0x56795e[_0x487963(0x107)][_0x487963(0x117)],_0x1aaa94=_0x56795e[_0x487963(0x15a)][_0x487963(0x17c)](_0x2f7180);_0x56795e[_0x487963(0x107)][_0x487963(0x17a)]({'isUndoable':!0x1},_0x3466bc=>{const _0x25ae7b=_0x487963,_0x26b2ad=_0x25ae7b(0x187)+_0x1aaa94[_0x25ae7b(0x17e)],_0x44950f=_0x25ae7b(0x157)+_0x1aaa94[_0x25ae7b(0x17e)],_0x298794=_0x56795e[_0x25ae7b(0x107)][_0x25ae7b(0x128)][_0x25ae7b(0x102)](_0x26b2ad);_0x56795e[_0x25ae7b(0x11d)][_0x25ae7b(0x17f)][_0x25ae7b(0x144)]?ee(_0x1aaa94[_0x25ae7b(0x17e)],_0x261b50[_0x25ae7b(0x13d)][_0x25ae7b(0x137)](),_0x56795e[_0x25ae7b(0x107)],_0x3466bc):_0x298794&&(_0x3466bc[_0x25ae7b(0x169)](_0x26b2ad),_0x3466bc[_0x25ae7b(0x169)](_0x44950f));});}}function ee(_0x56132f,_0x1eff17,_0x3ba1b4,_0x22dbe9){const _0x28ddad=_0xbbe457,_0x2083f8=_0x28ddad(0x187)+_0x56132f,_0x45938d=_0x28ddad(0x157)+_0x56132f,_0x1c1542=_0x1eff17[_0x28ddad(0x17b)]();let _0x49e9f4=_0x1eff17[_0x28ddad(0x10f)];_0x1c1542&&_0x1c1542['is'](_0x28ddad(0x179),_0x28ddad(0x13a))&&(_0x49e9f4=function(_0x5ac8fd,_0x23a193){const _0x33dfba=_0x28ddad;for(const _0x5c9a75 of _0x5ac8fd[_0x33dfba(0x173)]())if(_0x23a193[_0x33dfba(0x124)][_0x33dfba(0x168)](_0x5c9a75,_0x33dfba(0x132)))return _0x5c9a75;}(_0x1eff17,_0x3ba1b4),_0x1eff17=_0x22dbe9[_0x28ddad(0x163)](_0x49e9f4));const _0x4aa809=_0x22dbe9[_0x28ddad(0x163)](_0x49e9f4);_0x3ba1b4[_0x28ddad(0x128)][_0x28ddad(0x102)](_0x2083f8)?(_0x22dbe9[_0x28ddad(0x174)](_0x2083f8,{'range':_0x1eff17}),_0x22dbe9[_0x28ddad(0x174)](_0x45938d,{'range':_0x4aa809})):(_0x22dbe9[_0x28ddad(0x14a)](_0x2083f8,{'range':_0x1eff17,'usingOperation':!0x0}),_0x22dbe9[_0x28ddad(0x14a)](_0x45938d,{'range':_0x4aa809,'usingOperation':!0x0}));}