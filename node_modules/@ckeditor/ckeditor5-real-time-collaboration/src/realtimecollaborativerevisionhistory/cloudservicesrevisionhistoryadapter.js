/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x20d7e5=_0x5bb6;(function(_0x5af790,_0x1166e5){const _0x4bfb8f=_0x5bb6,_0x3bdb46=_0x5af790();while(!![]){try{const _0xe1a345=-parseInt(_0x4bfb8f(0x161))/0x1*(-parseInt(_0x4bfb8f(0x16d))/0x2)+parseInt(_0x4bfb8f(0x145))/0x3*(-parseInt(_0x4bfb8f(0x1a7))/0x4)+parseInt(_0x4bfb8f(0x167))/0x5*(-parseInt(_0x4bfb8f(0x16f))/0x6)+parseInt(_0x4bfb8f(0x166))/0x7+parseInt(_0x4bfb8f(0x190))/0x8*(-parseInt(_0x4bfb8f(0x19e))/0x9)+-parseInt(_0x4bfb8f(0x1aa))/0xa*(parseInt(_0x4bfb8f(0x1a5))/0xb)+-parseInt(_0x4bfb8f(0x154))/0xc*(-parseInt(_0x4bfb8f(0x138))/0xd);if(_0xe1a345===_0x1166e5)break;else _0x3bdb46['push'](_0x3bdb46['shift']());}catch(_0x92cb4a){_0x3bdb46['push'](_0x3bdb46['shift']());}}}(_0x4a17,0x8663e));function _0x5bb6(_0x2d69fe,_0x572032){const _0x4a1760=_0x4a17();return _0x5bb6=function(_0x5bb6ac,_0x342a90){_0x5bb6ac=_0x5bb6ac-0x137;let _0x56c0af=_0x4a1760[_0x5bb6ac];return _0x56c0af;},_0x5bb6(_0x2d69fe,_0x572032);}import{Plugin as _0x3e7975}from'ckeditor5/src/core.js';import{version as _0x399a9b}from'ckeditor5/src/utils.js';import{Users as _0x2e5d1f}from'ckeditor5-collaboration/src/collaboration-core.js';import _0x2723d3 from'../realtimecollaborativeediting/realtimecollaborationclient.js';import _0x160968 from'../realtimecollaborativeediting/websocketgateway.js';import _0x3607fe from'../realtimecollaborativeediting/sessions.js';function _0x4a17(){const _0x51a6a4=['affectsData','size','1166wIrqwT','CloudServicesRevisionHistoryAdapter','3973996PgdiTS','creatorId','addRevisionData','62450qQxPjP','connected','config','addUser','45942BYwNcM','pluginName','state','off','isEmptyCurrent','_getLatestVersion','_preventResendingRevisionData','keys','getRevision','fromVersion','then','_isPendingUpdate','map','3XKTVaW','currentRevision','startsWith','max','baseVersion','getMany','requires','_getLatestVersionFromServerOperations','sendBufferedUpdates','_createCurrentRevision','get','getOperations','getUser','diffData','authors','10596KjDODi','from','isEnabled','destroy','toVersion','type','getRevisions','connection','serverHistory','reverse','plugins','400','_fixRevision','1CLHhie','_handleRevisionsUpdate','sessionId','cloud-services-internal-error:\x20Request\x20timeout.','_lastRequestId','1855259UgGrZq','1469215XKFYUu','listenTo','change:_isPendingUpdate','isOfficialPlugin','_waitForServiceReady','_isConnected','844442PnoPNB','data','12LKFDxf','length','_revisionDataBuilder','catch','setRevisionData','revisionsUpdated','CONNECTED','_bufferedUpdates','marker','isConnected','cloudServices.bundleVersion','reInit','updateRevisions','_oldOffset','reconnect','_revisionTracker','setSource','_revisionHistoryService','collaboration.channelId','_startingVersion','cloud-services-internal-error:\x20Revision\x20History\x20Service\x20is\x20not\x20connected.','isBundleUploaded','repository','connect','has','_offset','_update','createdAt','message','cloud-services-internal-error:\x20Not\x20connected.','_revisions','RevisionTracker','add','152IPpYsW','wrongRequestId','addToReconnectionStack','once','authorsIds','change:_isConnected','RevisionHistoryService','adapter','_bufferUpdate','init','buildRevisionData','editor','isPremiumPlugin','_fetchMissingUsers','480393mbibCz','code','bind','remove','_handleReconnectionError'];_0x4a17=function(){return _0x51a6a4;};return _0x4a17();}import{EditorService as _0x1fb8f3,RevisionHistoryService as _0x1a58bf,User as _0x402fb4,WEB_SOCKET_GATEWAY_STATES as _0x4f1c17}from'@ckeditor/ckeditor-cloud-services-collaboration/src/services.js';class u extends _0x3e7975{static get[_0x20d7e5(0x14b)](){const _0x55576a=_0x20d7e5;return[_0x160968,_0x2723d3,_0x55576a(0x18e),_0x3607fe,_0x2e5d1f];}static get[_0x20d7e5(0x139)](){const _0x450b61=_0x20d7e5;return _0x450b61(0x1a6);}static get[_0x20d7e5(0x16a)](){return!0x0;}static get[_0x20d7e5(0x19c)](){return!0x0;}constructor(_0x274691){const _0x80e185=_0x20d7e5;super(_0x274691);const _0x759527=this[_0x80e185(0x19b)][_0x80e185(0x1ac)][_0x80e185(0x14f)](_0x80e185(0x181));this[_0x80e185(0x165)]=null,this[_0x80e185(0x17e)]=this[_0x80e185(0x19b)][_0x80e185(0x15e)][_0x80e185(0x14f)](_0x80e185(0x18e)),this[_0x80e185(0x180)]=new u[(_0x80e185(0x196))](_0x759527);}async[_0x20d7e5(0x199)](){const _0x27b65f=_0x20d7e5,_0x8c6e6f=this[_0x27b65f(0x19b)][_0x27b65f(0x15e)][_0x27b65f(0x14f)](_0x2723d3),_0x469d41=_0x8c6e6f[_0x27b65f(0x15c)],_0x546c65=this[_0x27b65f(0x19b)][_0x27b65f(0x15e)][_0x27b65f(0x14f)](_0x160968);this[_0x27b65f(0x17e)][_0x27b65f(0x17f)]({'history':_0x469d41,'getLatestVersion':()=>this[_0x27b65f(0x13d)](),'getCurrentRevisionId':()=>_0x8c6e6f[_0x27b65f(0x163)]});const _0x2fff8d=this[_0x27b65f(0x19b)][_0x27b65f(0x1ac)][_0x27b65f(0x14f)](_0x27b65f(0x179))||_0x399a9b,_0x3004a5=await _0x1fb8f3[_0x27b65f(0x184)](_0x546c65[_0x27b65f(0x15b)],_0x2fff8d);this[_0x27b65f(0x17e)][_0x27b65f(0x197)]={'getRevision':async({revisionId:_0x52de8d})=>(await this[_0x27b65f(0x16b)](),await this[_0x27b65f(0x180)][_0x27b65f(0x140)](_0x52de8d)),'updateRevisions':async _0x3403cc=>{const _0x3fbb68=_0x27b65f;await this[_0x3fbb68(0x16b)]();const _0x58e74f=this[_0x3fbb68(0x17e)][_0x3fbb68(0x146)];if(_0x3004a5&&0x1===_0x3403cc[_0x3fbb68(0x170)]&&_0x3403cc[0x0]['id']===_0x58e74f['id'])return _0x3403cc;for(const _0x17dbdd of _0x3403cc)_0x17dbdd['id']===_0x58e74f['id']&&(_0x17dbdd[_0x3fbb68(0x13c)]=_0x17dbdd[_0x3fbb68(0x141)]===_0x17dbdd[_0x3fbb68(0x158)]);return this[_0x3fbb68(0x180)][_0x3fbb68(0x17b)](_0x3403cc,this[_0x3fbb68(0x165)])[_0x3fbb68(0x142)](_0x1fe281=>(this[_0x3fbb68(0x165)]=_0x1fe281,_0x3403cc))[_0x3fbb68(0x172)](_0x5961d1=>{const _0x36cfe6=_0x3fbb68;if(M(_0x5961d1)||_0x36cfe6(0x15f)===_0x5961d1[_0x36cfe6(0x19f)]&&void 0x0!==_0x5961d1[_0x36cfe6(0x16e)][_0x36cfe6(0x191)]){for(const _0x45513c of _0x3403cc){!this[_0x36cfe6(0x17e)][_0x36cfe6(0x185)][_0x36cfe6(0x140)](_0x45513c['id'])||this[_0x36cfe6(0x17e)][_0x36cfe6(0x198)](_0x45513c['id'],_0x45513c,!0x1);}if(M(_0x5961d1))throw _0x5961d1;return _0x3403cc;}throw _0x5961d1;});}},this[_0x27b65f(0x168)](this[_0x27b65f(0x180)],_0x27b65f(0x174),(_0x348d2d,{revisionsData:_0xb061b,requestId:_0xbe0eb2})=>{const _0x19fa6b=_0x27b65f;Math[_0x19fa6b(0x148)](..._0xb061b[_0x19fa6b(0x144)](_0x201718=>_0x201718[_0x19fa6b(0x158)]))>this[_0x19fa6b(0x14c)]()-0x1?this[_0x19fa6b(0x13d)]()[_0x19fa6b(0x142)](()=>{const _0x2495f7=_0x19fa6b;this[_0x2495f7(0x162)](_0xb061b,_0xbe0eb2);}):this[_0x19fa6b(0x162)](_0xb061b,_0xbe0eb2);});const {revisions:_0x33b956,requestId:_0x2fd0be}=await this[_0x27b65f(0x180)][_0x27b65f(0x186)](_0x546c65[_0x27b65f(0x15b)]);_0x546c65[_0x27b65f(0x192)](this),this[_0x27b65f(0x165)]=_0x2fd0be,await this[_0x27b65f(0x19d)](_0x33b956);for(const _0x430ff6 of _0x33b956)this[_0x27b65f(0x17e)][_0x27b65f(0x1a9)](_0x430ff6);this[_0x27b65f(0x168)](_0x8c6e6f,_0x27b65f(0x195),(_0x279e97,_0x23b0e6,_0x516376)=>{const _0xccf1ea=_0x27b65f;_0x516376&&(this[_0xccf1ea(0x17c)]=_0x8c6e6f[_0xccf1ea(0x188)],_0x279e97[_0xccf1ea(0x13b)]());}),this[_0x27b65f(0x17e)][_0x27b65f(0x1a0)](_0x27b65f(0x156))['to'](_0x546c65,_0x27b65f(0x13a),_0x5e9dfa=>_0x5e9dfa===_0x4f1c17[_0x27b65f(0x175)]);}async[_0x20d7e5(0x17d)](){const _0x4c8aff=_0x20d7e5,_0x1deaa4=this[_0x4c8aff(0x19b)][_0x4c8aff(0x15e)][_0x4c8aff(0x14f)](_0x160968),_0x972037=this[_0x4c8aff(0x19b)][_0x4c8aff(0x15e)][_0x4c8aff(0x14f)](_0x2723d3),_0x1129ed=async()=>{const _0x5d574a=_0x4c8aff,_0xbcfc92=this[_0x5d574a(0x17e)][_0x5d574a(0x146)],_0x2527e4=_0xbcfc92['id'],_0x5e9a68=_0x2527e4!==_0x972037[_0x5d574a(0x163)];if(_0x5e9a68){const _0x3fb44d=_0x972037[_0x5d574a(0x188)]-this[_0x5d574a(0x17c)],_0x324fd8=this[_0x5d574a(0x14c)]();this[_0x5d574a(0x17e)][_0x5d574a(0x171)][_0x5d574a(0x17a)]();if(_0xbcfc92[_0x5d574a(0x158)]+_0x3fb44d!==_0x324fd8){const _0x1bf821=_0xbcfc92[_0x5d574a(0x141)]+_0x3fb44d,_0x5898ce=this[_0x5d574a(0x19b)][_0x5d574a(0x15e)][_0x5d574a(0x14f)](_0x2e5d1f),_0x5db936=this[_0x5d574a(0x17e)][_0x5d574a(0x19a)]({'revision':_0xbcfc92,'from':_0x1bf821,'to':_0x324fd8});_0x5db936['id']=_0xbcfc92['id'];const _0x20fbe4=_0x5db936[_0x5d574a(0x194)][_0x5d574a(0x144)](_0xe88c7f=>_0x5898ce[_0x5d574a(0x151)](_0xe88c7f));_0xbcfc92[_0x5d574a(0x189)]({..._0x5db936,'authors':_0x20fbe4},!0x0),this[_0x5d574a(0x17e)][_0x5d574a(0x198)](_0xbcfc92['id'],_0x5db936,!0x0);}this[_0x5d574a(0x17e)][_0x5d574a(0x182)]=_0x324fd8,(_0xbcfc92[_0x5d574a(0x158)]===_0xbcfc92[_0x5d574a(0x141)]&&!this[_0x5d574a(0x17e)][_0x5d574a(0x176)][_0x5d574a(0x187)](_0x2527e4)&&this[_0x5d574a(0x17e)][_0x5d574a(0x185)][_0x5d574a(0x18d)][_0x5d574a(0x1a1)](_0x2527e4),this[_0x5d574a(0x17e)][_0x5d574a(0x14e)](_0x324fd8));}const {revisions:_0x5800d2,requestId:_0x3558ca}=await this[_0x5d574a(0x180)][_0x5d574a(0x17d)](_0x1deaa4[_0x5d574a(0x15b)],this[_0x5d574a(0x165)]);_0x5e9a68&&_0x5800d2[_0x5d574a(0x170)]>0x0?_0x972037[_0x5d574a(0x1a2)]():(await this[_0x5d574a(0x19d)](_0x5800d2),this[_0x5d574a(0x162)](_0x5800d2,_0x3558ca),this[_0x5d574a(0x17e)][_0x5d574a(0x14d)]());};return _0x972037[_0x4c8aff(0x16c)]?_0x1129ed():new Promise((_0x509110,_0x39fa4d)=>{const _0x52de8b=_0x4c8aff;_0x972037[_0x52de8b(0x193)](_0x52de8b(0x195),()=>{const _0x36de48=_0x52de8b;_0x1129ed()[_0x36de48(0x142)](_0x509110)[_0x36de48(0x172)](_0x39fa4d);});});}[_0x20d7e5(0x157)](){const _0x458571=_0x20d7e5;super[_0x458571(0x157)]();}async[_0x20d7e5(0x16b)](){const _0x2eb36d=_0x20d7e5;this[_0x2eb36d(0x180)][_0x2eb36d(0x178)]||await new Promise(_0x5da005=>{const _0x654b33=_0x2eb36d;this[_0x654b33(0x168)](this[_0x654b33(0x180)],_0x654b33(0x1ab),_0xf7f6b5=>{const _0xf50e23=_0x654b33;_0xf7f6b5[_0xf50e23(0x13b)](),_0x5da005();});});}[_0x20d7e5(0x14c)](){const _0x3abd6c=_0x20d7e5,_0x160967=this[_0x3abd6c(0x19b)][_0x3abd6c(0x15e)][_0x3abd6c(0x14f)](_0x2723d3)[_0x3abd6c(0x15c)][_0x3abd6c(0x150)]()[_0x3abd6c(0x15d)]();for(const _0x1827f0 of _0x160967)if(_0x3abd6c(0x177)!==_0x1827f0[_0x3abd6c(0x159)]||_0x1827f0[_0x3abd6c(0x1a3)])return _0x1827f0[_0x3abd6c(0x149)]+0x1;}[_0x20d7e5(0x13d)](){const _0x4fa5ba=_0x20d7e5,_0x4e0dbc=this[_0x4fa5ba(0x19b)][_0x4fa5ba(0x15e)][_0x4fa5ba(0x14f)](_0x2723d3);return new Promise(_0x1e2fdd=>{const _0x1cc85b=_0x4fa5ba;_0x4e0dbc[_0x1cc85b(0x143)]?_0x4e0dbc[_0x1cc85b(0x193)](_0x1cc85b(0x169),()=>{const _0x40fadf=_0x1cc85b;_0x1e2fdd(this[_0x40fadf(0x14c)]());}):_0x1e2fdd(this[_0x1cc85b(0x14c)]());});}[_0x20d7e5(0x162)](_0x382004,_0x5f00bd){const _0x2d5055=_0x20d7e5,_0x4126c1=this[_0x2d5055(0x17e)][_0x2d5055(0x185)];this[_0x2d5055(0x165)]=_0x5f00bd;for(const _0x2c6b63 of _0x382004){const _0x44356e=_0x4126c1[_0x2d5055(0x140)](_0x2c6b63['id']);if(_0x44356e){if((_0x2c6b63[_0x2d5055(0x141)]||_0x2c6b63[_0x2d5055(0x158)])&&(_0x2c6b63[_0x2d5055(0x152)]=null),_0x44356e===this[_0x2d5055(0x17e)][_0x2d5055(0x146)]){const _0x4f71af=Math[_0x2d5055(0x148)](_0x44356e[_0x2d5055(0x158)],_0x2c6b63[_0x2d5055(0x158)]),_0xa38002=Math[_0x2d5055(0x148)](_0x44356e[_0x2d5055(0x141)],_0x2c6b63[_0x2d5055(0x141)]);let _0x139a54;_0x44356e[_0x2d5055(0x158)]===_0x2c6b63[_0x2d5055(0x158)]&&_0x44356e[_0x2d5055(0x141)]===_0x2c6b63[_0x2d5055(0x141)]?(_0x139a54=!0x0,this[_0x2d5055(0x13e)](_0x2c6b63)):_0x2c6b63[_0x2d5055(0x158)]===_0x4f71af&&_0x2c6b63[_0x2d5055(0x141)]===_0xa38002?_0x139a54=!0x1:(_0x44356e[_0x2d5055(0x158)]===_0x4f71af&&_0x44356e[_0x2d5055(0x141)]===_0xa38002||this[_0x2d5055(0x160)]({'revision':_0x44356e,'from':_0xa38002,'to':_0x4f71af}),_0x139a54=!0x0),_0x139a54&&(delete _0x2c6b63[_0x2d5055(0x141)],delete _0x2c6b63[_0x2d5055(0x158)],delete _0x2c6b63[_0x2d5055(0x152)],delete _0x2c6b63[_0x2d5055(0x18a)],delete _0x2c6b63[_0x2d5055(0x194)]);}this[_0x2d5055(0x17e)][_0x2d5055(0x173)](_0x2c6b63),this[_0x2d5055(0x13e)](_0x2c6b63);}else this[_0x2d5055(0x17e)][_0x2d5055(0x1a9)](_0x2c6b63);}const _0x47e485=_0x4126c1[_0x2d5055(0x15a)]();_0x47e485[_0x2d5055(0x15d)]();for(let _0x26309e=0x0;_0x26309e<_0x47e485[_0x2d5055(0x170)]-0x1;_0x26309e++){const _0x22450c=_0x47e485[_0x26309e],_0x57e720=_0x47e485[_0x26309e+0x1];if(_0x22450c[_0x2d5055(0x141)]<_0x57e720[_0x2d5055(0x158)]){const _0x42b1cd=_0x57e720[_0x2d5055(0x158)],_0x158129=Math[_0x2d5055(0x148)](_0x42b1cd,_0x22450c[_0x2d5055(0x158)]);this[_0x2d5055(0x160)]({'revision':_0x22450c,'from':_0x42b1cd,'to':_0x158129});}}}[_0x20d7e5(0x160)]({revision:_0x4e33dc,from:_0x1525ea,to:_0x1169a0}={}){const _0x3d5622=_0x20d7e5,_0x5b0a0f=this[_0x3d5622(0x19b)][_0x3d5622(0x15e)][_0x3d5622(0x14f)](_0x2e5d1f),_0xdd3f2=this[_0x3d5622(0x17e)][_0x3d5622(0x19a)]({'revision':_0x4e33dc,'from':_0x1525ea,'to':_0x1169a0});_0xdd3f2[_0x3d5622(0x153)]=_0xdd3f2[_0x3d5622(0x194)][_0x3d5622(0x144)](_0x2487b6=>_0x5b0a0f[_0x3d5622(0x151)](_0x2487b6)),_0x4e33dc[_0x3d5622(0x189)](_0xdd3f2);}[_0x20d7e5(0x13e)](_0x539d9){const _0x385ba4=_0x20d7e5,_0x372163={};_0x372163['id']=_0x539d9['id'];for(const _0x40a887 of Object[_0x385ba4(0x13f)](_0x539d9))'id'!==_0x40a887&&(_0x372163[_0x40a887]=void 0x0);this[_0x385ba4(0x17e)][_0x385ba4(0x198)](_0x372163['id'],_0x372163,!0x0);}async[_0x20d7e5(0x19d)](_0x475ea1){const _0x405eae=_0x20d7e5,_0xfefa8a=this[_0x405eae(0x19b)][_0x405eae(0x15e)][_0x405eae(0x14f)](_0x2e5d1f),{connection:_0x110862}=this[_0x405eae(0x19b)][_0x405eae(0x15e)][_0x405eae(0x14f)](_0x160968),_0x406d90=new Set();for(const _0x19dc58 of _0x475ea1){for(const _0x4323f0 of _0x19dc58[_0x405eae(0x194)])_0x40ada9(_0x4323f0);_0x19dc58[_0x405eae(0x1a8)]&&_0x40ada9(_0x19dc58[_0x405eae(0x1a8)]);}if(0x0===_0x406d90[_0x405eae(0x1a4)])return;const _0x51a5b3=await _0x402fb4[_0x405eae(0x14a)](_0x110862,Array[_0x405eae(0x155)](_0x406d90));for(const _0x1d4462 of _0x51a5b3)_0xfefa8a[_0x405eae(0x151)](_0x1d4462['id'])||_0xfefa8a[_0x405eae(0x137)](_0x1d4462);function _0x40ada9(_0x3e90a1){const _0x3cf332=_0x405eae;_0xfefa8a[_0x3cf332(0x151)](_0x3e90a1)||_0x406d90[_0x3cf332(0x18f)](_0x3e90a1);}}}u[_0x20d7e5(0x196)]=_0x1a58bf;export default u;function M(_0x8bd0ab){const _0x232748=_0x20d7e5;return _0x8bd0ab[_0x232748(0x18b)][_0x232748(0x147)](_0x232748(0x183))||_0x8bd0ab[_0x232748(0x18b)][_0x232748(0x147)](_0x232748(0x18c))||_0x8bd0ab[_0x232748(0x18b)][_0x232748(0x147)](_0x232748(0x164));}