/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x5ec6d1=_0x5a8d;function _0x5a8d(_0x2d0fa7,_0x52f0b1){const _0x4b41ca=_0x4b41();return _0x5a8d=function(_0x5a8dd4,_0x382b6b){_0x5a8dd4=_0x5a8dd4-0x1c3;let _0x4cbad6=_0x4b41ca[_0x5a8dd4];return _0x4cbad6;},_0x5a8d(_0x2d0fa7,_0x52f0b1);}(function(_0x3e2841,_0x4f7072){const _0x584d8f=_0x5a8d,_0x309dd8=_0x3e2841();while(!![]){try{const _0x5f253f=parseInt(_0x584d8f(0x1ff))/0x1+-parseInt(_0x584d8f(0x1d6))/0x2+parseInt(_0x584d8f(0x1f8))/0x3+parseInt(_0x584d8f(0x1e0))/0x4+-parseInt(_0x584d8f(0x1dd))/0x5*(parseInt(_0x584d8f(0x1e3))/0x6)+-parseInt(_0x584d8f(0x1f5))/0x7*(parseInt(_0x584d8f(0x1f0))/0x8)+parseInt(_0x584d8f(0x1ea))/0x9*(parseInt(_0x584d8f(0x1f9))/0xa);if(_0x5f253f===_0x4f7072)break;else _0x309dd8['push'](_0x309dd8['shift']());}catch(_0x181f7f){_0x309dd8['push'](_0x309dd8['shift']());}}}(_0x4b41,0x66ea9));import{Plugin as _0x103143}from'ckeditor5/src/core.js';import{User as _0x970d45,TrackChangesService as _0x874728}from'@ckeditor/ckeditor-cloud-services-collaboration/src/services.js';import _0x295ec0 from'../realtimecollaborativeediting/websocketgateway.js';import _0x363e06 from'../realtimecollaborativecomments/cloudservicescommentsadapter.js';import{Users as _0x2d2bf5}from'ckeditor5-collaboration/src/collaboration-core.js';class f extends _0x103143{static get[_0x5ec6d1(0x1e6)](){const _0x5d3d1=_0x5ec6d1;return[_0x363e06,_0x5d3d1(0x1da),_0x295ec0];}static get[_0x5ec6d1(0x1dc)](){const _0x44aa18=_0x5ec6d1;return _0x44aa18(0x1e7);}static get[_0x5ec6d1(0x1df)](){return!0x0;}static get[_0x5ec6d1(0x202)](){return!0x0;}constructor(_0x30fd38){const _0x5ae3fc=_0x5ec6d1;super(_0x30fd38);const _0x43984a=this[_0x5ae3fc(0x1cb)][_0x5ae3fc(0x1e4)][_0x5ae3fc(0x1cc)](_0x5ae3fc(0x1f7));this[_0x5ae3fc(0x1ee)]=new Map(),this[_0x5ae3fc(0x1f6)]=new f[(_0x5ae3fc(0x1c6))](_0x43984a);}[_0x5ec6d1(0x200)](){const _0x5830b6=_0x5ec6d1,_0x3d54ac=this[_0x5830b6(0x1cb)][_0x5830b6(0x1c3)][_0x5830b6(0x1cc)](_0x295ec0),_0x178ec0=this[_0x5830b6(0x1cb)][_0x5830b6(0x1c3)][_0x5830b6(0x1cc)](_0x5830b6(0x1da));return _0x178ec0[_0x5830b6(0x1d0)]={'getSuggestion':async _0x460cbc=>{const _0x470b0b=_0x5830b6;await this[_0x470b0b(0x1d9)]();const _0xb42372=await this[_0x470b0b(0x1f6)][_0x470b0b(0x1cc)](_0x460cbc)[_0x470b0b(0x1f3)](nt);return await this[_0x470b0b(0x1d5)]([_0xb42372]),_0xb42372;},'addSuggestion':async({id:_0x2fb74f,type:_0x3fa35c,data:_0x4ad302,originalSuggestionId:_0x4bba7d,attributes:_0x3ba91e})=>{const _0x3dd736=_0x5830b6;await this[_0x3dd736(0x1d9)]();const _0xaf7f1f={'id':_0x2fb74f,'type':_0x3fa35c,'data':_0x4ad302,'originalSuggestionId':_0x4bba7d,'attributes':_0x3ba91e},_0x55e0bd=await this[_0x3dd736(0x1f6)][_0x3dd736(0x1fa)](_0x2fb74f,_0x3fa35c,_0x4ad302,_0x4bba7d,_0x3ba91e)[_0x3dd736(0x1f3)](_0x325df0=>{if(M(_0x325df0))return new Promise(_0x12a8b6=>{const _0x4c1f85=_0x5a8d;this[_0x4c1f85(0x1ee)][_0x4c1f85(0x1f1)](_0x2fb74f,{'resolve':_0x12a8b6,'suggestionData':_0xaf7f1f});});throw _0x325df0;});return this[_0x3dd736(0x1ee)][_0x3dd736(0x1de)](_0x2fb74f),_0x55e0bd;},'updateSuggestion':async(_0x2b7435,_0x59af9a)=>{const _0x38e575=_0x5830b6;if(await this[_0x38e575(0x1d9)](),_0x38e575(0x1ca)!==_0x59af9a[_0x38e575(0x1e8)])return this[_0x38e575(0x1f6)][_0x38e575(0x1cf)](_0x2b7435,_0x59af9a)[_0x38e575(0x1f3)](nt);}},this[_0x5830b6(0x1e2)](this[_0x5830b6(0x1f6)],_0x5830b6(0x1db),(_0x140ffd,_0x558fbd)=>{const _0x10737a=_0x5830b6;_0x178ec0[_0x10737a(0x1eb)](_0x558fbd['id'])&&(_0x178ec0[_0x10737a(0x1d3)](_0x558fbd['id'])[_0x10737a(0x1ec)]=_0x558fbd[_0x10737a(0x1ec)]);}),this[_0x5830b6(0x1f6)][_0x5830b6(0x1d4)](_0x3d54ac[_0x5830b6(0x1ed)])[_0x5830b6(0x1ef)](_0x25040e=>(_0x3d54ac[_0x5830b6(0x1d7)](this),this[_0x5830b6(0x1d5)](_0x25040e)[_0x5830b6(0x1ef)](()=>{const _0x2137dd=_0x5830b6;for(const _0x172cd1 of _0x25040e){_0x178ec0[_0x2137dd(0x1ce)](_0x172cd1)[_0x2137dd(0x1cd)]=!0x0;}})));}async[_0x5ec6d1(0x1f4)](){const _0x1209d9=_0x5ec6d1,_0x1d56f9=this[_0x1209d9(0x1cb)][_0x1209d9(0x1c3)][_0x1209d9(0x1cc)](_0x1209d9(0x1da)),{connection:_0x569d6e}=this[_0x1209d9(0x1cb)][_0x1209d9(0x1c3)][_0x1209d9(0x1cc)](_0x295ec0),_0x2ba332=await this[_0x1209d9(0x1f6)][_0x1209d9(0x1d4)](_0x569d6e);await this[_0x1209d9(0x1d5)](_0x2ba332);for(const {suggestionData:_0x21d97a,resolve:_0xc35d7c}of this[_0x1209d9(0x1ee)][_0x1209d9(0x1d1)]()){let _0x3cc78a=_0x2ba332[_0x1209d9(0x1c9)](_0x54fb9d=>_0x54fb9d['id']===_0x21d97a['id']);_0x3cc78a||(_0x3cc78a=await this[_0x1209d9(0x1f6)][_0x1209d9(0x1fa)](_0x21d97a['id'],_0x21d97a[_0x1209d9(0x201)],_0x21d97a[_0x1209d9(0x1e1)],_0x21d97a[_0x1209d9(0x1e5)])),_0xc35d7c(_0x3cc78a);}for(const _0x15f792 of _0x2ba332)_0x1d56f9[_0x1209d9(0x1eb)](_0x15f792['id'])||_0x1d56f9[_0x1209d9(0x1ce)](_0x15f792);}async[_0x5ec6d1(0x1d9)](){const _0x264b28=_0x5ec6d1;this[_0x264b28(0x1f6)][_0x264b28(0x1c4)]||await new Promise(_0x21f3d1=>{const _0x228f86=_0x264b28;this[_0x228f86(0x1e2)](this[_0x228f86(0x1f6)],_0x228f86(0x1fe),_0x686645=>{const _0x1bc80a=_0x228f86;_0x686645[_0x1bc80a(0x1c8)](),_0x21f3d1();});});}async[_0x5ec6d1(0x1d5)](_0x543024){const _0x4358b8=_0x5ec6d1,_0x56b85f=this[_0x4358b8(0x1cb)][_0x4358b8(0x1c3)][_0x4358b8(0x1cc)](_0x2d2bf5),{connection:_0x23be26}=this[_0x4358b8(0x1cb)][_0x4358b8(0x1c3)][_0x4358b8(0x1cc)](_0x295ec0),_0xf56b9=new Set();for(const {authorId:_0x3038bc}of _0x543024)_0x56b85f[_0x4358b8(0x1fd)](_0x3038bc)||_0xf56b9[_0x4358b8(0x1fa)](_0x3038bc);if(0x0===_0xf56b9[_0x4358b8(0x1d2)])return;const _0x2ad8d2=await _0x970d45[_0x4358b8(0x1f2)](_0x23be26,Array[_0x4358b8(0x1c7)](_0xf56b9));for(const _0x95bf94 of _0x2ad8d2)_0x56b85f[_0x4358b8(0x1fd)](_0x95bf94['id'])||_0x56b85f[_0x4358b8(0x1fb)](_0x95bf94);}}function _0x4b41(){const _0x211c9f=['1596576UEjgEo','data','listenTo','72yXpXwt','config','originalSuggestionId','requires','CloudServicesTrackChangesAdapter','state','cloud-services-internal-error:\x20Not\x20connected.','66303USeCit','hasSuggestion','attributes','connection','_bufferedRequests','then','1256gtNAOV','set','getMany','catch','reconnect','25109VImndm','_trackChangesService','collaboration.channelId','2450016zrzzWt','580bHFkLj','add','addUser','message','getUser','connected','179233NWZifk','init','type','isPremiumPlugin','plugins','isConnected','cloud-services-internal-error:\x20Request\x20timeout.','TrackChangesService','from','off','find','open','editor','get','_saved','addSuggestionData','update','adapter','values','size','getSuggestion','connect','_fetchMissingUsersForThreads','1128806fAJyFd','addToReconnectionStack','startsWith','_waitForServiceReady','TrackChangesEditing','suggestionUpdated','pluginName','113845FOgksz','delete','isOfficialPlugin'];_0x4b41=function(){return _0x211c9f;};return _0x4b41();}f[_0x5ec6d1(0x1c6)]=_0x874728;export default f;function nt(_0x204e91){if(M(_0x204e91))return new Promise(()=>{});throw _0x204e91;}function M(_0x1cdf1a){const _0x47c8b5=_0x5ec6d1;return _0x1cdf1a[_0x47c8b5(0x1fc)][_0x47c8b5(0x1d8)](_0x47c8b5(0x1e9))||_0x1cdf1a[_0x47c8b5(0x1fc)][_0x47c8b5(0x1d8)](_0x47c8b5(0x1c5));}