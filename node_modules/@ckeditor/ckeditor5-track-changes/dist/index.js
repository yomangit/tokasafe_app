/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Command as Qt,Plugin as _0x776735,PendingActions as _0xa67480,icons as _0x333dfb}from'@ckeditor/ckeditor5-core/dist/index.js';import{CKEditorError as _0xd6c8f5,ObservableMixin as _0x4cb0ac,uid as _0x188e81,insertToPriorityArray as _0x5acc01,priorities as _0x9b132b,logWarning as _0x32841f,getEnvKeystrokeText as _0x2a0bf4,FocusTracker as _0x1b457d,KeystrokeHandler as _0x2a9864,Collection as _0x3b4904}from'@ckeditor/ckeditor5-utils/dist/index.js';import{normalizeColorOptions as _0x3362c3,View as _0x38f986,ViewCollection as _0x473daa,FocusCycler as ts,ViewModel as _0x206a52,createDropdown as _0x1de253,SplitButtonView as _0x1455bf,addListToDropdown as te,MenuBarMenuView as _0x450d7f,MenuBarMenuListView as _0x5f8ee8,ListSeparatorView as _0x116ec6,MenuBarMenuListItemView as _0x48eab6,MenuBarMenuListItemButtonView as _0x181882}from'@ckeditor/ckeditor5-ui/dist/index.js';import{Users as _0x5b4b64,hashObject as _0x301f50,surroundingMarkersDetector as _0x1e138c,FOCUS_ANNOTATION_KEYSTROKE as _0x377d38,AriaDescriptionView as _0x564038,setupThreadKeyboardNavigation as _0x1042bf,trimHtml as ti,UserView as _0xe6c8b4,LateFocusButtonView as _0x1bf52e,getDateTimeFormatter as _0x49205a,getAllMarkersDomElementsSorted as _0x2b5b63,sanitizeEditorConfig as _0x16e3a2}from'ckeditor5-collaboration/dist/index.js';import{Element as _0xa89897,LiveRange as _0xf48340,LivePosition as _0x40f712}from'@ckeditor/ckeditor5-engine/dist/index.js';import{setHighlightHandling as _0x497f86,toWidget as _0x469ea3}from'@ckeditor/ckeditor5-widget/dist/index.js';import{cloneDeep as _0x3b3d20,set as _0x317513,isEqual as _0x1b086f,unset as _0x57ad49,omit as xt}from'lodash-es';import{Delete as _0x311b08,Input as tr}from'@ckeditor/ckeditor5-typing/dist/index.js';import{Enter as _0x3c930a,ShiftEnter as _0x50a799}from'@ckeditor/ckeditor5-enter/dist/index.js';class B extends Qt{['_enabledCommands'];constructor(_0x5ea8fc,_0x132b4b){super(_0x5ea8fc),this['_enabledCommands']=_0x132b4b,this['value']=!0x1,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){this['isEnabled']=!0x0;}['execute'](){this['value']=!this['value'],this['value']?this['_disableUnsupportedCommands']():this['_enableCommands']();}['_disableUnsupportedCommands'](){for(const _0x3c4f87 of this['editor']['commands']['commands']())_0x3c4f87['affectsData']&&!this['_enabledCommands']['has'](_0x3c4f87)&&_0x3c4f87['forceDisabled']('TrackChangesCommand');}['_enableCommands'](){for(const _0x319284 of this['editor']['commands']['commands']())_0x319284['affectsData']&&!this['_enabledCommands']['has'](_0x319284)&&_0x319284['clearForceDisabled']('TrackChangesCommand');}}class O extends Qt{['_suggestions'];constructor(_0x357c5a,_0x13cd3d){super(_0x357c5a),this['_suggestions']=_0x13cd3d,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){this['isEnabled']=!0x0;}['execute'](_0x5b5d66){const _0x94bc2a=this['_suggestions']['get'](_0x5b5d66);if(!_0x94bc2a)throw new _0xd6c8f5('track-changes-accept-suggestion-not-found',this);const _0x4b75a9=_0x94bc2a['getRanges']();this['editor']['model']['canEditAt'](_0x4b75a9)&&this['editor']['plugins']['get']('TrackChangesEditing')['acceptSuggestion'](_0x94bc2a);}}class R extends Qt{['_suggestions'];constructor(_0x251dc5,_0x5570c5){super(_0x251dc5),this['_suggestions']=_0x5570c5,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){this['isEnabled']=!0x0;}['execute'](_0x2d7c5d){const _0x2b8caf=this['_suggestions']['get'](_0x2d7c5d);if(!_0x2b8caf)throw new _0xd6c8f5('track-changes-discard-suggestion-not-found',this);const _0x526d5d=_0x2b8caf['getRanges']();this['editor']['model']['canEditAt'](_0x526d5d)&&this['editor']['plugins']['get']('TrackChangesEditing')['discardSuggestion'](_0x2b8caf);}}function ns(_0x253e52,_0x5b2174){let _0x72faaf='';return _0x72faaf+=_0x253e52['split']('*')['map']((_0x49ddbe,_0x396eda)=>_0x396eda%0x2!=0x0?'<span\x20class=\x22ck-suggestion-type\x22>'+nn(_0x49ddbe)+'</span>':nn(_0x49ddbe))['join'](''),_0x5b2174&&(_0x72faaf+='<span\x20class=\x22ck-suggestion-color\x22\x20style=\x22background-color:\x20'+_0x5b2174['value']+'\x22\x20title=\x22'+_0x5b2174['title']+'\x22></span>'),_0x72faaf;}function nn(_0x293f44){const _0x99c68e=document['createElement']('span');return _0x99c68e['innerText']=_0x293f44,_0x99c68e['innerHTML'];}function Wt(_0x1858f6){return _0x1858f6['sort']((_0x1bd233,_0x30376b)=>'deletion'==_0x1bd233['type']&&'deletion'!=_0x30376b['type']?-0x1:'deletion'!=_0x1bd233['type']&&'deletion'==_0x30376b['type']?0x1:0x0);}function to(_0xb9ee51,_0x1d5936){let _0x28db17,_0x511de9=0x0;const _0xc8e822=[],_0x59c047=_0x1d5936['schema'];for(;_0x511de9<_0xb9ee51['length'];){const _0x46ed13=_0xb9ee51[_0x511de9],_0x328eb5=_0xb9ee51[_0x511de9+0x1];_0x28db17||(_0x28db17=_0x1d5936['createPositionBefore'](_0x46ed13)),on(_0x1d5936,_0x46ed13,_0x328eb5)||(_0xc8e822['push'](_0x1d5936['createRange'](_0x28db17,_0x59c047['isObject'](_0x46ed13)?_0x1d5936['createPositionAfter'](_0x46ed13):_0x1d5936['createPositionAt'](_0x46ed13,'end'))),_0x28db17=null),_0x511de9++;}return _0xc8e822;}function on(_0x218cbf,_0x399d9e,_0x56923a){if(!_0x56923a)return!0x1;const _0x419875=_0x218cbf['createPositionAfter'](_0x399d9e),_0x24dc85=_0x218cbf['createPositionBefore'](_0x56923a);return _0x419875['isTouching'](_0x24dc85);}function Xt(_0x281f6e,_0x50c4b9,_0x37c1c4){for(;_0x37c1c4['length'];){const _0x4ceb29=_0x37c1c4['splice'](0x0,0x64);_0x281f6e['change'](()=>{for(const _0x4bad0c of _0x4ceb29)_0x4bad0c['isInContent']&&_0x50c4b9['execute'](_0x4bad0c['id']);});}}class x extends Qt{['_command'];['_suggestions'];constructor(_0x41f8a5,_0x2b172c,_0x1577a3){super(_0x41f8a5),this['_command']=_0x2b172c,this['_suggestions']=_0x1577a3,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){const _0x42196b=Array['from'](this['_suggestions']['values']())['some'](_0x3a532d=>_0x3a532d['isInContent']);this['isEnabled']=this['_command']['isEnabled']&&_0x42196b;}['execute'](){const _0x380baf=Wt(Array['from'](this['_suggestions']['values']()));for(const _0x5731bd of _0x380baf){const _0x3fc00e=_0x5731bd['getRanges']();if(!this['editor']['model']['canEditAt'](_0x3fc00e))return;}Xt(this['editor']['model'],this['_command'],_0x380baf);}}class E extends Qt{['_command'];['_suggestions'];['_selectedSuggestions'];constructor(_0x1029f6,_0x1d49cf,_0x3dd0b5){super(_0x1029f6),this['_command']=_0x1d49cf,this['_suggestions']=_0x3dd0b5,this['_selectedSuggestions']=new Set(),this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){const _0x54a5ef=this['editor']['model']['document']['selection'],_0x5cafc1=Array['from'](this['_suggestions']['values']());this['_selectedSuggestions']=function(_0x2a1f3c,_0x4808c5){const _0x239e80=Array['from'](_0x2a1f3c['getRanges']()),_0x49eba4=new Set();for(const _0x4d7b07 of _0x4808c5)if(_0x4d7b07['isInContent']){for(const _0x2f36a1 of _0x239e80)for(const _0x4108c0 of _0x4d7b07['getRanges']())(_0x2f36a1['isIntersecting'](_0x4108c0)||_0x2a1f3c['isCollapsed']&&!_0x4d7b07['isMultiRange']&&_0x4d7b07['next']&&_0x4108c0['end']['isTouching'](_0x2f36a1['start']))&&_0x49eba4['add'](_0x4d7b07);}return _0x49eba4;}(_0x54a5ef,_0x5cafc1),this['isEnabled']=this['_command']['isEnabled']&&!!this['_selectedSuggestions']['size'];}['execute'](){const _0x426744=Wt(Array['from'](this['_selectedSuggestions']));for(const _0x1331f7 of _0x426744){const _0x5ca564=_0x1331f7['getRanges']();if(!this['editor']['model']['canEditAt'](_0x5ca564))return;}Xt(this['editor']['model'],this['_command'],_0x426744);}}class u extends/* #__PURE__ -- @preserve */
_0x4cb0ac(){['id'];['type'];['subType'];['author'];['creator'];['isExternal'];['data'];['createdAt'];['_isDataLoaded']=!0x1;['_model'];['_onAccept'];['_onDiscard'];['_onAttributesChange'];['_markerNames'];constructor(_0x370afd,_0x2ff9be){super(),this['id']=_0x2ff9be['id'],this['type']=_0x2ff9be['type'],this['subType']=_0x2ff9be['subType']||null,this['author']=_0x2ff9be['author'],this['creator']=_0x2ff9be['creator']||_0x2ff9be['author'],this['isExternal']=Boolean(_0x2ff9be['attributes']&&_0x2ff9be['attributes']['@external']),this['data']=null,this['_model']=_0x370afd,this['_onAccept']=_0x2ff9be['onAccept'],this['_onDiscard']=_0x2ff9be['onDiscard'],this['_onAttributesChange']=_0x2ff9be['onAttributesChange'],this['_markerNames']=new Set(),this['createdAt']=null,this['set']('authoredAt',null),this['set']('attributes',_0x2ff9be['attributes']||{}),this['set']('previous',null),this['set']('next',null),this['set']('commentThread',null),this['set']('_saved',!0x1),this['decorate']('accept'),this['decorate']('discard');}get['head'](){let _0xe3fcb3=this;for(;_0xe3fcb3['previous'];)_0xe3fcb3=_0xe3fcb3['previous'];return _0xe3fcb3;}get['hasComments'](){return!!this['commentThread']&&this['commentThread']['length']>0x0;}get['isMultiRange'](){if(0x0==this['_markerNames']['size'])return!0x1;return 0x6==Array['from'](this['_markerNames'])[0x0]['split'](':')['length'];}get['isInContent'](){return null!==this['getFirstMarker']();}['addMarkerName'](_0xdad2b){this['_markerNames']['add'](_0xdad2b);}['getMarkerNames'](){return Array['from'](this['_markerNames']);}['getMarkers'](){return this['getMarkerNames']()['map'](_0xe346cb=>this['_model']['markers']['get'](_0xe346cb))['filter'](_0x2e8f9c=>_0x2e8f9c);}['getFirstMarker'](){return this['getMarkers']()[0x0]||null;}['removeMarkers'](){this['_model']['change'](_0x142e9b=>{for(const _0x4f71f9 of this['getMarkers']())_0x142e9b['removeMarker'](_0x4f71f9);}),this['_markerNames']['clear']();}['removeMarker'](_0x127331){this['_model']['change'](_0x9fd18e=>{_0x9fd18e['removeMarker'](_0x127331);}),this['_markerNames']['delete'](_0x127331);}['addRange'](_0x2e336c){const _0x5b16dc='suggestion:'+this['type']+':'+this['subType']+':'+this['id']+':'+this['creator']['id']+':'+u['getMultiRangeId']();this['addMarkerName'](_0x5b16dc),this['_model']['change'](_0x377a0a=>{_0x377a0a['addMarker'](_0x5b16dc,{'range':_0x2e336c,'usingOperation':!0x0,'affectsData':!0x0});});}['isIntersectingWithRange'](_0x4180d6){for(const _0x5aa4aa of this['getRanges']())if(_0x5aa4aa['isIntersecting'](_0x4180d6))return!0x0;return!0x1;}['getRanges'](){return this['getMarkers']()['map'](_0xedfa38=>_0xedfa38['getRange']());}['getItems'](){return this['getRanges']()['reduce']((_0x449548,_0x16fb44)=>[..._0x449548,..._0x16fb44['getItems']()],[]);}['getFirstRange'](){return this['getFirstMarker']()?.['getRange']()||null;}['getContainedElement'](){const _0x50d0a3=this['getRanges']();if(0x1!=_0x50d0a3['length'])return null;const _0x10dfa3=_0x50d0a3[0x0],_0x58db37=_0x10dfa3['start']['nodeAfter'],_0xdf276a=_0x10dfa3['end']['nodeBefore'];return _0x58db37 instanceof _0xa89897?_0x58db37!=_0xdf276a?null:_0x58db37:null;}['accept'](){this['_onAccept'](this['getRanges'](),this['data'],this['attributes']),this['removeMarkers']();}['discard'](){this['_onDiscard'](this['getRanges'](),this['data'],this['attributes']),this['removeMarkers']();}['getAllAdjacentSuggestions'](){const _0x5d4ee4=[];let _0x5dedc9=this['head'];for(;_0x5dedc9;)_0x5d4ee4['push'](_0x5dedc9),_0x5dedc9=_0x5dedc9['next'];return _0x5d4ee4;}['setAttribute'](_0x12e507,_0xd9369){const _0x55ab98=_0x3b3d20(this['attributes']);_0x317513(_0x55ab98,_0x12e507,_0xd9369),_0x1b086f(_0x55ab98,this['attributes'])||(this['attributes']=_0x55ab98,this['_onAttributesChange'](_0x55ab98));}['removeAttribute'](_0x96a65){const _0x78aea8=_0x3b3d20(this['attributes']);_0x57ad49(_0x78aea8,_0x96a65),_0x1b086f(_0x78aea8,this['attributes'])||(this['attributes']=_0x78aea8,this['_onAttributesChange'](this['attributes']));}['toJSON'](){return{'id':this['id'],'type':this['subType']?this['type']+':'+this['subType']:this['type'],'authorId':this['creator']['id'],'createdAt':this['createdAt'],'hasComments':this['hasComments'],'data':this['data'],'attributes':this['attributes']};}static['getMultiRangeId'](){return _0x188e81()['substr'](0x1,0x5);}}function o(_0xaf38a7,_0x5d3013,_0x2c2f9f){const _0x29ea2b=_0xaf38a7['t'],t=_0xaf38a7['t'];switch(_0x5d3013){case'Track\x20changes':return t('Track\x20changes');case'Accept\x20suggestion':return t('Accept\x20suggestion');case'Discard\x20suggestion':return t('Discard\x20suggestion');case'Accept\x20all\x20suggestions':return t('Accept\x20all\x20suggestions');case'Accept\x20all\x20selected\x20suggestions':return t('Accept\x20all\x20selected\x20suggestions');case'Discard\x20all\x20suggestions':return t('Discard\x20all\x20suggestions');case'Discard\x20all\x20selected\x20suggestions':return t('Discard\x20all\x20selected\x20suggestions');case'*Reset\x20font\x20size*':return t('*Reset\x20font\x20size*');case'*Reset\x20font\x20family*':return t('*Reset\x20font\x20family*');case'*Reset\x20font\x20color*':return t('*Reset\x20font\x20color*');case'*Reset\x20font\x20background\x20color*':return t('*Reset\x20font\x20background\x20color*');case'*Remove\x20image\x20text\x20alternative*':return t('*Remove\x20image\x20text\x20alternative*');case'*Reset\x20image\x20width*':return t('*Reset\x20image\x20width*');case'*Remove\x20link*':return t('*Remove\x20link*');case'*Check\x20item*':return t('*Check\x20item*');case'*Uncheck\x20item*':return t('*Uncheck\x20item*');case'*Remove\x20all\x20formatting*':return t('*Remove\x20all\x20formatting*');case'*Replace\x20table\x20cells*':return t('*Replace\x20table\x20cells*');case'*Merge\x20cells*':return t('*Merge\x20cells*');case'*Split\x20cell:*\x20vertically':return t('*Split\x20cell:*\x20vertically');case'*Split\x20cell:*\x20horizontally':return t('*Split\x20cell:*\x20horizontally');case'*Indent:*\x20%0':return t('*Indent:*\x20%0',_0x2c2f9f);case'*Outdent:*\x20%0':return t('*Outdent:*\x20%0',_0x2c2f9f);case'*Change\x20to:*\x20%0':return t('*Change\x20to:*\x20%0',_0x2c2f9f);case'*Insert:*\x20%0':return t('*Insert:*\x20%0',_0x2c2f9f);case'*Format:*\x20%0':return t('*Format:*\x20%0',_0x2c2f9f);case'*Format:*\x20change\x20table\x20properties':return t('*Format:*\x20change\x20table\x20properties');case'*Format:*\x20change\x20table\x20cell\x20properties':return t('*Format:*\x20change\x20table\x20cell\x20properties');case'*Format:*\x20insert\x20into\x20%0':return t('*Format:*\x20insert\x20into\x20%0',_0x2c2f9f);case'*Format:*\x20remove\x20from\x20%0':return t('*Format:*\x20remove\x20from\x20%0',_0x2c2f9f);case'*Replace\x20image\x20URL*':return t('*Replace\x20image\x20URL*');case'*Format:*\x20resize\x20table':return t('*Format:*\x20resize\x20table');case'*Format:*\x20set\x20order\x20to\x20reversed':return t('*Format:*\x20set\x20order\x20to\x20reversed');case'*Format:*\x20set\x20order\x20to\x20regular':return t('*Format:*\x20set\x20order\x20to\x20regular');case'*Format:*\x20set\x20start\x20index\x20to\x20%0':return t('*Format:*\x20set\x20start\x20index\x20to\x20%0',_0x2c2f9f);case'*Change\x20%0\x20content*':return t('*Change\x20%0\x20content*',_0x2c2f9f);case'*Remove:*\x20%0':return t('*Remove:*\x20%0',_0x2c2f9f);case'*Merge:*\x20%0':return t('*Merge:*\x20%0',_0x2c2f9f);case'*Split:*\x20%0':return t('*Split:*\x20%0',_0x2c2f9f);case'*Remove\x20format:*\x20%0':return t('*Remove\x20format:*\x20%0',_0x2c2f9f);case'*Set\x20bookmark:*\x20%0':return t('*Set\x20bookmark:*\x20%0',_0x2c2f9f);case'*Set\x20font\x20size:*\x20%0':return t('*Set\x20font\x20size:*\x20%0',_0x2c2f9f);case'*Set\x20font\x20family:*\x20%0':return t('*Set\x20font\x20family:*\x20%0',_0x2c2f9f);case'*Set\x20format\x20to:*\x20%0':return t('*Set\x20format\x20to:*\x20%0',_0x2c2f9f);case'*Set\x20font\x20color:*\x20%0':return t('*Set\x20font\x20color:*\x20%0',_0x2c2f9f);case'*Set\x20font\x20background\x20color:*\x20%0':return t('*Set\x20font\x20background\x20color:*\x20%0',_0x2c2f9f);case'*Set\x20format:*\x20%0':return t('*Set\x20format:*\x20%0',_0x2c2f9f);case'*Set\x20image\x20text\x20alternative:*\x20%0':return t('*Set\x20image\x20text\x20alternative:*\x20%0',_0x2c2f9f);case'*Set\x20image\x20width:*\x20%0':return t('*Set\x20image\x20width:*\x20%0',_0x2c2f9f);case'*Set\x20link:*\x20%0':return t('*Set\x20link:*\x20%0',_0x2c2f9f);case'*Set\x20highlight:*\x20%0':return t('*Set\x20highlight:*\x20%0',_0x2c2f9f);case'*Remove\x20highlight*':return t('*Remove\x20highlight*');case'FORMAT_HIGHLIGHT':return t({'string':'highlight','id':'FORMAT_HIGHLIGHT'});case'FORMAT_RESTRICTED_ENABLED':return t({'string':'*Enable\x20in\x20restricted\x20editing\x20mode*','id':'FORMAT_RESTRICTED_ENABLED'});case'FORMAT_RESTRICTED_DISABLED':return t({'string':'*Disable\x20in\x20restricted\x20editing\x20mode*','id':'FORMAT_RESTRICTED_DISABLED'});case'ELEMENT_TABLE':return t({'string':'table','plural':'%0\x20tables','id':'ELEMENT_TABLE'},_0x2c2f9f);case'ELEMENT_PARAGRAPH':return t({'string':'paragraph','plural':'%0\x20paragraphs','id':'ELEMENT_PARAGRAPH'},_0x2c2f9f);case'ELEMENT_PAGE_BREAK':return t({'string':'page\x20break','plural':'%0\x20page\x20breaks','id':'ELEMENT_PAGE_BREAK'},_0x2c2f9f);case'ELEMENT_MEDIA':return t({'string':'media\x20item','plural':'%0\x20media\x20items','id':'ELEMENT_MEDIA'},_0x2c2f9f);case'ELEMENT_IMAGE':return t({'string':'image','plural':'%0\x20images','id':'ELEMENT_IMAGE'},_0x2c2f9f);case'ELEMENT_INLINE_IMAGE':return t({'string':'image','plural':'%0\x20images','id':'ELEMENT_INLINE_IMAGE'},_0x2c2f9f);case'FORMAT_SIDE_IMAGE':return t({'string':'side\x20image','id':'FORMAT_SIDE_IMAGE'});case'ELEMENT_CAPTION':return t({'string':'caption','id':'ELEMENT_CAPTION'});case'ELEMENT_HORIZONTAL_LINE':return t({'string':'horizontal\x20line','plural':'%0\x20horizontal\x20lines','id':'ELEMENT_HORIZONTAL_LINE'},_0x2c2f9f);case'ELEMENT_HTML_EMBED':return t({'string':'HTML\x20embed','plural':'%0\x20HTML\x20embeds','id':'ELEMENT_HTML_EMBED'},_0x2c2f9f);case'ELEMENT_HEADING':return t({'string':'heading\x20(level\x20%1)','plural':'%0\x20headings\x20(level\x20%1)','id':'ELEMENT_HEADING'},_0x2c2f9f);case'ELEMENT_HEADING_CUSTOM':return t({'string':'heading\x20(%1)','plural':'%0\x20headings\x20(%1)','id':'ELEMENT_HEADING_CUSTOM'},_0x2c2f9f);case'ELEMENT_LIST_ITEM':return t({'string':'list\x20item','plural':'%0\x20list\x20items','id':'ELEMENT_LIST_ITEM'},_0x2c2f9f);case'ELEMENT_DEFAULT_LIST_DEFAULT':return t({'string':'default\x20list\x20style','id':'ELEMENT_DEFAULT_LIST_DEFAULT'});case'ELEMENT_BULLETED_LIST':return t({'string':'bulleted\x20list','id':'ELEMENT_BULLETED_LIST'});case'ELEMENT_BULLETED_LIST_DEFAULT':return t({'string':'bulleted\x20list\x20(default)','id':'ELEMENT_BULLETED_LIST_DEFAULT'});case'ELEMENT_BULLETED_LIST_CIRCLE':return t({'string':'bulleted\x20list\x20(circle)','id':'ELEMENT_BULLETED_LIST_CIRCLE'});case'ELEMENT_BULLETED_LIST_DISC':return t({'string':'bulleted\x20list\x20(disc)','id':'ELEMENT_BULLETED_LIST_DISC'});case'ELEMENT_BULLETED_LIST_SQUARE':return t({'string':'bulleted\x20list\x20(square)','id':'ELEMENT_BULLETED_LIST_SQUARE'});case'ELEMENT_NUMBERED_LIST_DEFAULT':return t({'string':'numbered\x20list\x20(default)','id':'ELEMENT_NUMBERED_LIST_DEFAULT'});case'ELEMENT_NUMBERED_LIST':return t({'string':'numbered\x20list','id':'ELEMENT_NUMBERED_LIST'});case'ELEMENT_NUMBERED_LIST_DECIMAL':return t({'string':'numbered\x20list\x20(decimal)','id':'ELEMENT_NUMBERED_LIST_DECIMAL'});case'ELEMENT_NUMBERED_LIST_DECIMAL_LEADING_ZERO':return t({'string':'numbered\x20list\x20(decimal\x20with\x20leading\x20zero)','id':'ELEMENT_NUMBERED_LIST_DECIMAL_LEADING_ZERO'});case'ELEMENT_NUMBERED_LIST_LOWER_LATIN':return t({'string':'numbered\x20list\x20(lower-latin)','id':'ELEMENT_NUMBERED_LIST_LOWER_LATIN'});case'ELEMENT_NUMBERED_LIST_LOWER_ROMAN':return t({'string':'numbered\x20list\x20(lower-roman)','id':'ELEMENT_NUMBERED_LIST_LOWER_ROMAN'});case'ELEMENT_NUMBERED_LIST_UPPER_LATIN':return t({'string':'numbered\x20list\x20(upper-latin)','id':'ELEMENT_NUMBERED_LIST_UPPER_LATIN'});case'ELEMENT_NUMBERED_LIST_UPPER_ROMAN':return t({'string':'numbered\x20list\x20(upper-roman)','id':'ELEMENT_NUMBERED_LIST_UPPER_ROMAN'});case'ELEMENT_TODO_LIST':return t({'string':'to-do\x20list','id':'ELEMENT_TODO_LIST'});case'ELEMENT_MULTI_LEVEL_LIST':return t({'string':'multi-level\x20list','id':'ELEMENT_MULTI_LEVEL_LIST'});case'REPLACE_TEXT':return t({'string':'*Replace:*\x20%0\x20*with*\x20%1','id':'REPLACE_TEXT'},_0x2c2f9f);case'ELEMENT_SPACE':return t({'string':'space','plural':'%0\x20spaces','id':'ELEMENT_SPACE'},_0x2c2f9f);case'FORMAT_ALIGNMENT':return t({'string':'alignment','id':'FORMAT_ALIGNMENT'});case'FORMAT_ALIGN_TO_LEFT':return t({'string':'align\x20to\x20left','id':'FORMAT_ALIGN_TO_LEFT'});case'FORMAT_ALIGN_TO_RIGHT':return t({'string':'align\x20to\x20right','id':'FORMAT_ALIGN_TO_RIGHT'});case'FORMAT_ALIGN_TO_CENTER':return t({'string':'align\x20to\x20center','id':'FORMAT_ALIGN_TO_CENTER'});case'FORMAT_JUSTIFY_TEXT':return t({'string':'justify','id':'FORMAT_JUSTIFY_TEXT'});case'FORMAT_BOLD':return t({'string':'bold','id':'FORMAT_BOLD'});case'FORMAT_ITALIC':return t({'string':'italic','id':'FORMAT_ITALIC'});case'FORMAT_UNDERLINE':return t({'string':'underline','id':'FORMAT_UNDERLINE'});case'FORMAT_CODE':return t({'string':'code','id':'FORMAT_CODE'});case'FORMAT_STRIKETHROUGH':return t({'string':'strikethrough','id':'FORMAT_STRIKETHROUGH'});case'FORMAT_SUBSCRIPT':return t({'string':'subscript','id':'FORMAT_SUBSCRIPT'});case'FORMAT_SUPERSCRIPT':return t({'string':'superscript','id':'FORMAT_SUPERSCRIPT'});case'ELEMENT_BLOCK_QUOTE':return t({'string':'block\x20quote','id':'ELEMENT_BLOCK_QUOTE'});case'ELEMENT_CODE_BLOCK':return t({'string':'code\x20block','plural':'%0\x20code\x20blocks','id':'ELEMENT_CODE_BLOCK'},_0x2c2f9f);case'FORMAT_HEADER_COLUMN':return t({'string':'header\x20column','id':'FORMAT_HEADER_COLUMN'});case'FORMAT_REGULAR_COLUMN':return t({'string':'regular\x20column','id':'FORMAT_REGULAR_COLUMN'});case'FORMAT_HEADER_ROW':return t({'string':'header\x20row','id':'FORMAT_HEADER_ROW'});case'FORMAT_REGULAR_ROW':return t({'string':'regular\x20row','id':'FORMAT_REGULAR_ROW'});case'FORMAT_INDENT':return t({'string':'indent','id':'FORMAT_INDENT'});case'FORMAT_LIST_REVERSED':return t({'string':'list\x20reversed','id':'FORMAT_LIST_REVERSED'});case'FORMAT_LIST_START':return t({'string':'list\x20start','id':'FORMAT_LIST_START'});case'FORMAT_FONT_SIZE':return t({'string':'font\x20size','id':'FORMAT_FONT_SIZE'});case'FORMAT_FONT_FAMILY':return t({'string':'font\x20family','id':'FORMAT_FONT_FAMILY'});case'FORMAT_FONT_COLOR':return t({'string':'font\x20color','id':'FORMAT_FONT_COLOR'});case'FORMAT_FONT_BACKGROUND':return t({'string':'font\x20background\x20color','id':'FORMAT_FONT_BACKGROUND'});case'FORMAT_IMAGE_SIZE':return t({'string':'image\x20size','id':'FORMAT_IMAGE_SIZE'});case'FORMAT_STYLE':return t({'string':'style','id':'FORMAT_STYLE'});case'PENDING_ACTION_SUGGESTION':return t({'string':'Unsaved\x20change\x20in\x20suggestion.','id':'PENDING_ACTION_SUGGESTION'});case'ELEMENT_TABLE_WITH_TEXT':return t({'string':'table\x20*with\x20text*\x20%0','id':'ELEMENT_TABLE_WITH_TEXT'},_0x2c2f9f);case'ELEMENT_TABLE_ROW':return t({'string':'table\x20row','plural':'%0\x20table\x20rows','id':'ELEMENT_TABLE_ROW'},_0x2c2f9f);case'ELEMENT_TABLE_ROW_WITH_TEXT':return t({'string':'table\x20row\x20*with\x20text*\x20%1','plural':'%0\x20table\x20rows\x20*with\x20text*\x20%1','id':'ELEMENT_TABLE_ROW_WITH_TEXT'},_0x2c2f9f);case'ELEMENT_TABLE_COLUMN':return t({'string':'table\x20column','plural':'%0\x20table\x20columns','id':'ELEMENT_TABLE_COLUMN'},_0x2c2f9f);case'ELEMENT_TABLE_COLUMN_WITH_TEXT':return t({'string':'table\x20column\x20*with\x20text*\x20%1','plural':'%0\x20table\x20columns\x20*with\x20text*\x20%1','id':'ELEMENT_TABLE_COLUMN_WITH_TEXT'},_0x2c2f9f);case'ELEMENT_TABLE_OF_CONTENTS':return t({'string':'table\x20of\x20contents','plural':'%0\x20tables\x20of\x20contents','id':'ELEMENT_TABLE_OF_CONTENTS'},_0x2c2f9f);case'ELEMENT_LINE_BREAK':return t({'id':'ELEMENT_LINE_BREAK','string':'line\x20break','plural':'%0\x20line\x20breaks'},_0x2c2f9f);case'ELEMENT_TITLE':return t({'id':'ELEMENT_TITLE','string':'title'});case'ELEMENT_MERGE_FIELD':return t({'id':'ELEMENT_MERGE_FIELD','string':'merge\x20field','plural':'%0\x20merge\x20fields'},_0x2c2f9f);case'ELEMENT_BOOKMARK':return t({'id':'ELEMENT_BOOKMARK','string':'bookmark','plural':'%0\x20bookmarks'},_0x2c2f9f);case'EXTERNAL_SUGGESTION':return t({'id':'EXTERNAL_SUGGESTION','string':'This\x20suggestion\x20comes\x20from\x20an\x20external\x20source.'});case'EXTERNAL_IMPORT_WORD_SUGGESTION':return t({'string':'This\x20suggestion\x20comes\x20from\x20an\x20imported\x20Word\x20file.','id':'EXTERNAL_IMPORT_WORD_SUGGESTION'});case'EXTERNAL_AVATAR':return _0x29ea2b({'string':'Displayed\x20author\x20name\x20comes\x20from\x20external\x20source\x20(added\x20by\x20%0)','id':'EXTERNAL_AVATAR'},_0x2c2f9f);case'EXTERNAL_IMPORT_WORD_AVATAR':return _0x29ea2b({'string':'Displayed\x20author\x20name\x20comes\x20from\x20a\x20Word\x20document\x20imported\x20by\x20%0','id':'EXTERNAL_IMPORT_WORD_AVATAR'},_0x2c2f9f);case'ENTER_INSERTION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Entering\x20insertion\x20suggestion.\x20Press\x20%0\x20to\x20go\x20to\x20the\x20discussion.','id':'ENTER_INSERTION_SUGGESTION_ANNOUNCEMENT'},_0x2c2f9f);case'LEAVE_INSERTION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Leaving\x20insertion\x20suggestion.','id':'LEAVE_INSERTION_SUGGESTION_ANNOUNCEMENT'});case'ENTER_DELETION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Entering\x20deletion\x20suggestion.\x20Press\x20%0\x20to\x20go\x20to\x20the\x20discussion.','id':'ENTER_DELETION_SUGGESTION_ANNOUNCEMENT'},_0x2c2f9f);case'LEAVE_DELETION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Leaving\x20deletion\x20suggestion.','id':'LEAVE_DELETION_SUGGESTION_ANNOUNCEMENT'});case'ENTER_FORMATTING_SUGGESTION_ANNOUNCEMENT':return t({'string':'Entering\x20formatting\x20suggestion.\x20Press\x20%0\x20to\x20go\x20to\x20the\x20discussion.','id':'ENTER_FORMATTING_SUGGESTION_ANNOUNCEMENT'},_0x2c2f9f);case'LEAVE_FORMATTING_SUGGESTION_ANNOUNCEMENT':return t({'string':'Leaving\x20formatting\x20suggestion.','id':'LEAVE_FORMATTING_SUGGESTION_ANNOUNCEMENT'});case'SUGGESTION_THREAD_ARIA_LABEL':return t({'string':'Suggestion\x20by\x20%1.\x20Created\x20on\x20%2.\x20%0\x20reply.\x20%3','plural':'Suggestion\x20by\x20%1.\x20Created\x20on\x20%2.\x20%0\x20replies.\x20%3','id':'SUGGESTION_THREAD_ARIA_LABEL'},_0x2c2f9f);case'SUGGESTION_THREAD_DESCRIPTION':return t({'string':'Press\x20Enter\x20for\x20more\x20options.\x20Press\x20Escape\x20to\x20exit.','id':'SUGGESTION_THREAD_DESCRIPTION'});default:return _0x5d3013;}}class f{['_customCallbacks'];['_itemLabels'];['_itemLabelsCallbacks'];['_attributeLabels'];['_schema'];['_locale'];constructor(_0x33a355,_0x5458da){this['_customCallbacks']=[],this['_itemLabels']=new Map(),this['_itemLabelsCallbacks']=[],this['_attributeLabels']=new Map(),this['_schema']=_0x33a355,this['_locale']=_0x5458da;}['getDescriptions'](_0x3d5264){const _0x183248=[],_0x29c0b7=new Set(),_0x31f4d4=new Set();for(let _0x3e81f1=0x0;_0x3e81f1<_0x3d5264['length'];_0x3e81f1++){const _0x1709cb=_0x3d5264[_0x3e81f1];if(!_0x1709cb['isInContent'])continue;const _0x3dcc9b=this['_handleCustomCallbackDescription'](_0x1709cb);if(_0x3dcc9b){if(null!=_0x1709cb['subType']){if(_0x29c0b7['has'](_0x1709cb['subType']))continue;_0x29c0b7['add'](_0x1709cb['subType']);}_0x183248['push'](_0x3dcc9b);}else{if('attribute'!=_0x1709cb['type'])'insertion'!=_0x1709cb['type']&&'deletion'!=_0x1709cb['type']||this['_handleInsertRemoveSuggestionDescription'](_0x183248,_0x1709cb,_0x3d5264[_0x3e81f1+0x1]);else{const _0x51ac23=_0x1709cb['data']['key'];if(_0x31f4d4['has'](_0x51ac23))continue;_0x31f4d4['add'](_0x1709cb['data']['key']),_0x51ac23==m?this['_handleRenameSuggestionDescription'](_0x183248,_0x1709cb):this['_handleAttributeSuggestionDescription'](_0x183248,_0x1709cb);}}}return this['_resolveDescriptionItems'](_0x183248);}['registerDescriptionCallback'](_0x508479){this['_customCallbacks']['push'](_0x508479);}['registerElementLabel'](_0x3816b4,_0x5b0f15,_0x382819=_0x9b132b['normal']){'function'==typeof _0x3816b4?_0x5acc01(this['_itemLabelsCallbacks'],{'matchingCallback':_0x3816b4,'label':_0x5b0f15,'priority':_0x382819}):this['_itemLabels']['set'](_0x3816b4,_0x5b0f15);}['registerAttributeLabel'](_0x2e1e81,_0x5d690a){this['_attributeLabels']['set'](_0x2e1e81,_0x5d690a);}['getItemLabel'](_0x350a97,_0x5afc92=0x1){let _0x565f84;for(const _0x1f0e4a of this['_itemLabelsCallbacks'])if(_0x1f0e4a['matchingCallback'](_0x350a97)){_0x565f84=_0x1f0e4a['label'];break;}return _0x565f84||(_0x565f84=this['_itemLabels']['get'](_0x350a97['name'])),_0x565f84?_0x565f84(_0x5afc92):0x1!==_0x5afc92?_0x5afc92+'\x20'+_0x350a97['name']+'s':''+_0x350a97['name'];}['_addDescriptionItems'](_0x302d1d,_0x49bc60){const _0x162467=_0x49bc60['getFirstRange']()['getWalker'](),_0x17341a='insertion'==_0x49bc60['type']?'add':'remove';for(const _0x52b512 of _0x162467){const _0x2bc5d4=_0x52b512['item'],_0x5aae6f=_0x302d1d[_0x302d1d['length']-0x1];if(_0x2bc5d4['is']('$textProxy'))_0x5aae6f&&_0x5aae6f['type']['indexOf']('Container')>-0x1&&_0x302d1d['pop'](),_0x5aae6f&&'text'==_0x5aae6f['type']?_0x5aae6f[_0x17341a]+=_0x2bc5d4['data']:_0x302d1d['push']({'type':'text','add':'add'==_0x17341a?_0x2bc5d4['data']:'','remove':'remove'==_0x17341a?_0x2bc5d4['data']:''});else{if(this['_schema']['isObject'](_0x2bc5d4)){const _0x3458be=_0x2bc5d4;if(_0x5aae6f&&_0x5aae6f['type']['indexOf']('Container')>-0x1&&_0x302d1d['pop'](),'elementEnd'==_0x52b512['type'])continue;_0x5aae6f&&_0x5aae6f['type']==_0x17341a+'Object'&&_0x5aae6f['element']['name']==_0x3458be['name']?_0x5aae6f['quantity']++:_0x302d1d['push']({'type':_0x17341a+'Object','element':_0x3458be,'quantity':0x1}),_0x162467['skip'](_0xd67145=>!('elementEnd'==_0xd67145['type']&&_0xd67145['item']==_0x2bc5d4));}else{if(this['_schema']['checkChild'](_0x2bc5d4,'$text')||_0x2bc5d4['is']('element','softBreak')){const _0x22c5fd=_0x2bc5d4;if('add'==_0x17341a&&'elementStart'==_0x52b512['type']||'remove'==_0x17341a&&'elementEnd'==_0x52b512['type'])continue;if(_0x5aae6f&&-0x1==_0x5aae6f['type']['indexOf']('Container')){'text'==_0x5aae6f['type']&&(_0x5aae6f[_0x17341a]+='\x0a');continue;}let _0x296f6f;if(_0x296f6f='add'==_0x17341a?_0x22c5fd['nextSibling']&&!this['_schema']['isObject'](_0x22c5fd['nextSibling'])?_0x22c5fd['nextSibling']:null:_0x22c5fd['previousSibling']&&!this['_schema']['isObject'](_0x22c5fd['previousSibling'])?_0x22c5fd['previousSibling']:null,_0x22c5fd['isEmpty']||_0x296f6f&&_0x296f6f['isEmpty']){const _0x556b88=_0x296f6f&&_0x296f6f['isEmpty']?_0x296f6f:_0x22c5fd;_0x5aae6f&&_0x5aae6f['type']==_0x17341a+'EmptyContainer'&&_0x5aae6f['element']['name']==_0x556b88['name']?_0x5aae6f['quantity']++:_0x302d1d['push']({'type':_0x17341a+'EmptyContainer','element':_0x556b88,'quantity':0x1});}else _0x302d1d['push']({'type':_0x17341a+'Container','element':_0x22c5fd});}}}}}['_resolveDescriptionItems'](_0x1afeb7){const _0x7a122e=this['_locale'],_0x35fc78=[],_0x2c063c=[],_0x1478be=[];for(const _0x42d8b3 of _0x1afeb7)switch(_0x42d8b3['type']){case'text':if(_0x42d8b3['add']=_0x42d8b3['add']['replace'](/(\S)\u000A+(\S)/g,'$1\x20$2')['replace'](/\u000A/g,''),_0x42d8b3['remove']=_0x42d8b3['remove']['replace'](/(\S)\u000A+(\S)/g,'$1\x20$2')['replace'](/\u000A/g,''),''!=_0x42d8b3['add']&&''!=_0x42d8b3['remove']){_0x35fc78['push']({'type':'replace','content':o(_0x7a122e,'REPLACE_TEXT',['\x22'+_0x42d8b3['remove']+'\x22','\x22'+_0x42d8b3['add']+'\x22'])});continue;}if(null!=_0x42d8b3['add']['match'](/^ +$/)){_0x35fc78['push']({'type':'insertion','content':o(_0x7a122e,'*Insert:*\x20%0',o(_0x7a122e,'ELEMENT_SPACE',_0x42d8b3['add']['length']))});continue;}if(null!=_0x42d8b3['remove']['match'](/^ +$/)){_0x35fc78['push']({'type':'deletion','content':o(_0x7a122e,'*Remove:*\x20%0',o(_0x7a122e,'ELEMENT_SPACE',_0x42d8b3['remove']['length']))});continue;}if(''!=_0x42d8b3['add']){_0x35fc78['push']({'type':'insertion','content':o(_0x7a122e,'*Insert:*\x20%0','\x22'+_0x42d8b3['add']+'\x22')});continue;}_0x35fc78['push']({'type':'deletion','content':o(_0x7a122e,'*Remove:*\x20%0','\x22'+_0x42d8b3['remove']+'\x22')});continue;case'addEmptyContainer':case'addObject':_0x35fc78['push']({'type':'insertion','content':o(_0x7a122e,'*Insert:*\x20%0',this['getItemLabel'](_0x42d8b3['element'],_0x42d8b3['quantity']))});continue;case'removeEmptyContainer':case'removeObject':_0x35fc78['push']({'type':'deletion','content':o(_0x7a122e,'*Remove:*\x20%0',this['getItemLabel'](_0x42d8b3['element'],_0x42d8b3['quantity']))});continue;case'addContainer':_0x35fc78['push']({'type':'insertion','content':o(_0x7a122e,'*Split:*\x20%0',this['getItemLabel'](_0x42d8b3['element'],_0x42d8b3['quantity']))});continue;case'removeContainer':_0x35fc78['push']({'type':'deletion','content':o(_0x7a122e,'*Merge:*\x20%0',this['getItemLabel'](_0x42d8b3['element'],_0x42d8b3['quantity']))});continue;case'addFormat':_0x2c063c['push'](_0x42d8b3['key']);continue;case'removeFormat':_0x1478be['push'](_0x42d8b3['key']);continue;default:_0x35fc78['push'](_0x42d8b3);}if(_0x2c063c['length']){const _0x18ce87=_0x2c063c['map'](_0x10c8e3=>this['_attributeLabels']['has'](_0x10c8e3)?this['_attributeLabels']['get'](_0x10c8e3):_0x10c8e3)['join'](',\x20');_0x35fc78['push']({'type':'format','content':o(this['_locale'],'*Set\x20format:*\x20%0',_0x18ce87)});}if(_0x1478be['length']){const _0x5789ea=_0x1478be['map'](_0x3208c9=>this['_attributeLabels']['has'](_0x3208c9)?this['_attributeLabels']['get'](_0x3208c9):_0x3208c9)['join'](',\x20');_0x35fc78['push']({'type':'format','content':o(this['_locale'],'*Remove\x20format:*\x20%0',_0x5789ea)});}return _0x35fc78;}['_handleCustomCallbackDescription'](_0x4137fd){for(const _0x5436f0 of this['_customCallbacks']){const _0x4fe301=_0x5436f0(_0x4137fd);if(_0x4fe301&&'type'in _0x4fe301)return _0x4fe301;}}['_handleAttributeSuggestionDescription'](_0x296616,_0x59705c){const _0x90d9c3=_0x59705c['data'],_0x5ca8ed=void 0x0===_0x90d9c3['newValue']?'removeFormat':'addFormat';_0x296616['push']({'type':_0x5ca8ed,'key':_0x90d9c3['key']});}['_handleRenameSuggestionDescription'](_0x291811,_0x311072){_0x291811['push']({'type':'format','content':o(this['_locale'],'*Change\x20to:*\x20%0',this['getItemLabel'](_0x311072['getFirstRange']()['start']['nodeAfter'],0x1))});}['_handleInsertRemoveSuggestionDescription'](_0x1a1e8e,_0x8f18cf,_0x3df886){if(this['_addDescriptionItems'](_0x1a1e8e,_0x8f18cf),_0x3df886&&_0x3df886['getFirstRange']()&&!_0x8f18cf['getFirstRange']()['end']['isEqual'](_0x3df886['getFirstRange']()['start'])){const _0x2717b6=_0x1a1e8e[_0x1a1e8e['length']-0x1],_0x376368='insertion'==_0x8f18cf['type']?'add':'remove';_0x2717b6&&'text'==_0x2717b6['type']&&(_0x2717b6[_0x376368]+='\x0a');}}}class U extends _0x776735{['afterInit'](){const _0x2eef20=this['editor'],_0x139612=_0x2eef20['plugins']['get']('TrackChangesEditing');_0x2eef20['commands']['get']('showAIAssistant')&&_0x139612['enableCommand']('showAIAssistant');}}class V extends _0x776735{['afterInit'](){const _0x494dc8=this['editor'],_0x2a0fd7=_0x494dc8['locale'];if(!_0x494dc8['plugins']['has']('AlignmentEditing'))return;const _0x37b26a=_0x494dc8['plugins']['get']('TrackChangesEditing');_0x37b26a['enableDefaultAttributesIntegration']('alignment'),_0x37b26a['registerBlockAttribute']('alignment'),_0x37b26a['descriptionFactory']['registerAttributeLabel']('alignment',o(_0x2a0fd7,'FORMAT_ALIGNMENT')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x4acfd3=this['editor'],_0x2889b4=_0x4acfd3['locale'];_0x4acfd3['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x417f25=>{if('formatBlock'!=_0x417f25['type'])return;const {data:_0x3b69c6}=_0x417f25;if(_0x3b69c6&&'alignment'==_0x3b69c6['commandName']){const _0x11d5bf=_0x3b69c6['commandParams'][0x0]['value'];return{'type':'format','content':o(_0x2889b4,'*Format:*\x20%0',function(_0x30a88b){switch(_0x30a88b){case'left':return o(_0x2889b4,'FORMAT_ALIGN_TO_LEFT');case'right':return o(_0x2889b4,'FORMAT_ALIGN_TO_RIGHT');case'center':return o(_0x2889b4,'FORMAT_ALIGN_TO_CENTER');case'justify':return o(_0x2889b4,'FORMAT_JUSTIFY_TEXT');}}(_0x11d5bf))};}});}}const Zt=['BoldEditing','ItalicEditing','UnderlineEditing','CodeEditing','StrikethroughEditing','SubscriptEditing','SuperscriptEditing'];class G extends _0x776735{['afterInit'](){const _0x32f3da=this['editor'],_0x28c919=_0x32f3da['plugins']['get']('TrackChangesEditing'),_0x37402e=_0x32f3da['locale'];for(const _0x10941b of Zt){if(!_0x32f3da['plugins']['has'](_0x10941b))continue;const _0x3faca5=_0x10941b['slice'](0x0,-0x7)['toLowerCase'](),_0x304035='FORMAT_'+_0x3faca5['toUpperCase']();_0x28c919['enableDefaultAttributesIntegration'](_0x3faca5),_0x28c919['registerInlineAttribute'](_0x3faca5),_0x28c919['descriptionFactory']['registerAttributeLabel'](_0x3faca5,o(_0x37402e,_0x304035));}this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x27fcee=this['editor'],_0x47dac6=_0x27fcee['locale'],_0x5f1b0c=_0x27fcee['plugins']['get']('TrackChangesEditing');function _0x38d875(_0x160c5c,_0x35b805){_0x5f1b0c['descriptionFactory']['registerDescriptionCallback'](_0x5f4d1f=>{if('formatInline'!=_0x5f4d1f['type'])return;const {data:_0x29c214}=_0x5f4d1f;return _0x29c214&&_0x29c214['commandName']===_0x160c5c?_0x29c214['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x47dac6,'*Format:*\x20%0',_0x35b805)}:{'type':'format','content':o(_0x47dac6,'*Remove\x20format:*\x20%0',_0x35b805)}:void 0x0;});}_0x38d875('bold',o(_0x47dac6,'FORMAT_BOLD')),_0x38d875('italic',o(_0x47dac6,'FORMAT_ITALIC')),_0x38d875('underline',o(_0x47dac6,'FORMAT_UNDERLINE')),_0x38d875('code',o(_0x47dac6,'FORMAT_CODE')),_0x38d875('strikethrough',o(_0x47dac6,'FORMAT_STRIKETHROUGH')),_0x38d875('subscript',o(_0x47dac6,'FORMAT_SUBSCRIPT')),_0x38d875('superscript',o(_0x47dac6,'FORMAT_SUPERSCRIPT'));}}class F extends _0x776735{['afterInit'](){const _0xed5694=this['editor'],_0x536df8=_0xed5694['locale'];if(!_0xed5694['plugins']['has']('BlockQuoteEditing'))return;const _0x1ce8ec=_0xed5694['plugins']['get']('TrackChangesEditing'),_0x27bf94=this['editor']['commands']['get']('blockQuote');_0x1ce8ec['enableCommand']('blockQuote',(_0x55d43f,_0x31f323={})=>{const _0x1dccbb=this['editor']['model']['document']['selection'],_0x310374=_0x31f323&&void 0x0!==_0x31f323['forceValue']?_0x31f323['forceValue']:!_0x27bf94['value'];let _0x35a390=[];if(_0x310374){const _0x4a88a6=Array['from'](_0x1dccbb['getSelectedBlocks']())['filter'](_0x5e8128=>oo(_0x5e8128)||function(_0x58b8d3,_0x5f1f73){const _0x32585d=_0x5f1f73['checkChild'](_0x58b8d3['parent'],'blockQuote'),_0x28a837=_0x5f1f73['checkChild'](['$root','blockQuote'],_0x58b8d3);return _0x32585d&&_0x28a837;}(_0x5e8128,this['editor']['model']['schema']));_0x35a390=to(_0x4a88a6,_0xed5694['model']);}else{const _0x3922ce=Array['from'](_0x1dccbb['getSelectedBlocks']())['filter'](_0x5d593e=>oo(_0x5d593e));_0x35a390=to(_0x3922ce,_0xed5694['model']);}_0xed5694['model']['change'](()=>{for(const _0x2f940e of _0x35a390)_0x1ce8ec['markBlockFormat'](_0x2f940e,{'commandName':'blockQuote','commandParams':[{'forceValue':_0x310374}]});});}),_0x1ce8ec['descriptionFactory']['registerDescriptionCallback'](_0x4ef1b9=>{const {data:_0x36b131}=_0x4ef1b9;if(_0x36b131&&'blockQuote'==_0x36b131['commandName']){const _0x944932=o(_0x536df8,'ELEMENT_BLOCK_QUOTE');return _0x36b131['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x536df8,'*Set\x20format:*\x20%0',_0x944932)}:{'type':'format','content':o(_0x536df8,'*Remove\x20format:*\x20%0',_0x944932)};}});}}function oo(_0x4d081f){return'blockQuote'==_0x4d081f['parent']['name'];}class L extends _0x776735{['afterInit'](){const _0x569044=this['editor'],_0x421f7a=_0x569044['locale'],_0x18581d=_0x569044['plugins']['get']('TrackChangesEditing');_0x569044['plugins']['has']('BookmarkEditing')&&(_0x18581d['enableCommand']('insertBookmark'),_0x18581d['enableDefaultAttributesIntegration']('updateBookmark'),_0x18581d['registerBlockAttribute']('bookmarkId'),_0x18581d['descriptionFactory']['registerDescriptionCallback'](_0x232a35=>{if('insertion'!=_0x232a35['type']&&'deletion'!=_0x232a35['type']&&'attribute'!=_0x232a35['type'])return;const _0x2d18a4=_0x232a35['getContainedElement']();if(null==_0x2d18a4)return;if(!_0x2d18a4['is']('element','bookmark'))return;const _0x360f7a=_0x2d18a4['getAttribute']('bookmarkId');if('insertion'==_0x232a35['type'])return{'type':'insertion','content':o(_0x421f7a,'*Insert:*\x20%0','\x22'+_0x360f7a+'\x22\x20'+o(_0x421f7a,'ELEMENT_BOOKMARK'))};if('deletion'==_0x232a35['type'])return{'type':'deletion','content':o(_0x421f7a,'*Remove:*\x20%0','\x22'+_0x360f7a+'\x22\x20'+o(_0x421f7a,'ELEMENT_BOOKMARK'))};const {data:_0x1b5380}=_0x232a35;if(!_0x1b5380||'bookmarkId'!=_0x1b5380['key'])return;return{'type':'format','content':o(_0x421f7a,'*Set\x20bookmark:*\x20%0','\x22'+_0x1b5380['newValue']+'\x22')};}));}}class J extends _0x776735{['afterInit'](){const _0x4861e3=this['editor'];_0x4861e3['plugins']['has']('CaseChange')&&(_0x4861e3['plugins']['get']('TrackChangesEditing')['enableCommand']('changeCaseUpper'),_0x4861e3['plugins']['get']('TrackChangesEditing')['enableCommand']('changeCaseLower'),_0x4861e3['plugins']['get']('TrackChangesEditing')['enableCommand']('changeCaseTitle'));}}class H extends _0x776735{['afterInit'](){const _0x338d73=this['editor'];_0x338d73['commands']['get']('ckbox')&&_0x338d73['plugins']['get']('TrackChangesEditing')['enableCommand']('ckbox');}}class q extends _0x776735{['afterInit'](){const _0x233ac8=this['editor'];if(!_0x233ac8['plugins']['has']('CodeBlock'))return;const _0x4a7a37=_0x233ac8['plugins']['get']('TrackChangesEditing'),_0x578676=_0x233ac8['locale'],_0x26a2c4=_0x233ac8['config']['get']('codeBlock')['languages'],_0x1f3f10=_0x233ac8['commands']['get']('codeBlock');_0x4a7a37['enableCommand']('indentCodeBlock'),_0x4a7a37['enableCommand']('outdentCodeBlock'),_0x4a7a37['enableCommand']('codeBlock',(_0x424f17,_0x12cd37={})=>{const _0x275704=_0x233ac8['model'],_0x4b5e6c=_0x233ac8['model']['document']['selection'],_0xc7a30c=_0x12cd37&&void 0x0!==_0x12cd37['forceValue']?_0x12cd37['forceValue']:!_0x1f3f10['value'];let _0x398e1b;_0x12cd37['language']||(_0x12cd37['language']=_0x26a2c4[0x0]['language']),_0x398e1b=_0xc7a30c?Array['from'](_0x4b5e6c['getSelectedBlocks']())['filter'](_0x491690=>eo(_0x491690)||function(_0x1533e5,_0x3651ff){if(_0x1533e5['is']('rootElement')||_0x3651ff['isLimit'](_0x1533e5))return!0x1;return _0x3651ff['checkChild'](_0x1533e5['parent'],'codeBlock');}(_0x491690,_0x275704['schema'])):Array['from'](_0x4b5e6c['getSelectedBlocks']())['filter'](_0x4be510=>eo(_0x4be510));const _0x57687c=to(_0x398e1b,_0x275704);_0x275704['change'](()=>{for(const _0x25ef62 of _0x57687c)_0x4a7a37['markBlockFormat'](_0x25ef62,{'commandName':'codeBlock','commandParams':[{..._0x12cd37,'forceValue':_0xc7a30c}],'formatGroupId':'blockName'});});}),(_0x4a7a37['descriptionFactory']['registerElementLabel']('codeBlock',_0x5a8b3a=>o(_0x578676,'ELEMENT_CODE_BLOCK',_0x5a8b3a)),_0x4a7a37['descriptionFactory']['registerDescriptionCallback'](_0x39ac6=>{if('formatBlock'!=_0x39ac6['type'])return;const _0x4be016=_0x578676['t'],{data:_0x232c0a}=_0x39ac6;if(!_0x232c0a||'codeBlock'!=_0x232c0a['commandName'])return;const _0x55d2e2=_0x232c0a['commandParams'][0x0]['language'],_0x4160bd=_0x4be016(_0x26a2c4['find'](_0x632f5b=>_0x632f5b['language']===_0x55d2e2)['label'])['toLowerCase']();return _0x232c0a['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x578676,'*Set\x20format:*\x20%0',o(_0x578676,'ELEMENT_CODE_BLOCK',0x1)+'\x20('+_0x4160bd+')')}:{'type':'format','content':o(_0x578676,'*Remove\x20format:*\x20%0',o(_0x578676,'ELEMENT_CODE_BLOCK',0x1))};}));}}function eo(_0x5309db){return'codeBlock'==_0x5309db['name'];}class z extends _0x776735{['afterInit'](){const _0x1af8b4=this['editor'];if(!_0x1af8b4['plugins']['has']('CommentsEditing'))return;_0x1af8b4['plugins']['get']('TrackChangesEditing')['enableCommand']('addCommentThread');}}function io(_0x26ab35,_0x2ebe46,_0x47dca5){const _0xa3810f=[];for(const _0x15cd50 of _0x2ebe46['getItems']())_0x15cd50['hasAttribute'](_0x26ab35)&&_0xa3810f['push'](_0x47dca5['createRangeOn'](_0x15cd50));return _0xa3810f;}function Ne(_0x418376,_0x73b75c,{showActiveMarker:_0x5e95b4=!0x0}={}){const _0x1c6eb2=_0x418376['plugins']['get']('TrackChangesEditing');return(_0x2b6cdb,_0x2613ef,_0x5254f2)=>{if(!_0x5254f2['consumable']['test'](_0x2613ef['markerRange'],_0x2b6cdb['name']))return;const _0x469311=_0x2613ef['markerRange']['getWalker'](),_0x5e29e4=_0x2613ef['markerRange']['start'],_0x2d17ac=_0x418376['model']['schema'];let _0x20503e=null,_0xc334b6=null,_0x49e5b2=!0x1,_0x34ba3d=!0x1;for(const _0xc7ff6 of _0x469311){const _0xcdb065=_0xc7ff6['item'];_0x49e5b2=_0x49e5b2||_0x2d17ac['isContent'](_0xcdb065);const _0x4f64cc=_0x5254f2['mapper']['toViewElement'](_0xcdb065);if(_0x4f64cc&&_0x4f64cc['getCustomProperty']('addHighlight'))return;'elementEnd'==_0xc7ff6['type']&&(_0x2d17ac['isBlock'](_0xcdb065)&&!_0x2d17ac['isLimit'](_0xcdb065)&&(_0xcdb065['nextSibling']||_0x5e29e4['isAtEnd']?_0x20503e&&_0x20503e['parent']==_0xcdb065||(_0x20503e=_0xcdb065,_0x181cac(_0xc7ff6['previousPosition']),_0x34ba3d=!0x0):_0xc334b6=_0xc334b6||_0xc7ff6['previousPosition']));}function _0x181cac(_0x1c33c1){const {authorId:_0x2e3755}=_0x1c6eb2['_splitMarkerName'](_0x2613ef['markerName']),_0x529df2=_0x5254f2['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-'+_0x73b75c,'data-author-id':_0x2e3755}),_0x555b32=_0x5254f2['mapper']['toViewPosition'](_0x1c33c1);_0x5e95b4&&_0x1c6eb2['activeMarkers']['includes'](_0x2613ef['markerName'])&&_0x5254f2['writer']['addClass']('ck-suggestion-marker--active',_0x529df2),_0x5254f2['writer']['insert'](_0x555b32,_0x529df2),_0x5254f2['mapper']['bindElementToMarker'](_0x529df2,_0x2613ef['markerName']);}_0x49e5b2||_0x34ba3d||!_0xc334b6||_0x181cac(_0xc334b6);};}class K extends _0x776735{static get['requires'](){return[_0x311b08];}['init'](){const _0x21e6da=this['editor'],_0x2a08b3=_0x21e6da['plugins']['get']('TrackChangesEditing');_0x2a08b3['enableCommand']('delete');const _0x3568a3=_0x21e6da['commands']['get']('deleteForward');_0x2a08b3['enableCommand']('deleteForward',(_0x243e68,_0x4b3220={})=>{const _0x42ca33=_0x21e6da['model']['createSelection'](_0x21e6da['model']['document']['selection']);_0x42ca33['isCollapsed']&&_0x21e6da['model']['modifySelection'](_0x42ca33,{'direction':'forward','unit':_0x4b3220['unit']});const _0x541ae3=_0x42ca33['getFirstRange'](),_0x4187d2=_0xf48340['fromRange'](_0x541ae3);let _0x3b1ad7;_0x243e68(_0x4b3220),_0x3b1ad7='$graveyard'==_0x4187d2['root']['rootName']?_0x21e6da['model']['createRange'](_0x541ae3['start']):_0x21e6da['model']['createRange'](_0x4187d2['start'],_0x4187d2['end']),_0x4187d2['detach'](),_0x21e6da['model']['enqueueChange'](_0x3568a3['buffer']['batch'],_0x5b1da4=>{_0x3568a3['buffer']['lock'](),_0x5b1da4['setSelection'](_0x5b1da4['createRange'](_0x3b1ad7['end'])),_0x3568a3['buffer']['unlock']();});}),_0x21e6da['editing']['downcastDispatcher']['on']('addMarker:suggestion:deletion',Ne(_0x21e6da,'merge'),{'priority':'high'}),_0x21e6da['data']['downcastDispatcher']['on']('addMarker:suggestion:deletion',(_0xed5c0d,_0xfda3f9,_0xb61d9)=>{_0xb61d9['options']['showSuggestionHighlights']&&Ne(_0x21e6da,'merge',{'showActiveMarker':!0x1})['bind'](this)(_0xed5c0d,_0xfda3f9,_0xb61d9);},{'priority':'high'}),_0x21e6da['editing']['downcastDispatcher']['on']('removeMarker:suggestion:deletion',(_0x30d668,_0x276824,_0x11e0fd)=>{const _0x1fcfe9=_0x11e0fd['mapper']['markerNameToElements'](_0x276824['markerName']);if(_0x1fcfe9){for(const _0x41af78 of _0x1fcfe9)_0x41af78['is']('uiElement')&&(_0x11e0fd['mapper']['unbindElementFromMarkerName'](_0x41af78,_0x276824['markerName']),_0x11e0fd['writer']['remove'](_0x41af78));}},{'priority':'high'});}}class W extends _0x776735{['afterInit'](){const _0x1320d2=this['editor'];if(!_0x1320d2['plugins']['has']('ListEditing'))return;const _0x2faead=_0x1320d2['locale'],_0x2387a3=_0x1320d2['plugins']['get']('TrackChangesEditing'),_0xd9bd5e=_0x1320d2['plugins']['has']('TodoListEditing'),_0x3b6872=!!_0x1320d2['config']['get']('list.multiBlock');function _0x355a46(_0x3a3ea2){return{'type':'format','content':''+o(_0x2faead,'*Set\x20format:*\x20%0',_0x3a3ea2)};}function _0x541006(_0xd971c0){return{'type':'format','content':''+o(_0x2faead,'*Remove\x20format:*\x20%0',_0xd971c0)};}_0x2387a3['enableDefaultAttributesIntegration']('numberedList'),_0x2387a3['enableDefaultAttributesIntegration']('bulletedList'),_0x2387a3['enableDefaultAttributesIntegration']('customNumberedList'),_0x2387a3['enableDefaultAttributesIntegration']('customBulletedList'),_0x2387a3['enableDefaultAttributesIntegration']('indentList'),_0x2387a3['enableDefaultAttributesIntegration']('outdentList'),_0x2387a3['enableDefaultAttributesIntegration']('splitListItemAfter'),_0x2387a3['enableDefaultAttributesIntegration']('splitListItemBefore'),_0x2387a3['registerBlockAttribute']('listItemId'),_0x2387a3['registerBlockAttribute']('listType'),_0x2387a3['registerBlockAttribute']('listIndent'),_0x3b6872&&(_0x2387a3['enableDefaultAttributesIntegration']('mergeListItemBackward'),_0x2387a3['enableDefaultAttributesIntegration']('mergeListItemForward')),_0xd9bd5e&&(_0x2387a3['enableDefaultAttributesIntegration']('todoList'),_0x2387a3['enableDefaultAttributesIntegration']('checkTodoList'),_0x2387a3['registerBlockAttribute']('todoListChecked'),_0x2387a3['descriptionFactory']['registerDescriptionCallback'](_0x1bd505=>{const {data:_0x4b4db5}=_0x1bd505;if(_0x4b4db5&&'todoListChecked'==_0x4b4db5['key'])return{'type':'format','content':_0x4b4db5['newValue']?o(_0x2faead,'*Check\x20item*'):o(_0x2faead,'*Uncheck\x20item*')};}),this['editor']['model']['document']['registerPostFixer'](_0x17305e=>{if(_0x17305e['batch']['isUndo'])return!0x1;let _0x20d81a=!0x1;const _0x451ceb=_0x2387a3['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x26d29b=>'todoListChecked'===_0x2387a3['_getAttributeKey'](_0x26d29b));for(const _0x292639 of _0x451ceb){'todo'!=_0x292639['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType')&&(_0x2387a3['_findSuggestions'](_0x292639['getFirstRange'](),'attribute')['find'](_0x5c990d=>'listType'===_0x2387a3['_getAttributeKey'](_0x5c990d['suggestion']))||(_0x17305e['removeMarker'](_0x292639['getFirstMarker']()),_0x20d81a=!0x0));}return _0x20d81a;})),_0x2387a3['descriptionFactory']['registerAttributeLabel']('listIndent',o(_0x2faead,'FORMAT_INDENT'));const _0x1a8613={'type':'format','content':''};_0x2387a3['descriptionFactory']['registerDescriptionCallback'](_0x4035b5=>{const {data:_0x13f1cf}=_0x4035b5;if(!_0x13f1cf||'listType'!=_0x13f1cf['key'])return;let _0x3ea9fd=_0x4035b5['head'];for(;_0x3ea9fd;){if(_0x3ea9fd['data']&&(('listStyle'==_0x3ea9fd['data']['key']||'listMarkerStyle'==_0x3ea9fd['data']['key'])&&(_0x3ea9fd['data']['newValue']&&'default'!=_0x3ea9fd['data']['newValue']||'default'!=_0x3ea9fd['data']['oldValue']&&!_0x13f1cf['newValue'])||!_0x3b6872&&_0x3ea9fd['data']['key']==m))return _0x1a8613;_0x3ea9fd=_0x3ea9fd['next'];}if(null==_0x13f1cf['newValue'])switch(_0x13f1cf['oldValue']){case'bulleted':return _0x541006(o(_0x2faead,'ELEMENT_BULLETED_LIST'));case'numbered':return _0x541006(o(_0x2faead,'ELEMENT_NUMBERED_LIST'));case'todo':return _0x541006(o(_0x2faead,'ELEMENT_TODO_LIST'));}switch(_0x13f1cf['newValue']){case'bulleted':return _0x355a46(o(_0x2faead,'ELEMENT_BULLETED_LIST'));case'numbered':return _0x355a46(o(_0x2faead,'ELEMENT_NUMBERED_LIST'));case'todo':return _0x355a46(o(_0x2faead,'ELEMENT_TODO_LIST'));}}),_0x2387a3['descriptionFactory']['registerDescriptionCallback'](_0x290c8e=>{const {data:_0x2a422f}=_0x290c8e;if(_0x2a422f&&'listIndent'==_0x2a422f['key'])return null==_0x2a422f['newValue']||null==_0x2a422f['oldValue']&&0x0==_0x2a422f['newValue']?_0x1a8613:void 0x0;}),_0x2387a3['descriptionFactory']['registerDescriptionCallback'](_0x54ddfb=>{if('attribute'!=_0x54ddfb['type'])return;const {data:_0x130f31}=_0x54ddfb;if(!_0x130f31||'listItemId'!=_0x130f31['key'])return;const _0x359999=Te(_0x54ddfb);return'newValue'==_0x359999?{'type':'format','content':o(_0x2faead,'*Merge:*\x20list\x20item')}:'oldValue'==_0x359999?{'type':'format','content':o(_0x2faead,'*Split:*\x20list\x20item')}:_0x1a8613;}),_0x1320d2['model']['document']['registerPostFixer'](_0x9d1eca=>this['listItemIdFixer'](_0x9d1eca)),_0x1320d2['model']['document']['registerPostFixer'](_0x456c8f=>this['noTrackChangesFixer'](_0x456c8f)),_0x1320d2['model']['document']['on']('change:data',(_0x254ffc,_0x3d8472)=>{if(_0x3d8472['isUndo']||!_0x3d8472['isLocal'])return!0x1;this['assureChains']();},{'priority':'high'}),this['_supportLegacySuggestions']();}['listItemIdFixer'](_0x2f1694){if(_0x2f1694['batch']['isUndo']||!_0x2f1694['batch']['isLocal'])return!0x1;let _0x1db08b=!0x1;const _0x4b52ca=this['editor']['plugins']['get']('TrackChangesEditing')['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x37267f=>_0x37267f['data']&&'listItemId'==_0x37267f['data']['key'])['filter'](_0x2e3e1d=>_0x2e3e1d['data']['newValue']&&_0x2e3e1d['data']['oldValue']);for(const _0x1377f8 of _0x4b52ca)Te(_0x1377f8)||(_0x2f1694['removeMarker'](_0x1377f8['getFirstMarker']()),_0x1db08b=!0x0);return _0x1db08b;}['noTrackChangesFixer'](_0x90931b){if(_0x90931b['batch']['isUndo']||!_0x90931b['batch']['isLocal'])return!0x1;const _0x5e8123=this['editor']['plugins']['get']('TrackChangesEditing');if(_0x5e8123['trackChangesCommand']['value'])return!0x1;let _0x491c07=!0x1;const _0xca0753=['listType','listItemId','listIndent','listStyle','listStart','listReversed','todoListCheck','listMarker','listMarkerStyle'],_0x46edd7=this['editor']['model']['document']['differ']['getChanges']()['filter'](_0x432103=>'attribute'==_0x432103['type'])['filter'](_0x8357a3=>_0xca0753['includes'](_0x8357a3['attributeKey']));if(0x0==_0x46edd7['length'])return _0x491c07;for(const _0x4cfcda of _0x46edd7){const _0x2934f6=_0x5e8123['_findSuggestions'](_0x4cfcda['range'],'attribute')['filter'](_0x1fb275=>!_0x1fb275['meta']['isNextTo'])['map'](_0xb58b67=>_0xb58b67['suggestion'])['filter'](_0x52e1a0=>{const _0x41fbd1=_0x5e8123['_getAttributeKey'](_0x52e1a0);return _0xca0753['includes'](_0x41fbd1);});if(_0x2934f6['length']){for(const _0x56ec39 of _0x2934f6)_0x90931b['removeMarker'](_0x56ec39['getFirstMarker']());_0x491c07=!0x0;}}return _0x491c07;}['assureChains'](){const _0x2fef70=this['editor']['plugins']['get']('TrackChangesEditing'),_0x164f8e=['listType','listItemId','listIndent','listStyle','listStart','listReversed','todoListCheck','listMarker','listMarkerStyle'];let _0x5119af;const _0x20aa0d=new Set(this['editor']['model']['document']['differ']['getChangedMarkers']()['filter'](_0x23d1b4=>{if(_0x23d1b4['data']['oldRange']||!_0x23d1b4['data']['newRange'])return null;if(!_0x23d1b4['name']['startsWith']('suggestion:attribute:'))return null;const {id:_0xcd839f}=_0x2fef70['_splitMarkerName'](_0x23d1b4['name']);if(!_0x2fef70['hasSuggestion'](_0xcd839f))return null;const _0x350aad=_0x2fef70['getSuggestion'](_0xcd839f);return _0x164f8e['includes'](_0x350aad['data']['key']);})['map'](_0x3e610d=>{const {id:_0x312e90}=_0x2fef70['_splitMarkerName'](_0x3e610d['name']),_0x177b27=_0x2fef70['getSuggestion'](_0x312e90);return _0x5119af=_0x177b27['attributes']['groupId'],_0x177b27['getFirstRange']()['start']['nodeAfter'];}));if(0x0==_0x20aa0d['size'])return;const _0x42eec5=_0x2fef70['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x511ebc=>'attribute'==_0x511ebc['type']&&_0x511ebc['data']&&_0x164f8e['includes'](_0x511ebc['data']['key'])&&_0x511ebc['attributes']['groupId']!=_0x5119af)['map'](_0x38985c=>({'listItem':_0x38985c['getFirstRange']()['start']['nodeAfter'],'groupId':_0x38985c['attributes']['groupId']})),_0x255528=new Set();for(const {groupId:_0x5ab08a,listItem:_0x27c9cb}of _0x42eec5)_0x20aa0d['has'](_0x27c9cb)&&_0x255528['add'](_0x5ab08a);for(const _0x320f82 of _0x2fef70['getSuggestions']())_0x255528['has'](_0x320f82['attributes']['groupId'])&&_0x320f82['setAttribute']('groupId',_0x5119af);}['_supportLegacySuggestions'](){const _0x307420=this['editor'],_0x19439f=_0x307420['locale'],_0x1f48e1=_0x307420['plugins']['get']('TrackChangesEditing');this['_registerLegacyDescription'](),_0x1f48e1['_suggestionFactory']['registerCustomCallback']('formatBlock','documentList','accept',function(_0x1a43d7,_0x522994){const _0x5f22d5=[];for(let _0x5e6f8d of _0x1a43d7)_0x5e6f8d['start']['nodeAfter']===_0x5e6f8d['end']['parent']&&(_0x5e6f8d=_0x307420['model']['createRange'](_0x307420['model']['createPositionAt'](_0x5e6f8d['start']['nodeAfter'],0x0))),_0x5f22d5['push'](_0x5e6f8d);_0x307420['model']['change'](_0x11f6a9=>{const _0x2afda5=_0x307420['model']['document']['selection'],_0x486462=Array['from'](_0x2afda5['getRanges']())['map'](_0x4b57b7=>_0xf48340['fromRange'](_0x4b57b7));_0x11f6a9['setSelection'](_0x5f22d5),_0x307420['commands']['get'](_0x522994['commandName'])['refresh'](),_0x522994['commandParams']['push']({'forceDefaultExecution':!0x0}),_0x307420['execute'](_0x522994['commandName'],..._0x522994['commandParams']),_0x11f6a9['setSelection'](_0x486462);for(const _0x1951c9 of _0x486462)_0x1951c9['detach']();});}),_0x1f48e1['descriptionFactory']['registerElementLabel'](function(_0x19a834){const _0x513b98=!_0x307420['model']['schema']['isObject'](_0x19a834),_0x1a0b7a=_0x19a834['previousSibling'],_0x1a9fd8=_0x19a834['nextSibling'],_0x5c5108=_0x19a834['getAttribute']('listItemId'),_0x4ce93e=!_0x1a0b7a||_0x1a0b7a['getAttribute']('listItemId')!==_0x5c5108,_0x125fb6=!_0x1a9fd8||_0x1a9fd8['getAttribute']('listItemId')!==_0x5c5108;return _0x513b98&&Boolean(_0x5c5108)&&_0x4ce93e&&_0x125fb6;},_0x1de36d=>o(_0x19439f,'ELEMENT_LIST_ITEM',_0x1de36d));}['_registerLegacyDescription'](){const _0xd0e656=this['editor'],_0x237976=_0xd0e656['locale'];function _0x174e3f(_0x417b84){const _0x3daf56=_0xd0e656['commands']['get']('bulletedList')['value'],_0x518c90=_0xd0e656['commands']['get']('numberedList')['value'];return'numberedList'===_0x417b84?_0x3daf56:_0x518c90;}_0xd0e656['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](function(_0x26155f){if('formatBlock'!=_0x26155f['type'])return;const {data:_0x3dfb75}=_0x26155f;if(!_0x3dfb75)return;let _0x170a06,_0x1adcd2,_0x4967bb,_0x3528fb;switch(_0x3dfb75['commandName']){case'bulletedList':_0x4967bb=_0x3dfb75['commandParams'][0x0]['forceValue'],_0x3528fb=_0x174e3f(_0x3dfb75['commandName']),_0x170a06=_0x4967bb?'*Format:*\x20insert\x20into\x20%0':'*Format:*\x20remove\x20from\x20%0',!_0x3528fb&&_0xd0e656['config']['get']('list.multiBlock')||(_0x170a06='*Change\x20to:*\x20%0'),_0x1adcd2={'type':'format','content':o(_0x237976,_0x170a06,o(_0x237976,'ELEMENT_BULLETED_LIST'))};break;case'numberedList':_0x4967bb=_0x3dfb75['commandParams'][0x0]['forceValue'],_0x3528fb=_0x174e3f(_0x3dfb75['commandName']),_0x170a06=_0x4967bb?'*Format:*\x20insert\x20into\x20%0':'*Format:*\x20remove\x20from\x20%0',!_0x3528fb&&_0xd0e656['config']['get']('list.multiBlock')||(_0x170a06='*Change\x20to:*\x20%0'),_0x1adcd2={'type':'format','content':o(_0x237976,_0x170a06,o(_0x237976,'ELEMENT_NUMBERED_LIST'))};break;case'indentList':_0x170a06='*Indent:*\x20%0',_0x1adcd2={'type':'format','content':o(_0x237976,_0x170a06,o(_0x237976,'ELEMENT_LIST_ITEM'))};break;case'outdentList':_0x170a06=function(_0xbbec51){const _0x283698=_0xbbec51['getFirstRange']();let _0xf03c6f=_0x283698['start']['nodeAfter'];for(;_0xf03c6f&&_0x283698['containsItem'](_0xf03c6f);){if(_0xf03c6f['getAttribute']('listIndent')>0x0)return!0x1;_0xf03c6f=_0xf03c6f['nextSibling'];}return!0x0;}(_0x26155f)?o(_0x237976,'*Format:*\x20remove\x20from\x20%0',o(_0x237976,function(_0x3bc8d9){return'ELEMENT_'+_0x3bc8d9['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType')['toUpperCase']()+'_LIST';}(_0x26155f))):o(_0x237976,'*Outdent:*\x20%0',o(_0x237976,'ELEMENT_LIST_ITEM')),_0x1adcd2={'type':'format','content':_0x170a06};break;case'mergeListItemBackward':case'mergeListItemForward':!0x1===_0x3dfb75['multipleBlocks']&&(_0x170a06='*Merge:*\x20%0',_0x1adcd2={'type':'deletion','content':o(_0x237976,_0x170a06,o(_0x237976,'ELEMENT_LIST_ITEM'))});}return _0x1adcd2;});}}function Te(_0x10b144){let _0x9c870b=_0x10b144['getFirstRange']()['start']['nodeAfter']['previousSibling'];for(;_0x9c870b;){const _0x1aa396=_0x9c870b['getAttribute']('listItemId');if(!_0x1aa396)return!0x1;if(_0x1aa396==_0x10b144['data']['newValue'])return'newValue';if(_0x1aa396==_0x10b144['data']['oldValue'])return'oldValue';_0x9c870b=_0x9c870b['previousSibling'];}return!0x1;}class ye extends _0x776735{['afterInit'](){if(!this['editor']['plugins']['has']('ListPropertiesEditing'))return;const _0x2d22e3=this['editor']['config']['get']('list.properties'),_0x5a4667=this['editor']['plugins']['get']('TrackChangesEditing');_0x2d22e3['styles']&&(_0x5a4667['enableDefaultAttributesIntegration']('listStyle'),_0x5a4667['registerBlockAttribute']('listStyle')),_0x2d22e3['reversed']&&(_0x5a4667['enableDefaultAttributesIntegration']('listReversed'),_0x5a4667['registerBlockAttribute']('listReversed')),_0x2d22e3['startIndex']&&(_0x5a4667['enableDefaultAttributesIntegration']('listStart'),_0x5a4667['registerBlockAttribute']('listStart'));const _0x53e9de={'type':'format','content':''};_0x5a4667['descriptionFactory']['registerDescriptionCallback'](this['handleDescriptions']['bind'](this));const _0x5703be=this['editor']['locale'];_0x5a4667['descriptionFactory']['registerAttributeLabel']('listReversed',o(_0x5703be,'FORMAT_LIST_REVERSED')),_0x5a4667['descriptionFactory']['registerDescriptionCallback'](_0x85f55b=>{const {data:_0x247535}=_0x85f55b;if(_0x247535&&'listReversed'==_0x247535['key'])return null==_0x247535['newValue']||0x0==_0x247535['newValue']&&null==_0x247535['oldValue']?_0x53e9de:void 0x0;}),_0x5a4667['descriptionFactory']['registerAttributeLabel']('listStart',o(_0x5703be,'FORMAT_LIST_START')),_0x5a4667['descriptionFactory']['registerDescriptionCallback'](_0x55abdc=>{const {data:_0x158bbb}=_0x55abdc;if(_0x158bbb&&'listStart'==_0x158bbb['key'])return null==_0x158bbb['newValue']||0x1==_0x158bbb['newValue']&&null==_0x158bbb['oldValue']?_0x53e9de:void 0x0;}),this['editor']['model']['document']['registerPostFixer'](_0x1da1df=>{if(_0x1da1df['batch']['isUndo'])return!0x1;let _0xc53b0e=!0x1;const _0x5adad6=_0x5a4667['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x552628=>{const _0x40adb1=_0x5a4667['_getAttributeKey'](_0x552628);return'listStart'==_0x40adb1||'listReversed'==_0x40adb1;});for(const _0x163118 of _0x5adad6){const _0x4dce5d=_0x163118['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType');if('numbered'==_0x4dce5d||'customNumbered'==_0x4dce5d)continue;_0x5a4667['_findSuggestions'](_0x163118['getFirstRange'](),'attribute')['find'](_0x299e5c=>'listType'==_0x5a4667['_getAttributeKey'](_0x299e5c['suggestion']))||(_0x1da1df['removeMarker'](_0x163118['getFirstMarker']()),_0xc53b0e=!0x0);}return _0xc53b0e;}),this['_registerLegacyDescription']();}['handleDescriptions'](_0x4da464){const _0x2ec7eb=this['editor']['locale'],{data:_0x3b59b5}=_0x4da464,_0x1de7f6={'type':'format','content':''};if(!_0x3b59b5||'listStyle'!=_0x3b59b5['key'])return;if(!_0x3b59b5['oldValue'])return'default'==_0x3b59b5['newValue']?_0x1de7f6:{'type':'format','content':''+o(_0x2ec7eb,'*Set\x20format:*\x20%0',o(_0x2ec7eb,this['_getTranslationKeyForListStyle'](_0x3b59b5['newValue'])))};if(!_0x3b59b5['newValue']){if('default'==_0x3b59b5['oldValue'])return _0x1de7f6;let _0x1d5c99=_0x4da464['head'];for(;_0x1d5c99;){if(_0x1d5c99['data']&&'listType'==_0x1d5c99['data']['key']&&_0x1d5c99['data']['newValue'])return _0x1de7f6;_0x1d5c99=_0x1d5c99['next'];}return{'type':'format','content':''+o(_0x2ec7eb,'*Remove\x20format:*\x20%0',o(_0x2ec7eb,this['_getTranslationKeyForListStyle'](_0x3b59b5['oldValue'])))};}if('default'!=_0x3b59b5['newValue'])return{'type':'format','content':''+o(_0x2ec7eb,'*Set\x20format:*\x20%0',o(_0x2ec7eb,this['_getTranslationKeyForListStyle'](_0x3b59b5['newValue'])))};let _0x28e0d0=_0x4da464['head'];for(;_0x28e0d0;){if(_0x28e0d0['data']&&'listType'==_0x28e0d0['data']['key']&&_0x28e0d0['data']['newValue']&&_0x28e0d0['data']['oldValue'])return _0x1de7f6;_0x28e0d0=_0x28e0d0['next'];}return{'type':'format','content':o(_0x2ec7eb,'*Set\x20format:*\x20%0',o(_0x2ec7eb,'ELEMENT_'+_0x4da464['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType')['toUpperCase']()+'_LIST_DEFAULT'))};}['_registerLegacyDescription'](){const _0x5606a2=this['editor'],_0x2c217a=_0x5606a2['locale'];_0x5606a2['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x2c6770=>{if('formatBlock'!=_0x2c6770['type'])return;const {data:_0x4c32a1}=_0x2c6770;if(!_0x4c32a1)return;let _0x2fa07d,_0x5746e0;switch(_0x4c32a1['commandName']){case'listStyle':_0x2fa07d='*Change\x20to:*\x20%0',_0x5746e0={'type':'format','content':o(_0x2c217a,_0x2fa07d,o(_0x2c217a,this['_getTranslationKeyForListStyle'](_0x4c32a1['commandParams'][0x0]['type'])))};break;case'listReversed':_0x2fa07d=_0x4c32a1['commandParams'][0x0]['reversed']?'*Format:*\x20set\x20order\x20to\x20reversed':'*Format:*\x20set\x20order\x20to\x20regular',_0x5746e0={'type':'format','content':o(_0x2c217a,_0x2fa07d)};break;case'listStart':_0x2fa07d='*Format:*\x20set\x20start\x20index\x20to\x20%0',_0x5746e0={'type':'format','content':o(_0x2c217a,_0x2fa07d,_0x4c32a1['commandParams'][0x0]['startIndex'])};}return _0x5746e0;});}['_getTranslationKeyForListStyle'](_0x4c932b){return'ELEMENT_'+function(_0x120d7d){if(Se['includes'](_0x120d7d))return'bulleted';if(_e['includes'](_0x120d7d))return'numbered';return null;}(_0x4c932b)['toUpperCase']()+'_LIST_'+_0x4c932b['toUpperCase']()['replace'](/-/g,'_');}}const Se=['disc','circle','square'],_e=['decimal','decimal-leading-zero','lower-roman','upper-roman','lower-latin','upper-latin'];class X extends _0x776735{static get['requires'](){return[_0x3c930a];}['init'](){const _0x55b13b=this['editor'],_0x5f1455=_0x55b13b['plugins']['get']('TrackChangesEditing'),_0x1a90d5=_0x55b13b['commands']['get']('enter');_0x5f1455['enableCommand']('enter',()=>{_0x55b13b['model']['change'](_0x425168=>{const _0x3f1ae7=_0x55b13b['model']['document']['selection'],_0x4383ec=_0x3f1ae7['getFirstPosition'](),_0xc68fa6=_0xf48340['fromRange'](_0x3f1ae7['getFirstRange']());if(_0x1a90d5['enterBlock'](_0x425168)){const _0xbfeaa7=_0x55b13b['model']['createPositionAt'](_0x4383ec['parent']['nextSibling'],0x0),_0x170d21=_0x425168['createRange'](_0x4383ec,_0xbfeaa7);_0x5f1455['markInsertion'](_0x170d21);}else _0x425168['setSelection'](_0x425168['createRange'](_0xc68fa6['end']));_0xc68fa6['detach'](),_0x1a90d5['fire']('afterExecute',{'writer':_0x425168});});}),_0x55b13b['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',Ne(_0x55b13b,'split'),{'priority':'high'}),_0x55b13b['editing']['downcastDispatcher']['on']('removeMarker:suggestion:insertion',(_0x278570,_0x52832a,_0x13c1a7)=>{const _0x3cf095=_0x13c1a7['mapper']['markerNameToElements'](_0x52832a['markerName']);if(_0x3cf095){for(const _0x238b8b of _0x3cf095)_0x238b8b['hasClass']('ck-suggestion-marker-split')&&(_0x13c1a7['mapper']['unbindElementFromMarkerName'](_0x238b8b,_0x52832a['markerName']),_0x13c1a7['writer']['remove'](_0x238b8b));}},{'priority':'high'}),_0x55b13b['data']['downcastDispatcher']['on']('addMarker:suggestion:insertion',(_0xe02939,_0x36b76f,_0x541e9a)=>{_0x541e9a['options']['showSuggestionHighlights']&&Ne(_0x55b13b,'split',{'showActiveMarker':!0x1})['bind'](this)(_0xe02939,_0x36b76f,_0x541e9a);},{'priority':'high'});}}class Y extends _0x776735{['afterInit'](){if(!this['editor']['plugins']['has']('FindAndReplaceEditing'))return;const _0x30a7bd=this['editor']['plugins']['get']('TrackChangesEditing');_0x30a7bd['enableCommand']('find',this['handleFindCommand']['bind'](this)),_0x30a7bd['enableCommand']('findNext'),_0x30a7bd['enableCommand']('findPrevious'),_0x30a7bd['enableCommand']('replace'),_0x30a7bd['enableCommand']('replaceAll');}['handleFindCommand'](_0x45cc0e,_0x35fde7,_0x5080e5={}){const _0x179f25=this['editor']['plugins']['get']('FindAndReplaceUtils');return _0x45cc0e(_0x5a405c=>{let _0x587909=('string'==typeof _0x35fde7?_0x179f25['findByTextCallback'](_0x35fde7,_0x5080e5):_0x35fde7)(_0x5a405c);Array['isArray'](_0x587909)&&(_0x587909={'results':_0x587909,'searchText':'string'==typeof _0x35fde7?_0x35fde7:''});const _0x307ae4=_0x587909['results']['filter'](_0x4718f7=>!0x1===this['_isInDeletionRange'](_0x4718f7,_0x5a405c['item']));return{..._0x587909,'results':_0x307ae4};},_0x5080e5);}['_isInDeletionRange'](_0x2e784b,_0x13efd7){const _0x227f8e=this['editor']['model']['createRange'](this['editor']['model']['createPositionAt'](_0x13efd7,_0x2e784b['start']),this['editor']['model']['createPositionAt'](_0x13efd7,_0x2e784b['end']));for(const _0x47fb17 of this['editor']['model']['markers']['getMarkersGroup']('suggestion:deletion'))if(null!==_0x227f8e['getIntersection'](_0x47fb17['getRange']()))return!0x0;return!0x1;}}const ro=[{'pluginName':'FontSizeEditing','commandName':'fontSize'},{'pluginName':'FontFamilyEditing','commandName':'fontFamily'},{'pluginName':'FontColorEditing','commandName':'fontColor'},{'pluginName':'FontBackgroundColorEditing','commandName':'fontBackgroundColor'}];class Z extends _0x776735{['afterInit'](){const _0x15420f=this['editor']['locale'],_0x3a12d5=this['editor']['plugins']['get']('TrackChangesEditing');for(const {pluginName:_0x107822,commandName:_0x4c4089}of ro)this['editor']['plugins']['has'](_0x107822)&&(_0x3a12d5['enableDefaultAttributesIntegration'](_0x4c4089),_0x3a12d5['registerInlineAttribute'](_0x4c4089));_0x3a12d5['descriptionFactory']['registerAttributeLabel']('fontSize',o(_0x15420f,'FORMAT_FONT_SIZE')),_0x3a12d5['descriptionFactory']['registerAttributeLabel']('fontFamily',o(_0x15420f,'FORMAT_FONT_FAMILY')),_0x3a12d5['descriptionFactory']['registerAttributeLabel']('fontColor',o(_0x15420f,'FORMAT_FONT_COLOR')),_0x3a12d5['descriptionFactory']['registerAttributeLabel']('fontBackgroundColor',o(_0x15420f,'FORMAT_FONT_BACKGROUND')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x5a406f=this['editor'],_0x488722=_0x5a406f['locale'];_0x5a406f['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0xac65d0=>{const _0x64842=_0x488722['t'];if('formatInline'!=_0xac65d0['type'])return;const {data:_0x257a63}=_0xac65d0;if(null!=_0x257a63){if('fontSize'==_0x257a63['commandName']){const _0xe38585=_0x257a63['commandParams'][0x0]['value'];if(_0xe38585){const _0x102fb4=_0x64842(this['editor']['plugins']['get']('FontSize')['normalizeSizeOptions'](this['editor']['config']['get']('fontSize.options'))['find'](_0x23f95d=>_0x23f95d['model']==_0xe38585)['title'])['toLowerCase']();return{'type':'format','content':o(_0x488722,'*Set\x20font\x20size:*\x20%0',_0x102fb4)};}return{'type':'format','content':o(_0x488722,'*Reset\x20font\x20size*')};}if('fontFamily'==_0x257a63['commandName']){const _0x54fe4c=_0x257a63['commandParams'][0x0]['value'];return _0x54fe4c?{'type':'format','content':o(_0x488722,'*Set\x20font\x20family:*\x20%0',_0x54fe4c)}:{'type':'format','content':o(_0x488722,'*Reset\x20font\x20family*')};}if('fontColor'==_0x257a63['commandName']){const _0x19ea0f=_0x257a63['commandParams'][0x0]['value'];if(_0x19ea0f){const _0x51dd0b=_0x3362c3(this['editor']['config']['get']('fontColor.colors'))['find'](_0x1cf0c1=>_0x1cf0c1['model']==_0x19ea0f);let _0x4cfb37=_0x19ea0f,_0xa2f6ae='';return _0x51dd0b&&(_0x4cfb37=_0x51dd0b['label'],_0xa2f6ae=_0x64842(_0x4cfb37)['toLowerCase']()),{'type':'format','content':o(_0x488722,'*Set\x20font\x20color:*\x20%0',_0xa2f6ae)['trim'](),'color':{'value':_0x19ea0f,'title':_0xa2f6ae||_0x4cfb37}};}return{'type':'format','content':o(_0x488722,'*Reset\x20font\x20color*')};}if('fontBackgroundColor'==_0x257a63['commandName']){const _0x583921=_0x257a63['commandParams'][0x0]['value'];if(_0x583921){const _0x50ead7=_0x3362c3(this['editor']['config']['get']('fontBackgroundColor.colors'))['find'](_0xdf9c20=>_0xdf9c20['model']==_0x583921);let _0x11518e=_0x583921,_0x499eed='';return _0x50ead7&&(_0x11518e=_0x50ead7['label'],_0x499eed=_0x64842(_0x11518e)['toLowerCase']()),{'type':'format','content':o(_0x488722,'*Set\x20font\x20background\x20color:*\x20%0',_0x499eed)['trim'](),'color':{'value':_0x583921,'title':_0x499eed||_0x11518e}};}return{'type':'format','content':o(_0x488722,'*Reset\x20font\x20background\x20color*')};}}});}}class tt extends _0x776735{['afterInit'](){const _0xff0e76=this['editor'],_0x498ca5=_0xff0e76['plugins']['get']('TrackChangesEditing'),_0x39ddaa=_0xff0e76['commands']['get']('copyFormat'),_0x3ab6dd=_0xff0e76['commands']['get']('pasteFormat');_0x39ddaa&&_0x3ab6dd&&(_0x498ca5['enableDefaultAttributesIntegration']('pasteFormat'),_0x498ca5['enableCommand']('copyFormat'),this['_registerLegacyDescription']());}['_registerLegacyDescription'](){const _0x3e3c58=this['editor'],_0x2e8552=_0x3e3c58['locale'];_0x3e3c58['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x39ef0d=>{if('formatBlock'!=_0x39ef0d['type']&&'formatInline'!=_0x39ef0d['type'])return;const {data:_0x523268}=_0x39ef0d;if(_0x523268&&'pasteFormat'===_0x523268['commandName']){const _0x168ab6=[],_0x2e0a41=_0x523268['commandParams'][0x0];for(const [_0x232dc5,_0x5bb3ce]of Object['entries'](_0x2e0a41))_0x168ab6['push'](so(_0x3e3c58,_0x232dc5,_0x5bb3ce));return _0x168ab6['length']?{'type':'format','content':o(_0x2e8552,'*Set\x20format\x20to:*\x20%0',_0x168ab6['join'](',\x20'))}:{'type':'format','content':o(_0x2e8552,'*Remove\x20all\x20formatting*')};}});}}function so(_0x5d66bf,_0x2519a7,_0x420dfd){const _0x3df934=_0x5d66bf['locale']['t'],_0x3325d0=_0x2519a7['split'](/(?=[A-Z])/)['join']('\x20'),_0x294d74=_0x3df934(_0x3325d0['charAt'](0x0)['toUpperCase']()+_0x3325d0['slice'](0x1))['toLowerCase']();if('boolean'==typeof _0x420dfd)return _0x294d74;if('fontColor'===_0x2519a7||'fontBackgroundColor'===_0x2519a7){const _0xe0c7e3=_0x3362c3(_0x5d66bf['config']['get']('fontColor.colors'))['find'](_0x2f0a8e=>_0x2f0a8e['model']==_0x420dfd);return _0x294d74+'\x20('+(_0xe0c7e3?_0x3df934(_0xe0c7e3['label'])['toLowerCase']():_0x420dfd)+')';}if('fontSize'===_0x2519a7&&isNaN(parseFloat(_0x420dfd))){const _0x205039=_0x5d66bf['plugins']['get']('FontSize')['normalizeSizeOptions'](_0x5d66bf['config']['get']('fontSize.options'))['find'](_0x49c4b7=>_0x49c4b7['model']==_0x420dfd);return _0x294d74+'\x20('+(_0x205039?_0x3df934(_0x205039['title'])['toLowerCase']():_0x420dfd)+')';}return _0x294d74+'\x20('+_0x420dfd+')';}class nt extends _0x776735{['_headingOptions'];['afterInit'](){const _0x57326e=this['editor'];if(!_0x57326e['plugins']['has']('HeadingEditing'))return;this['_headingOptions']=_0x57326e['config']['get']('heading.options');const _0x13d70f=_0x57326e['locale'],_0x55a6dc=_0x57326e['plugins']['get']('TrackChangesEditing');_0x55a6dc['enableDefaultAttributesIntegration']('heading');for(const _0x51e291 of this['_headingOptions'])'paragraph'!=_0x51e291['model']&&_0x55a6dc['descriptionFactory']['registerElementLabel'](_0x51e291['model'],_0x8367eb=>{const _0x4347b2=this['_getHeadingLevel'](_0x51e291['model']);return null!==_0x4347b2?_0x2fc5e0(_0x8367eb,_0x4347b2):_0x53035a(_0x8367eb,_0x51e291['title']);});function _0x2fc5e0(_0x4c4fb9,_0x32ec63){return o(_0x13d70f,'ELEMENT_HEADING',[_0x4c4fb9,_0x32ec63]);}function _0x53035a(_0x39a723,_0x20b3c2){return o(_0x13d70f,'ELEMENT_HEADING_CUSTOM',[_0x39a723,_0x20b3c2]);}this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x51d076=this['editor'],_0x4c3794=_0x51d076['locale'];function _0x2921c2(_0x191472,_0x4cdcc7){return o(_0x4c3794,'ELEMENT_HEADING_CUSTOM',[_0x191472,_0x4cdcc7]);}_0x51d076['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x23cfec=>{if('formatBlock'!=_0x23cfec['type'])return;const {data:_0x460593}=_0x23cfec;if(_0x460593&&'heading'==_0x460593['commandName']){const _0x39cb8e=_0x460593['commandParams'][0x0]['value'],_0x4e86db=this['_getHeadingLevel'](_0x39cb8e);if(null!==_0x4e86db)return{'type':'format','content':o(_0x4c3794,'*Change\x20to:*\x20%0',(_0x318b3d=0x1,_0x18038d=_0x4e86db,o(_0x4c3794,'ELEMENT_HEADING',[_0x318b3d,_0x18038d])))};const _0x335bb3=this['_headingOptions']['find'](_0x1a2a4d=>_0x1a2a4d['model']===_0x39cb8e)['title'];return{'type':'format','content':o(_0x4c3794,'*Change\x20to:*\x20%0',_0x2921c2(0x1,_0x335bb3))};}var _0x318b3d,_0x18038d;});}['_getHeadingLevel'](_0x1f8c1d){const _0x421f21=_0x1f8c1d['match'](/^heading(\d+)/);if(_0x421f21)return _0x421f21[0x1];const _0x1e0531=this['_headingOptions']?.['find'](_0x2e9d64=>_0x2e9d64['model']==_0x1f8c1d);if(_0x1e0531&&_0x1e0531['view']){const _0x244fc9=_0x1e0531['view'],_0x3ae9fb=(_0x244fc9['name']??_0x244fc9)['match'](/^h(\d+)/);if(_0x3ae9fb)return _0x3ae9fb[0x1];}return null;}}class it extends _0x776735{['afterInit'](){const _0x1e8bfd=this['editor'];if(!_0x1e8bfd['plugins']['has']('HighlightEditing'))return;const _0x1d86d1=_0x1e8bfd['plugins']['get']('TrackChangesEditing'),_0x1e9677=_0x1e8bfd['locale'];_0x1d86d1['enableDefaultAttributesIntegration']('highlight'),_0x1d86d1['registerInlineAttribute']('highlight'),_0x1d86d1['descriptionFactory']['registerAttributeLabel']('highlight',o(_0x1e9677,'FORMAT_HIGHLIGHT')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x5c3f8e=this['editor'],_0xb68fe8=_0x5c3f8e['locale'];_0x5c3f8e['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0xa5dfca=>{if('formatInline'!=_0xa5dfca['type'])return;const {data:_0x304d62}=_0xa5dfca;if(_0x304d62&&'highlight'==_0x304d62['commandName']){const _0x538b93=_0xb68fe8['t'],_0x1564c4=_0x304d62['commandParams'][0x0]['value'];if(_0x1564c4){const _0xa40930=_0x5c3f8e['config']['get']('highlight.options')['find'](_0x7dc159=>_0x7dc159['model']==_0x1564c4),_0xb26596=_0x538b93(_0xa40930['title'])['toLowerCase']();return{'type':'format','content':o(_0xb68fe8,'*Set\x20highlight:*\x20%0',_0xb26596),'color':{'value':_0xa40930['color'],'title':_0xa40930['title']}};}return{'type':'format','content':o(_0xb68fe8,'*Remove\x20highlight*',o(_0xb68fe8,'FORMAT_HIGHLIGHT'))};}});}}class et extends _0x776735{['afterInit'](){const _0x89bd4b=this['editor'];if(!_0x89bd4b['plugins']['has']('HorizontalLineEditing'))return;_0x89bd4b['plugins']['get']('TrackChangesEditing')['enableCommand']('horizontalLine');const _0x5a155c=_0x89bd4b['plugins']['get']('TrackChangesEditing'),_0x3344cc=_0x89bd4b['locale'];_0x5a155c['descriptionFactory']['registerElementLabel']('horizontalLine',_0x258ad8=>o(_0x3344cc,'ELEMENT_HORIZONTAL_LINE',_0x258ad8)),_0x89bd4b['conversion']['for']('dataDowncast')['elementToStructure']({'model':'horizontalLine','view':(_0x18c553,{writer:_0x1360fa,options:_0x1350c8})=>{if(!_0x1350c8['showSuggestionHighlights'])return null;const _0x17c5ce=_0x1360fa['createContainerElement']('div'),_0x3b5242=_0x1360fa['createEmptyElement']('hr');return _0x1360fa['addClass']('ck-horizontal-line',_0x17c5ce),_0x1360fa['insert'](_0x1360fa['createPositionAt'](_0x17c5ce,0x0),_0x3b5242),_0x17c5ce;},'converterPriority':'high'});}}class st extends _0x776735{['afterInit'](){const _0x5d38f9=this['editor'];if(!_0x5d38f9['plugins']['has']('HtmlEmbed'))return;const _0x3ad133=_0x5d38f9['plugins']['get']('TrackChangesEditing'),_0x2af11c=_0x5d38f9['locale'];_0x3ad133['descriptionFactory']['registerElementLabel']('rawHtml',_0x10dcf3=>o(_0x2af11c,'ELEMENT_HTML_EMBED',_0x10dcf3)),_0x3ad133['enableDefaultAttributesIntegration']('htmlEmbed'),_0x3ad133['registerBlockAttribute']('value'),_0x3ad133['descriptionFactory']['registerDescriptionCallback'](_0x583779=>{if('attribute'!=_0x583779['type'])return;const {data:_0x55b04a}=_0x583779;if(_0x55b04a&&'value'==_0x55b04a['key']&&_0x583779['getFirstRange']()['start']['nodeAfter']['is']('element','rawHtml')){const _0x3d6ef2=o(_0x2af11c,'ELEMENT_HTML_EMBED');return{'type':'format','content':o(_0x2af11c,'*Change\x20%0\x20content*',_0x3d6ef2)};}}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x116eb6=this['editor'],_0x564a63=_0x116eb6['locale'];_0x116eb6['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x473326=>{if('formatBlock'!=_0x473326['type'])return;const {data:_0x113c74}=_0x473326;if(_0x113c74&&'htmlEmbed'==_0x113c74['commandName']){const _0xcedb3f=o(_0x564a63,'ELEMENT_HTML_EMBED');return{'type':'format','content':o(_0x564a63,'*Change\x20%0\x20content*',_0xcedb3f)};}});}}class ot extends _0x776735{['afterInit'](){const _0x4fab42=this['editor'];if(!_0x4fab42['plugins']['has']('ImageEditing'))return;const _0x32649a=_0x4fab42['plugins']['get']('TrackChangesEditing'),_0xfcac73=_0x4fab42['plugins']['get']('ImageUtils'),_0x5cf5c0=_0x4fab42['locale'];_0x32649a['enableCommand']('insertImage'),_0x32649a['descriptionFactory']['registerElementLabel']('imageBlock',_0x174fea=>o(_0x5cf5c0,'ELEMENT_IMAGE',_0x174fea)),_0x32649a['descriptionFactory']['registerElementLabel']('imageInline',_0x2de9e8=>o(_0x5cf5c0,'ELEMENT_INLINE_IMAGE',_0x2de9e8)),_0x32649a['descriptionFactory']['registerElementLabel']('caption',()=>o(_0x5cf5c0,'ELEMENT_CAPTION')),_0x4fab42['plugins']['has']('ImageUploadEditing')&&_0x32649a['enableCommand']('uploadImage'),_0x4fab42['plugins']['has']('ImageBlockEditing')&&_0x4fab42['plugins']['has']('ImageInlineEditing')&&(_0x32649a['enableCommand']('imageTypeInline',(_0x441d5c,_0x4953d7)=>{const _0x619b03=_0xfcac73['getClosestSelectedImageElement'](_0x4fab42['model']['document']['selection']);_0x4fab42['model']['change'](()=>{_0x32649a['markBlockFormat'](_0x619b03,{'commandName':'imageTypeInline','commandParams':[_0x4953d7]},[],'convertBlockImageToInline');});}),_0x32649a['enableCommand']('imageTypeBlock',(_0x2572f8,_0x3dd082)=>{_0x4fab42['model']['change'](_0x49c941=>{let _0x2a4351=_0xfcac73['getClosestSelectedImageElement'](_0x4fab42['model']['document']['selection']),_0x50eaa3=_0x49c941['createRangeOn'](_0x2a4351);const _0x47b81d=_0x40f712['fromPosition'](_0x50eaa3['start'],'toPrevious'),_0x18ab40=_0x40f712['fromPosition'](_0x50eaa3['end'],'toNext');_0x32649a['forceDefaultExecution'](()=>_0x2572f8(_0x3dd082)),_0x2a4351=_0xfcac73['getClosestSelectedImageElement'](_0x4fab42['model']['document']['selection']),_0x50eaa3=_0x49c941['createRangeOn'](_0x2a4351);const _0x2f5733=_0x49c941['createRange'](_0x47b81d,_0x18ab40);_0x47b81d['detach'](),_0x18ab40['detach'](),_0x32649a['markBlockFormat'](_0x2a4351,{'commandName':'imageTypeInline','commandParams':[_0x3dd082]},[],'convertInlineImageToBlock'),_0x2f5733['start']['isBefore'](_0x50eaa3['start'])&&_0x32649a['markInsertion'](_0x49c941['createRange'](_0x2f5733['start'],_0x50eaa3['start']),'convertInlineImageToBlock'),_0x50eaa3['end']['isBefore'](_0x2f5733['end'])&&_0x32649a['markInsertion'](_0x49c941['createRange'](_0x50eaa3['end'],_0x2f5733['end']),'convertInlineImageToBlock');});}),_0x32649a['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','join',()=>!0x1),_0x32649a['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','accept',()=>!0x1),_0x32649a['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','discard',_0x32649a['_suggestionFactory']['getSuggestionCallback']('formatBlock','','accept')),_0x32649a['_suggestionFactory']['registerCustomCallback']('insertion','convertInlineImageToBlock','join',()=>!0x1),_0x32649a['_suggestionFactory']['registerCustomCallback']('insertion','convertInlineImageToBlock','discard',([_0x22c163])=>{const _0x4a064c=_0x32649a['_suggestionFactory']['getSuggestionCallback']('insertion','','discard');let _0x51212b=_0x22c163['start'],_0x2735d3=_0x22c163['end'];const _0x128b9b=_0x4fab42['model']['schema']['getNearestSelectionRange'](_0x51212b,'backward'),_0x336ac0=_0x4fab42['model']['schema']['getNearestSelectionRange'](_0x2735d3,'forward');_0x128b9b['isCollapsed']&&(_0x51212b=_0x128b9b['start']),_0x336ac0['isCollapsed']&&(_0x2735d3=_0x336ac0['end']),_0x4a064c([_0x4fab42['model']['createRange'](_0x51212b,_0x2735d3)]);}),_0x32649a['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','chain',_0x17a9a5),_0x32649a['_suggestionFactory']['registerCustomCallback']('insertion','convertInlineImageToBlock','chain',_0x17a9a5)),_0x4fab42['plugins']['has']('ImageCaptionEditing')&&(_0x32649a['enableCommand']('toggleImageCaption',(_0x165d6e,_0x38123)=>{const _0x5522f0=_0x4fab42['plugins']['get']('ImageCaptionUtils');let _0x3066d0=_0xfcac73['getClosestSelectedImageElement'](_0x4fab42['model']['document']['selection']),_0x244fff=_0x5522f0['getCaptionFromImageModelElement'](_0x3066d0);_0x4fab42['model']['change'](()=>{if(_0x244fff)return void _0x32649a['markDeletion'](_0x4fab42['model']['createRangeOn'](_0x244fff));const _0x12f268=_0xfcac73['isBlockImage'](_0x3066d0);_0x165d6e(_0x38123),_0x3066d0=_0xfcac73['getClosestSelectedImageElement'](_0x4fab42['model']['document']['selection']),_0x244fff=_0x5522f0['getCaptionFromImageModelElement'](_0x3066d0),_0x32649a['markInsertion'](_0x4fab42['model']['createRangeOn'](_0x244fff),_0x12f268?null:'imageCaption');});}),_0x32649a['_suggestionFactory']['registerCustomCallback']('insertion','imageCaption','chain',_0x17a9a5));const _0x10350c=[{'type':'formatBlock','subType':'imageStylePreApply'},{'type':'insertion','subType':'imageCaption'},{'type':'formatBlock','subType':'convertInlineImageToBlock'},{'type':'insertion','subType':'convertInlineImageToBlock'}];function _0x38d11b(_0x563268,_0x216667){const _0x29627b=_0x10350c['findIndex'](({type:_0x316250,subType:_0x5b008e})=>_0x563268['type']==_0x316250&&_0x563268['subType']==_0x5b008e),_0x402632=_0x10350c['findIndex'](({type:_0x13ba5e,subType:_0x4edac5})=>_0x216667['type']==_0x13ba5e&&_0x216667['subType']==_0x4edac5);if(_0x29627b<0x0||_0x402632<0x0)return!0x1;const _0x30f9e4=_0x563268['getFirstRange'](),_0x28d1f0=_0x216667['getFirstRange']();if((0x0==_0x29627b||0x1==_0x29627b)&&0x2==_0x402632&&_0x30f9e4['isIntersecting'](_0x28d1f0))return!0x0;if(0x2==_0x29627b&&0x3==_0x402632){const _0xd4f0d2=_0x32649a['_findSuggestions'](_0x30f9e4,'insertion')['filter'](({suggestion:_0x5578b5,meta:_0x563ed5})=>_0x563ed5['isOwn']&&'convertInlineImageToBlock'==_0x5578b5['subType']);if(_0xd4f0d2['length']>0x1&&_0x28d1f0['end']['isEqual'](_0x30f9e4['start']))return!0x0;if(0x1==_0xd4f0d2['length']&&(_0x30f9e4['start']['isEqual'](_0x28d1f0['end'])||_0x30f9e4['end']['isEqual'](_0x28d1f0['start'])))return!0x0;}if(0x3==_0x29627b&&0x3==_0x402632&&_0x30f9e4['start']['isBefore'](_0x28d1f0['start'])){const _0x3f6c51=_0x30f9e4['end']['nodeAfter'],_0xd7fb1d=_0x28d1f0['start']['nodeBefore'];return _0xfcac73['isBlockImage'](_0x3f6c51)&&_0x3f6c51===_0xd7fb1d;}return!0x1;}function _0x17a9a5(_0x5229e5,_0x2e2022){return _0x38d11b(_0x5229e5,_0x2e2022)?[_0x5229e5,_0x2e2022]:_0x38d11b(_0x2e2022,_0x5229e5)?[_0x2e2022,_0x5229e5]:null;}_0x4fab42['plugins']['has']('ImageResize')&&(_0x32649a['enableDefaultAttributesIntegration']('resizeImage'),_0x32649a['registerBlockAttribute']('resizedWidth'),_0x32649a['descriptionFactory']['registerAttributeLabel']('resizedWidth',o(_0x5cf5c0,'FORMAT_IMAGE_SIZE'))),_0x4fab42['plugins']['has']('ImageTextAlternativeEditing')&&(_0x32649a['enableDefaultAttributesIntegration']('imageTextAlternative'),_0x32649a['registerBlockAttribute']('alt')),_0x32649a['descriptionFactory']['registerDescriptionCallback'](_0xc46a37=>{if(!!_0x10350c['find'](({type:_0x5aa1c1,subType:_0x5b5b80})=>_0xc46a37['type']==_0x5aa1c1&&_0xc46a37['subType']==_0x5b5b80))return _0xc46a37['previous']?{}:void 0x0;}),_0x32649a['descriptionFactory']['registerDescriptionCallback'](_0x226e68=>{if('insertion'==_0x226e68['type']||'deletion'==_0x226e68['type']){const _0x112455=_0x226e68['getContainedElement']();if(_0x112455&&_0x112455['is']('element','caption'))return{'type':'insertion'==_0x226e68['type']?'addObject':'removeObject','element':_0x112455,'quantity':0x1};}}),_0x32649a['descriptionFactory']['registerDescriptionCallback'](_0x590b0a=>'formatBlock'==_0x590b0a['type']&&'convertInlineImageToBlock'==_0x590b0a['subType']?{'type':'format','content':'Inline\x20image\x20to\x20block\x20image'}:'formatBlock'==_0x590b0a['type']&&'convertBlockImageToInline'==_0x590b0a['subType']?{'type':'format','content':'Block\x20image\x20to\x20inline\x20image'}:void 0x0),_0x32649a['descriptionFactory']['registerDescriptionCallback'](_0x3b3e64=>{if('attribute'!=_0x3b3e64['type'])return;const {data:_0x3ab50c}=_0x3b3e64;if(!_0x3ab50c||'alt'!=_0x3ab50c['key'])return;const _0x4fb8af=_0x3ab50c['newValue'];return _0x4fb8af?{'type':'format','content':o(_0x5cf5c0,'*Set\x20image\x20text\x20alternative:*\x20%0','\x22'+_0x4fb8af+'\x22')}:{'type':'format','content':o(_0x5cf5c0,'*Remove\x20image\x20text\x20alternative*')};}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x102300=this['editor'],_0x586863=_0x102300['locale'];_0x102300['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x2fb744=>{if('formatBlock'!=_0x2fb744['type']&&'formatInline'!=_0x2fb744['type'])return;const {data:_0x3b4836}=_0x2fb744;if(_0x3b4836){if('imageTextAlternative'==_0x3b4836['commandName']){const _0x2a526a=_0x3b4836['commandParams'][0x0]['newValue'];return _0x2a526a?{'type':'format','content':o(_0x586863,'*Set\x20image\x20text\x20alternative:*\x20%0','\x22'+_0x2a526a+'\x22')}:{'type':'format','content':o(_0x586863,'*Remove\x20image\x20text\x20alternative*')};}if('resizeImage'==_0x3b4836['commandName']){const _0x17619e=_0x3b4836['commandParams'][0x0]['width'];return _0x17619e?{'type':'format','content':o(_0x586863,'*Set\x20image\x20width:*\x20%0',_0x17619e)}:{'type':'format','content':o(_0x586863,'*Reset\x20image\x20width*')};}}});}}class rt extends _0x776735{['afterInit'](){if(!this['editor']['plugins']['has']('ImageEditing'))return;const _0x47af9d=this['editor']['locale'],_0x3620da=this['editor']['plugins']['get']('TrackChangesEditing');_0x3620da['enableDefaultAttributesIntegration']('replaceImageSource'),_0x3620da['registerBlockAttribute']('src'),_0x3620da['descriptionFactory']['registerDescriptionCallback'](_0x4cbb2a=>{if('attribute'!=_0x4cbb2a['type'])return;const {data:_0x2851e7}=_0x4cbb2a;return _0x2851e7&&'src'==_0x2851e7['key']?_0x2851e7['newValue']&&_0x2851e7['oldValue']?{'type':'format','content':o(_0x47af9d,'*Replace\x20image\x20URL*')}:{'type':'format','content':''}:void 0x0;}),this['_handleLegacySuggestions']();}['_handleLegacySuggestions'](){const _0x3273d9=this['editor']['plugins']['get']('TrackChangesEditing');_0x3273d9['_suggestionFactory']['registerCustomCallback']('formatBlock','replaceImageSource','accept',_0x3273d9['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x3273d9['_suggestionFactory']['registerCustomCallback']('formatBlock','replaceImageSource','discard',_0x3273d9['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'accept')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x43a80a=this['editor'],_0x100fe5=_0x43a80a['locale'];_0x43a80a['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x2aea8b=>{if('formatBlock'!=_0x2aea8b['type']&&'formatInline'!=_0x2aea8b['type'])return;const {data:_0x3b9fda}=_0x2aea8b;if(!_0x3b9fda||'replaceImageSource'!=_0x3b9fda['commandName'])return;return{'type':'format','content':o(_0x100fe5,'*Format:*\x20replace\x20image\x20URL')};});}}class at extends _0x776735{['afterInit'](){const _0x584f5d=this['editor'];if(!_0x584f5d['plugins']['has']('ImageStyleEditing'))return;const _0x1e6a70=_0x584f5d['plugins']['get']('TrackChangesEditing'),_0x831adb=_0x584f5d['plugins']['get']('ImageUtils'),_0x5c38e9={};_0x1e6a70['enableCommand']('imageStyle',(_0x580c08,_0x2a0ea7)=>{const _0x1e104f=_0x584f5d['plugins']['get']('Users')['me'],_0x3e1aa8=_0x584f5d['commands']['get']('imageStyle');let _0x448277=_0x831adb['getClosestSelectedImageElement'](_0x584f5d['model']['document']['selection']),_0x5249da=_0x584f5d['model']['createRangeOn'](_0x448277),_0x18fe39=_0x3e1aa8['value'];if(_0x18fe39==_0x2a0ea7['value'])return;const _0x239275={'commandName':'imageStyle','commandParams':[_0x2a0ea7],'formatGroupId':_0x188e81()};_0x584f5d['model']['change'](()=>{if(_0x1e6a70['getSuggestions']()['filter'](_0x410770=>_0x410770['isInContent']&&_0x1e104f==_0x410770['author']&&('formatBlock'==_0x410770['type']||'formatInline'==_0x410770['type'])&&('imageStylePreApply'==_0x410770['subType']||'imageStylePostApply'==_0x410770['subType'])&&_0x410770['getFirstRange']()['isEqual'](_0x5249da))['forEach'](_0x55e16f=>_0x1e6a70['discardSuggestion'](_0x55e16f['head'])),_0x448277=_0x831adb['getClosestSelectedImageElement'](_0x584f5d['model']['document']['selection']),_0x5249da=_0x584f5d['model']['createRangeOn'](_0x448277),_0x3e1aa8['refresh'](),_0x584f5d['commands']['get']('imageTypeInline')['refresh'](),_0x584f5d['commands']['get']('imageTypeBlock')['refresh'](),_0x18fe39=_0x3e1aa8['value'],_0x18fe39!=_0x2a0ea7['value'])return _0x831adb['isInlineImage'](_0x448277)&&_0x3e1aa8['shouldConvertImageType'](_0x2a0ea7['value'],_0x448277)?(_0x580c08({..._0x2a0ea7,'setImageSizes':!0x1}),_0x448277=_0x831adb['getClosestSelectedImageElement'](_0x584f5d['model']['document']['selection']),void _0x1e6a70['markBlockFormat'](_0x448277,{..._0x239275,'commandReversedParams':[{'value':_0x18fe39||null,'setImageSizes':!0x1}]},[],'imageStylePreApply')):void(_0x831adb['isBlockImage'](_0x448277)?_0x1e6a70['markBlockFormat'](_0x448277,_0x239275,[],'imageStylePostApply'):_0x1e6a70['markInlineFormat'](_0x5249da,_0x239275,'imageStylePostApply'));});});for(const _0x5ec7ce of _0x584f5d['plugins']['get']('ImageStyleEditing')['normalizedStyles'])_0x5c38e9[_0x5ec7ce['name']]=_0x5ec7ce['title']['toLowerCase']();_0x1e6a70['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','join',()=>!0x1),_0x1e6a70['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePostApply','join',()=>!0x1),_0x1e6a70['_suggestionFactory']['registerCustomCallback']('formatInline','imageStylePostApply','join',()=>!0x1),_0x1e6a70['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','accept',([_0x51826b])=>{_0x831adb['setImageNaturalSizeAttributes'](_0x51826b['getContainedElement']());}),_0x1e6a70['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','discard',(_0x13a7ea,_0x3debba)=>{_0x1e6a70['_suggestionFactory']['getSuggestionCallback']('formatBlock','','accept')(_0x13a7ea,{'commandName':_0x3debba['commandName'],'commandParams':_0x3debba['commandReversedParams']});}),_0x1e6a70['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','chain',function(_0x163068,_0x75166a){if(_0x6e3cba(_0x163068,_0x75166a))return[_0x163068,_0x75166a];if(_0x6e3cba(_0x75166a,_0x163068))return[_0x75166a,_0x163068];return null;});const _0xd2a3e=[{'type':'formatBlock','subType':'imageStylePreApply'},{'type':'insertion','subType':'imageCaption'},{'type':'formatBlock','subType':'convertInlineImageToBlock'},{'type':'insertion','subType':'convertInlineImageToBlock'}];function _0x6e3cba(_0x4a02ce,_0x30bc0a){const _0x5d9c9f=_0xd2a3e['findIndex'](({type:_0x1e9173,subType:_0x38a374})=>_0x4a02ce['type']==_0x1e9173&&_0x4a02ce['subType']==_0x38a374),_0x2c021b=_0xd2a3e['findIndex'](({type:_0x2cee4f,subType:_0x4017a8})=>_0x30bc0a['type']==_0x2cee4f&&_0x30bc0a['subType']==_0x4017a8);if(_0x5d9c9f<0x0||_0x2c021b<0x0)return!0x1;const _0x46ec3d=_0x4a02ce['getFirstRange'](),_0x2fc2e8=_0x30bc0a['getFirstRange']();if((0x0==_0x5d9c9f||0x1==_0x5d9c9f)&&0x2==_0x2c021b&&_0x46ec3d['isIntersecting'](_0x2fc2e8))return!0x0;if(0x2==_0x5d9c9f&&0x3==_0x2c021b){const _0x6bb288=_0x1e6a70['_findSuggestions'](_0x46ec3d,'insertion')['filter'](({suggestion:_0x10204f,meta:_0x426b43})=>_0x426b43['isOwn']&&'convertInlineImageToBlock'==_0x10204f['subType']);if(_0x6bb288['length']>0x1&&_0x2fc2e8['end']['isEqual'](_0x46ec3d['start']))return!0x0;if(0x1==_0x6bb288['length']&&(_0x46ec3d['start']['isEqual'](_0x2fc2e8['end'])||_0x46ec3d['end']['isEqual'](_0x2fc2e8['start'])))return!0x0;}if(0x3==_0x5d9c9f&&0x3==_0x2c021b&&_0x46ec3d['start']['isBefore'](_0x2fc2e8['start'])){const _0x56a575=_0x46ec3d['end']['nodeAfter'],_0x32a766=_0x2fc2e8['start']['nodeBefore'];return _0x831adb['isBlockImage'](_0x56a575)&&_0x56a575===_0x32a766;}return!0x1;}_0x584f5d['model']['document']['registerPostFixer'](()=>{let _0x485f34=!0x1;const _0x2ecd97=Array['from'](_0x584f5d['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x3da61a,data:_0x15bda6}of _0x2ecd97){const {group:_0x14e794,type:_0x35513c,subType:_0x53d3fc,id:_0x31875f}=_0x1e6a70['_splitMarkerName'](_0x3da61a);if('suggestion'==_0x14e794&&_0x1e6a70['hasSuggestion'](_0x31875f)){if('formatBlock'==_0x35513c&&('imageStylePreApply'==_0x53d3fc||'imageStylePostApply'==_0x53d3fc)){const _0x4360d2=_0x1e6a70['getSuggestion'](_0x31875f);if(_0x15bda6['newRange']){const _0x2b269b=_0x4360d2['getFirstRange']()['getContainedElement']();if(_0x831adb['isBlockImage'](_0x2b269b))continue;_0x1e6a70['discardSuggestion'](_0x4360d2),_0x485f34=!0x0;}}if('insertion'==_0x35513c&&'imageCaption'==_0x53d3fc&&!_0x15bda6['newRange']){const _0x278b2a=_0x1e6a70['getSuggestion'](_0x31875f);_0x278b2a['next']&&_0x278b2a['next']['isInContent']&&(_0x1e6a70['discardSuggestion'](_0x278b2a['next']),_0x485f34=!0x0);}}}return _0x485f34;}),this['_registerLegacyDescription'](_0x5c38e9);}['_registerLegacyDescription'](_0x33c96a){const _0x5bffb8=this['editor'],_0x55f100=_0x5bffb8['locale'];_0x5bffb8['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x457ad3=>{if('formatBlock'!=_0x457ad3['type']&&'formatInline'!=_0x457ad3['type'])return;const {data:_0x177820}=_0x457ad3;if(!_0x177820||'imageStyle'!=_0x177820['commandName'])return;const _0x4472a1=_0x177820['commandParams'][0x0]['value'];return _0x56b97c('side'===_0x4472a1?o(_0x55f100,'FORMAT_SIDE_IMAGE'):_0x33c96a[_0x4472a1]||_0x4472a1);function _0x56b97c(_0x354451){return{'type':'format','content':o(_0x55f100,'*Format:*\x20%0',_0x354451)};}});}}class ct extends _0x776735{['_trackChangesValueDuringImport'];['_trackChangesExecuted'];constructor(_0x1cec3c){super(_0x1cec3c),this['_trackChangesValueDuringImport']=!0x1,this['_trackChangesExecuted']=!0x1;}['afterInit'](){const _0x4c79c5=this['editor'],_0x217d05=_0x4c79c5['commands']['get']('importWord'),_0x2215a8=_0x4c79c5['commands']['get']('trackChanges');_0x217d05&&(_0x217d05['on']('execute',(_0x4d87ac,[,_0x572c74])=>{this['_trackChangesValueDuringImport']=_0x2215a8['value'],_0x572c74['collaboration_features']['track_changes']=!this['_trackChangesValueDuringImport'];},{'priority':'high'}),this['listenTo'](_0x217d05,'dataInsert',this['_handleImportedData']['bind'](this)),this['listenTo'](_0x217d05,'dataInsert',()=>{this['_trackChangesExecuted']&&(_0x2215a8['execute'](),this['_trackChangesExecuted']=!0x1);},{'priority':'lowest'}),_0x4c79c5['plugins']['get']('TrackChangesEditing')['enableCommand']('importWord'));}['_handleImportedData'](_0x7b0c9,_0x5885a3){const {suggestions:_0x33447b}=_0x5885a3,_0x48b35f=this['editor']['commands']['get']('trackChanges'),_0x1976b0=_0x48b35f['value'];this['_trackChangesValueDuringImport']!==_0x1976b0&&(_0x48b35f['execute'](),this['_trackChangesExecuted']=!0x0),_0x33447b&&_0x33447b['forEach'](({id:_0x473f0b,type:_0x19e11c,author:_0x4de4ce,created_at:_0x1099b6})=>{const _0x130bc4={'id':_0x473f0b,'type':_0x19e11c,'authorId':this['editor']['plugins']['get']('Users')['me']['id'],'createdAt':new Date(),'data':null,'hasComments':!0x1,'attributes':{'@external':{'authorName':_0x4de4ce,'createdAt':_0x1099b6?new Date(_0x1099b6):new Date(),'source':'importWord'}}};this['editor']['plugins']['get']('TrackChangesEditing')['_setSuggestionData'](_0x130bc4);});}}class ut extends _0x776735{['afterInit'](){const _0x3a1116=this['editor'],_0x3d557c=_0x3a1116['plugins']['get']('TrackChangesEditing');if(_0x3a1116['plugins']['has']('IndentEditing')&&(_0x3d557c['enableCommand']('indent'),_0x3d557c['enableCommand']('outdent')),_0x3a1116['plugins']['has']('IndentBlock')){for(const _0x40f29f of['indentBlock','outdentBlock'])_0x3d557c['enableDefaultAttributesIntegration'](_0x40f29f);}const _0x2ce2e3=_0x3a1116['locale'];_0x3d557c['registerBlockAttribute']('blockIndent'),_0x3d557c['descriptionFactory']['registerAttributeLabel']('blockIndent',o(_0x2ce2e3,'FORMAT_INDENT')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x1383cf=this['editor'],_0xd16d35=_0x1383cf['locale'],_0x35e857=_0x1383cf['plugins']['get']('TrackChangesEditing');_0x35e857['descriptionFactory']['registerDescriptionCallback'](_0x37231e=>{if('formatBlock'!=_0x37231e['type'])return;const {data:_0x1eb446}=_0x37231e;if(!_0x1eb446)return;if('indentBlock'!=_0x1eb446['commandName']&&'outdentBlock'!=_0x1eb446['commandName'])return;const _0x3b477b=_0x37231e['getItems']()[0x0],_0x58eece=_0x35e857['descriptionFactory']['getItemLabel'](_0x3b477b);return'indentBlock'==_0x1eb446['commandName']?{'type':'format','content':o(_0xd16d35,'*Indent:*\x20%0',_0x58eece)}:'outdentBlock'==_0x1eb446['commandName']?{'type':'format','content':o(_0xd16d35,'*Outdent:*\x20%0',_0x58eece)}:void 0x0;});}}class ft extends _0x776735{static get['requires'](){return[tr];}['init'](){this['editor']['plugins']['get']('TrackChangesEditing')['enableCommand']('input');}}class ht extends _0x776735{['afterInit'](){const _0x24a0c4=this['editor'];if(!_0x24a0c4['plugins']['has']('LinkEditing'))return;const _0x6be690=_0x24a0c4['plugins']['get']('TrackChangesEditing'),_0x21087f=_0x24a0c4['commands']['get']('link');_0x6be690['enableDefaultAttributesIntegration']('link'),_0x6be690['enableDefaultAttributesIntegration']('unlink'),_0x6be690['registerInlineAttribute']('linkHref');for(const _0x2a1ac3 of _0x21087f['manualDecorators'])_0x6be690['registerInlineAttribute'](_0x2a1ac3['id']),_0x6be690['descriptionFactory']['registerAttributeLabel'](_0x2a1ac3['id'],'link\x20('+_0x2a1ac3['label']['toLowerCase']()+')');_0x6be690['descriptionFactory']['registerDescriptionCallback'](_0xce1969=>{if('attribute'!=_0xce1969['type'])return;const {data:_0x58d36d}=_0xce1969;if(!_0x58d36d||'linkHref'!=_0x58d36d['key'])return;const _0x29e2ed=_0x58d36d['newValue'],_0x45c996=_0x24a0c4['locale'];return{'type':'format','content':null==_0x29e2ed?o(_0x45c996,'*Remove\x20link*'):o(_0x45c996,'*Set\x20link:*\x20%0','\x22'+_0x29e2ed+'\x22')};}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x266a4a=this['editor'],_0x5d6a57=_0x266a4a['locale'];_0x266a4a['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x3e2a99=>{if('formatInline'!=_0x3e2a99['type'])return;const {data:_0x5bd540}=_0x3e2a99;if(_0x5bd540){if('link'==_0x5bd540['commandName']){const _0x159ba4=_0x5bd540['commandParams'][0x0];return{'type':'format','content':o(_0x5d6a57,'*Set\x20link:*\x20%0','\x22'+_0x159ba4+'\x22')};}return'unlink'==_0x5bd540['commandName']?{'type':'format','content':o(_0x5d6a57,'*Remove\x20link*')}:void 0x0;}});}}class lt extends _0x776735{['afterInit'](){const _0x57003c=this['editor'],_0x24214a=_0x57003c['locale'];if(!_0x57003c['plugins']['has']('LegacyListEditing'))return;const _0x29f19d=_0x57003c['plugins']['get']('TrackChangesEditing'),_0x53be47=_0x57003c['plugins']['has']('LegacyTodoListEditing');function _0x26c587(_0x939400){return()=>{const _0x509450=_0x57003c['model']['document']['selection'],_0x3ca1d1=_0x57003c['commands']['get'](_0x939400);if(_0x3ca1d1['value'])return void _0x57003c['execute']('paragraph',{});const _0x1d2745=_0x939400['slice'](0x0,-0x4),_0x32349c=function(_0x197442,_0x5b8f4b,_0x24fa02){let _0x1e6e0a=Array['from'](_0x197442)['filter'](_0x297e5d=>function(_0xa45002,_0x19d245){return _0x19d245['checkChild'](_0xa45002['parent'],'listItem')&&!_0x19d245['isObject'](_0xa45002);}(_0x297e5d,_0x24fa02));_0x1e6e0a=_0x1e6e0a['filter'](_0x95cf0f=>!_0x95cf0f['is']('element','listItem')||_0x95cf0f['getAttribute']('listType')!=_0x5b8f4b);const _0x2d3292=new Set();for(const _0xe180c9 of _0x1e6e0a)_0xe180c9['is']('element','listItem')?_0x2d3292['add'](Le(_0xe180c9)):_0x2d3292['add'](_0xe180c9);return Array['from'](_0x2d3292);}(_0x509450['getSelectedBlocks'](),_0x1d2745,_0x57003c['model']['schema']);_0x57003c['model']['change'](()=>{for(const _0x3a2e16 of _0x32349c)_0x29f19d['markBlockFormat'](_0x3a2e16,{'commandName':_0x939400,'commandParams':[{'forceValue':!_0x3ca1d1['value']}],'formatGroupId':'blockName'},Ee(_0x3a2e16));});};}function _0x2ac1af(_0x5af0e3){return()=>{const _0x162e86=function(_0x1db7ce){let _0x1bc1a4=Array['from'](_0x1db7ce);const _0x51e9aa=_0x1bc1a4['findIndex'](_0x34e206=>'listItem'!=_0x34e206['name']);return _0x51e9aa>-0x1&&(_0x1bc1a4=_0x1bc1a4['slice'](0x0,_0x51e9aa)),_0x1bc1a4;}(_0x57003c['model']['document']['selection']['getSelectedBlocks']()),_0x31b676=_0x57003c['model']['createRange'](_0x57003c['model']['createPositionAt'](_0x162e86[0x0],'before'),_0x57003c['model']['createPositionAt'](_0x162e86[_0x162e86['length']-0x1],'end'));_0x57003c['model']['change'](()=>{_0x29f19d['markBlockFormat'](_0x31b676,{'commandName':_0x5af0e3,'commandParams':[],'formatGroupId':'listIndent'},function(_0x3fba7b){const _0x368d35=new Set();for(const _0x43b086 of _0x3fba7b){let _0x52e015=_0x43b086['nextSibling'];for(;_0x52e015&&_0x52e015['getAttribute']('listIndent')>_0x43b086['getAttribute']('listIndent');)_0x368d35['add'](_0x52e015),_0x52e015=_0x52e015['nextSibling'];}return Array['from'](_0x368d35);}(_0x162e86));});};}_0x29f19d['enableCommand']('numberedList',_0x26c587('numberedList')),_0x29f19d['enableCommand']('bulletedList',_0x26c587('bulletedList')),_0x53be47&&_0x29f19d['enableCommand']('todoList',_0x26c587('todoList')),_0x29f19d['enableCommand']('indentList',_0x2ac1af('indentList')),_0x29f19d['enableCommand']('outdentList',_0x2ac1af('outdentList')),_0x53be47&&_0x29f19d['enableCommand']('checkTodoList',()=>{const _0x1e5630=_0x57003c['commands']['get']('checkTodoList'),_0x311abc=Array['from'](_0x1e5630['_selectedElements']);_0x311abc['filter'](_0x4dd925=>_0x4dd925['getAttribute']('todoListChecked')!=_0x1e5630['value']),_0x57003c['model']['change'](()=>{for(const _0x50b2d9 of _0x311abc)_0x29f19d['markBlockFormat'](_0x50b2d9,{'commandName':'checkTodoList','commandParams':[{'forceValue':!_0x1e5630['value']}]});});}),_0x29f19d['descriptionFactory']['registerElementLabel']('listItem',_0x23eb65=>o(_0x24214a,'ELEMENT_LIST_ITEM',_0x23eb65)),_0x29f19d['descriptionFactory']['registerDescriptionCallback'](_0x499cf1=>{if('formatBlock'!=_0x499cf1['type']&&'formatInline'!=_0x499cf1['type'])return;const {data:_0x4974e1}=_0x499cf1;if(_0x4974e1){if('numberedList'==_0x4974e1['commandName']||'bulletedList'==_0x4974e1['commandName']||'todoList'==_0x4974e1['commandName'])switch(_0x4974e1['commandName']['replace']('List','')){case'bulleted':return _0xaa9b13(o(_0x24214a,'ELEMENT_BULLETED_LIST'));case'numbered':return _0xaa9b13(o(_0x24214a,'ELEMENT_NUMBERED_LIST'));case'todo':return _0xaa9b13(o(_0x24214a,'ELEMENT_TODO_LIST'));}if('indentList'==_0x4974e1['commandName'])return{'type':'format','content':o(_0x24214a,'*Indent:*\x20%0',o(_0x24214a,'ELEMENT_LIST_ITEM'))};if('outdentList'==_0x4974e1['commandName'])return{'type':'format','content':o(_0x24214a,'*Outdent:*\x20%0',o(_0x24214a,'ELEMENT_LIST_ITEM'))};if('checkTodoList'==_0x4974e1['commandName'])return _0x4974e1['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x24214a,'*Check\x20item*')}:{'type':'format','content':o(_0x24214a,'*Uncheck\x20item*')};}function _0xaa9b13(_0x51cc03){return{'type':'format','content':o(_0x24214a,'*Change\x20to:*\x20%0',_0x51cc03)};}});}}function Le(_0x429539){const _0x3c5c31=_0x429539['getAttribute']('listIndent');if(0x0==_0x3c5c31)return _0x429539;let _0x313287=_0x429539;for(;_0x429539['previousSibling']&&_0x429539['previousSibling']['is']('element','listItem');){const _0x534b3a=_0x429539['previousSibling']['getAttribute']('listIndent');if(_0x534b3a==_0x3c5c31)_0x313287=_0x429539['previousSibling'];else{if(_0x534b3a<_0x3c5c31)break;}_0x429539=_0x429539['previousSibling'];}return _0x313287;}function Ee(_0x668fed){const _0x15690b=[];if(_0x668fed['is']('element','listItem')&&_0x668fed['getAttribute']('listIndent')>0x0){let _0x488744=_0x668fed['nextSibling'];for(;_0x488744&&'listItem'==_0x488744['name']&&_0x488744['getAttribute']('listIndent')==_0x668fed['getAttribute']('listIndent');)_0x15690b['push'](_0x488744),_0x488744=_0x488744['nextSibling'];}return _0x15690b;}class Q extends _0x776735{['afterInit'](){if(!this['editor']['plugins']['has']('LegacyListPropertiesEditing'))return;const _0x2e0cd7=this['editor']['config']['get']('list.properties'),_0xc9989c=this['editor']['plugins']['get']('TrackChangesEditing');_0x2e0cd7['styles']&&_0xc9989c['enableCommand']('listStyle',this['handleListStyleCommand']['bind'](this)),_0x2e0cd7['reversed']&&_0xc9989c['enableCommand']('listReversed',this['handleListReversedCommand']['bind'](this)),_0x2e0cd7['startIndex']&&_0xc9989c['enableCommand']('listStart',this['handleListStartCommand']['bind'](this)),_0xc9989c['descriptionFactory']['registerDescriptionCallback'](this['handleDescriptions']['bind'](this));}['handleListStyleCommand'](_0xac7143,_0x18ac11={}){const _0xf290ad=this['editor']['plugins']['get']('TrackChangesEditing'),_0x1ab22d=this['_getSuggestionBlocksForListStyle']();this['editor']['model']['change'](()=>{_0xf290ad['markMultiRangeBlockFormat'](_0x1ab22d,{'commandName':'listStyle','commandParams':[{'type':_0x18ac11['type']}],'formatGroupId':'listStyle'});});}['handleListReversedCommand'](_0x500c3c,_0x35d8e0={}){const _0x358814=this['editor']['plugins']['get']('TrackChangesEditing'),_0x2f3e36=this['_getSuggestionBlocks'](_0x450c3e=>_0x450c3e['is']('element','listItem')&&'numbered'===_0x450c3e['getAttribute']('listType'));if(_0x2f3e36['length']<0x1)return;const _0x4cac0b=_0x2f3e36['map'](_0x32001f=>this['editor']['model']['createRange'](this['editor']['model']['createPositionAt'](_0x32001f,'before'),this['editor']['model']['createPositionAt'](_0x32001f,0x0)));this['editor']['model']['change'](()=>{_0x358814['markMultiRangeBlockFormat'](_0x4cac0b,{'commandName':'listReversed','commandParams':[{'reversed':_0x35d8e0['reversed']}],'formatGroupId':'listReversed'});});}['handleListStartCommand'](_0x5c25af,_0x584d5a={}){const _0x17e6d8=this['editor']['plugins']['get']('TrackChangesEditing'),_0x1ec066=this['_getSuggestionBlocks'](_0x16ed3a=>_0x16ed3a['is']('element','listItem')&&'numbered'===_0x16ed3a['getAttribute']('listType'));if(_0x1ec066['length']<0x1)return;const _0x5c4aee=_0x1ec066['map'](_0x4d3b7d=>this['editor']['model']['createRange'](this['editor']['model']['createPositionAt'](_0x4d3b7d,'before'),this['editor']['model']['createPositionAt'](_0x4d3b7d,0x0)));this['editor']['model']['change'](()=>{_0x17e6d8['markMultiRangeBlockFormat'](_0x5c4aee,{'commandName':'listStart','commandParams':[{'startIndex':_0x584d5a['startIndex']}],'formatGroupId':'listStart'});});}['handleDescriptions'](_0x541bee){if('formatBlock'!=_0x541bee['type']&&'formatInline'!=_0x541bee['type'])return;const _0x2aa92e=this['editor']['locale'],{data:_0x243a5d}=_0x541bee;if(!_0x243a5d)return;let _0x41ad71,_0x2376b5;switch(_0x243a5d['commandName']){case'listStyle':_0x41ad71='*Change\x20to:*\x20%0',_0x2376b5={'type':'format','content':o(_0x2aa92e,_0x41ad71,o(_0x2aa92e,this['_getTranslationKeyForListStyle'](_0x243a5d['commandParams'][0x0]['type'])))};break;case'listReversed':_0x41ad71=_0x243a5d['commandParams'][0x0]['reversed']?'*Format:*\x20set\x20order\x20to\x20reversed':'*Format:*\x20set\x20order\x20to\x20regular',_0x2376b5={'type':'format','content':o(_0x2aa92e,_0x41ad71)};break;case'listStart':_0x41ad71='*Format:*\x20set\x20start\x20index\x20to\x20%0',_0x2376b5={'type':'format','content':o(_0x2aa92e,_0x41ad71,_0x243a5d['commandParams'][0x0]['startIndex'])};}return _0x2376b5;}['_getSuggestionBlocksForListStyle'](){const _0xa1bb66=this['editor']['plugins']['get']('LegacyListUtils');let _0x171393=Array['from'](this['editor']['model']['document']['selection']['getSelectedBlocks']());return _0x171393[0x0]?.['is']('element','listItem')&&_0x171393['unshift'](..._0xa1bb66['getSiblingNodes'](this['editor']['model']['document']['selection']['getFirstPosition'](),'backward')),_0x171393[_0x171393['length']-0x1]?.['is']('element','listItem')&&_0x171393['push'](..._0xa1bb66['getSiblingNodes'](this['editor']['model']['document']['selection']['getLastPosition'](),'forward')),_0x171393=[...new Set(_0x171393)],this['editor']['model']['document']['selection']['getFirstPosition']()?.['parent']?.['is']('element','listItem')&&(_0x171393=_0x171393['filter'](_0x563575=>_0x563575['is']('element','listItem'))),_0x171393;}['_getSuggestionBlocks'](_0x1b81a8){const _0x5476e9=this['editor']['plugins']['get']('LegacyListUtils');let _0x16f145=Array['from'](this['editor']['model']['document']['selection']['getSelectedBlocks']())['filter'](_0x1b81a8)['map'](_0x422c60=>{const _0x59888a=this['editor']['model']['createPositionAt'](_0x422c60,0x0);return[..._0x5476e9['getSiblingNodes'](_0x59888a,'backward'),..._0x5476e9['getSiblingNodes'](_0x59888a,'forward')];})['flat']();return _0x16f145=[...new Set(_0x16f145)],_0x16f145;}['_getTranslationKeyForListStyle'](_0x41d6d7){return'ELEMENT_'+(this['editor']['plugins']['get']('LegacyListUtils')['getListTypeFromListStyleType'](_0x41d6d7)||'default')['toUpperCase']()+'_LIST_'+_0x41d6d7['toUpperCase']()['replace'](/-/g,'_');}}class dt extends _0x776735{['afterInit'](){const _0x1e6292=this['editor'];if(!_0x1e6292['plugins']['has']('MediaEmbedEditing'))return;const _0x15d216=_0x1e6292['plugins']['get']('TrackChangesEditing'),_0xb0c0b4=_0x1e6292['locale'];_0x15d216['enableCommand']('mediaEmbed'),_0x15d216['descriptionFactory']['registerElementLabel']('media',_0x49ae37=>o(_0xb0c0b4,'ELEMENT_MEDIA',_0x49ae37)),_0x1e6292['conversion']['for']('dataDowncast')['elementToElement']({'model':'media','view':(_0x5de9e9,{writer:_0x27e1b6,options:_0xa93b55})=>{if(_0xa93b55['showSuggestionHighlights'])return _0x27e1b6['createEmptyElement']('div');},'converterPriority':'high'}),_0x1e6292['data']['downcastDispatcher']['on']('attribute:url:media',(_0x416d3b,_0x3f7fee,_0x38bc0a)=>{_0x38bc0a['options']['showSuggestionHighlights']&&_0x416d3b['stop']();},{'priority':'high'});}}class mt extends _0x776735{['afterInit'](){const _0xa7c414=this['editor'];_0xa7c414['plugins']['has']('MentionEditing')&&_0xa7c414['plugins']['get']('TrackChangesEditing')['enableCommand']('mention');}}class pt extends _0x776735{['afterInit'](){const _0x5ad6cc=this['editor'];if(!_0x5ad6cc['plugins']['has']('MergeFieldsEditing'))return;_0x5ad6cc['plugins']['get']('TrackChangesEditing')['enableCommand']('insertMergeField'),_0x5ad6cc['plugins']['get']('TrackChangesEditing')['enableCommand']('insertMergeFieldBlock');const _0x447ee7=_0x5ad6cc['plugins']['get']('TrackChangesEditing'),_0x565169=_0x5ad6cc['locale'];_0x447ee7['descriptionFactory']['registerElementLabel']('mergeField',_0x3448be=>o(_0x565169,'ELEMENT_MERGE_FIELD',_0x3448be)),_0x447ee7['descriptionFactory']['registerElementLabel']('mergeFieldBlock',_0x4b1170=>o(_0x565169,'ELEMENT_MERGE_FIELD',_0x4b1170)),_0x447ee7['descriptionFactory']['registerDescriptionCallback'](_0x262fac=>{if('insertion'!=_0x262fac['type']&&'deletion'!=_0x262fac['type'])return;const _0x19f8dd=_0x262fac['getContainedElement']();if(null==_0x19f8dd)return;if(!_0x19f8dd['is']('element','mergeField')&&!_0x19f8dd['is']('element','mergeFieldBlock'))return;const _0x2866d3=_0x5ad6cc['plugins']['get']('MergeFieldsEditing')['getLabel'](_0x19f8dd['getAttribute']('id'));return'insertion'==_0x262fac['type']?{'type':'insertion','content':o(_0x565169,'*Insert:*\x20%0','\x22'+_0x2866d3+'\x22\x20'+o(_0x565169,'ELEMENT_MERGE_FIELD'))}:{'type':'deletion','content':o(_0x565169,'*Remove:*\x20%0','\x22'+_0x2866d3+'\x22\x20'+o(_0x565169,'ELEMENT_MERGE_FIELD'))};});}}class wt extends _0x776735{['afterInit'](){const _0x231eba=this['editor'],_0x34b780=_0x231eba['plugins']['get']('TrackChangesEditing');_0x231eba['plugins']['has']('MultiLevelList')&&(_0x34b780['enableDefaultAttributesIntegration']('multiLevelList'),_0x34b780['registerBlockAttribute']('listMarkerStyle'),_0x34b780['descriptionFactory']['registerDescriptionCallback'](_0x24d0dc=>this['handleDescriptions'](_0x24d0dc)));}['handleDescriptions'](_0x56ccec){const _0x2c55d8=this['editor']['locale'],{data:_0x33c3fa}=_0x56ccec,_0x59b102={'type':'format','content':''};if(_0x33c3fa&&'listMarkerStyle'==_0x33c3fa['key']){if(!_0x33c3fa['oldValue'])return{'type':'format','content':o(_0x2c55d8,'*Set\x20format:*\x20%0',o(_0x2c55d8,'ELEMENT_MULTI_LEVEL_LIST'))+'\x20('+_0x33c3fa['newValue']+')'};if(!_0x33c3fa['newValue']){let _0x510852=_0x56ccec['head'];for(;_0x510852;){if(_0x510852['data']&&'listType'==_0x510852['data']['key']&&_0x510852['data']['newValue'])return _0x59b102;_0x510852=_0x510852['next'];}return{'type':'format','content':o(_0x2c55d8,'*Remove\x20format:*\x20%0',o(_0x2c55d8,'ELEMENT_MULTI_LEVEL_LIST'))+'\x20('+_0x33c3fa['oldValue']+')'};}}}}class kt extends _0x776735{['afterInit'](){const _0x148ad0=this['editor'];if(!_0x148ad0['plugins']['has']('PageBreakEditing'))return;_0x148ad0['plugins']['get']('TrackChangesEditing')['enableCommand']('pageBreak');const _0x30ce18=_0x148ad0['plugins']['get']('TrackChangesEditing'),_0x5b777f=_0x148ad0['locale'];_0x30ce18['descriptionFactory']['registerElementLabel']('pageBreak',_0x3a95a0=>o(_0x5b777f,'ELEMENT_PAGE_BREAK',_0x3a95a0));}}class bt extends _0x776735{['afterInit'](){const _0x11a68f=this['editor'];if(!_0x11a68f['plugins']['has']('Paragraph'))return;const _0x317c04=_0x11a68f['locale'],_0x21fc7b=_0x11a68f['plugins']['get']('TrackChangesEditing');_0x21fc7b['descriptionFactory']['registerElementLabel']('paragraph',_0x1627b2=>o(_0x317c04,'ELEMENT_PARAGRAPH',_0x1627b2)),_0x21fc7b['enableDefaultAttributesIntegration']('paragraph'),_0x21fc7b['enableCommand']('insertParagraph'),_0x11a68f['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',nr(_0x11a68f),{'priority':'highest'}),_0x11a68f['data']['downcastDispatcher']['on']('addMarker:suggestion:insertion',(_0x27df24,_0x1c0628,_0x2146b4)=>{_0x2146b4['options']['showSuggestionHighlights']&&nr(_0x11a68f,{'showActiveMarker':!0x1})(_0x27df24,_0x1c0628,_0x2146b4);},{'priority':'highest'});const _0x2aa01a=_0x21fc7b['descriptionFactory'];_0x2aa01a['registerDescriptionCallback'](_0x3090cf=>{if('insertion'!==_0x3090cf['type'])return;const {start:_0x20ff95,end:_0x340b3b}=_0x3090cf['getFirstRange']();if(!_0x20ff95['isTouching'](_0x340b3b)||!_0x20ff95['nodeAfter'])return;const _0x5ccb9a=_0x11a68f['model']['schema'],_0x41a399=_0x20ff95['nodeAfter'];return _0x5ccb9a['isBlock'](_0x41a399)&&!_0x5ccb9a['isLimit'](_0x41a399)&&_0x5ccb9a['checkChild'](_0x41a399,'$text')?{'type':'insertion','content':o(_0x317c04,'*Insert:*\x20%0',_0x2aa01a['getItemLabel'](_0x41a399,0x1))}:void 0x0;}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x35cf76=this['editor'],_0x1329dd=_0x35cf76['locale'];_0x35cf76['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x28a268=>{if('formatBlock'!=_0x28a268['type'])return;const {data:_0x30a967}=_0x28a268;return _0x30a967&&'paragraph'==_0x30a967['commandName']?{'type':'format','content':o(_0x1329dd,'*Change\x20to:*\x20%0',o(_0x1329dd,'ELEMENT_PARAGRAPH'))}:void 0x0;});}}function nr(_0x164bd7,{showActiveMarker:_0x1e07ed=!0x0}={}){return(_0x1f0b4e,_0x8cde48,_0x1c783b)=>{const _0x46047a=_0x164bd7['plugins']['get']('TrackChangesEditing'),_0x13d140=_0x8cde48['markerRange']['start'],_0x8c3c33=_0x8cde48['markerRange']['end'],_0x376149=_0x164bd7['model']['schema'];if(!_0x13d140['isTouching'](_0x8c3c33)||!_0x13d140['nodeAfter'])return;const _0x3b75b0=_0x13d140['nodeAfter'];if(_0x376149['isBlock'](_0x3b75b0)&&!_0x376149['isLimit'](_0x3b75b0)&&_0x376149['checkChild'](_0x3b75b0,'$text')){if(!_0x1c783b['consumable']['consume'](_0x8cde48['markerRange'],_0x1f0b4e['name']))return;const {authorId:_0xde7258}=_0x46047a['_splitMarkerName'](_0x8cde48['markerName']),_0x2dc2b2=_0x1c783b['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-split','data-author-id':_0xde7258}),_0x58aecd=_0x1c783b['mapper']['toViewPosition'](_0x8c3c33);_0x1e07ed&&_0x46047a['activeMarkers']['includes'](_0x8cde48['markerName'])&&_0x1c783b['writer']['addClass']('ck-suggestion-marker--active',_0x2dc2b2),_0x1c783b['writer']['insert'](_0x58aecd,_0x2dc2b2),_0x1c783b['mapper']['bindElementToMarker'](_0x2dc2b2,_0x8cde48['markerName']);}};}class yt extends _0x776735{['afterInit'](){const _0x5c9d89=this['editor'];if(!_0x5c9d89['plugins']['has']('RemoveFormatEditing'))return;_0x5c9d89['plugins']['get']('TrackChangesEditing')['enableDefaultAttributesIntegration']('removeFormat'),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x1f7762=this['editor'];_0x1f7762['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x278599=>{if('formatBlock'!=_0x278599['type']&&'formatInline'!=_0x278599['type'])return;const {data:_0x25c532}=_0x278599;return _0x25c532&&'removeFormat'==_0x25c532['commandName']?{'type':'format','content':o(_0x1f7762['locale'],'*Remove\x20all\x20formatting*')}:void 0x0;});}}class jt extends _0x776735{['afterInit'](){const _0x311bf0=this['editor'];if(!_0x311bf0['plugins']['has']('RestrictedEditingModeEditing'))return;const _0xcea69b=_0x311bf0['plugins']['get']('TrackChangesEditing');_0xcea69b['enableCommand']('goToPreviousRestrictedEditingException'),_0xcea69b['enableCommand']('goToNextRestrictedEditingException');const _0x36743d=_0x311bf0['plugins']['get']('RestrictedEditingModeEditing');_0x36743d['enableCommand']('trackChanges'),_0x36743d['enableCommand']('acceptSuggestion'),_0x36743d['enableCommand']('discardSuggestion'),_0x36743d['enableCommand']('acceptAllSuggestions'),_0x36743d['enableCommand']('discardAllSuggestions'),_0x36743d['enableCommand']('acceptSelectedSuggestions'),_0x36743d['enableCommand']('discardSelectedSuggestions');}}class St extends _0x776735{static get['requires'](){return[_0x50a799];}['init'](){const _0x2a0c44=this['editor'],_0xc30fcc=_0x2a0c44['plugins']['get']('TrackChangesEditing');_0xc30fcc['enableCommand']('shiftEnter'),_0x2a0c44['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',ke(_0x2a0c44),{'priority':'high'}),_0x2a0c44['editing']['downcastDispatcher']['on']('addMarker:suggestion:deletion',ke(_0x2a0c44),{'priority':'high'}),_0x2a0c44['data']['downcastDispatcher']['on']('addMarker:suggestion',(_0x54c5fc,_0x3d9c7d,_0x458b57)=>{_0x458b57['options']['showSuggestionHighlights']&&ke(_0x2a0c44,{'showActiveMarker':!0x1})(_0x54c5fc,_0x3d9c7d,_0x458b57);}),_0xc30fcc['descriptionFactory']['registerElementLabel']('softBreak',_0x187e20=>o(_0x2a0c44['locale'],'ELEMENT_LINE_BREAK',_0x187e20));}}function ke(_0x3bb4e5,{showActiveMarker:_0x1692e4=!0x0}={}){return(_0x34a8eb,_0x297f49,_0x4cd66c)=>{const _0x1116b7=_0x3bb4e5['plugins']['get']('TrackChangesEditing');if(!_0x4cd66c['consumable']['test'](_0x297f49['markerRange'],_0x34a8eb['name']))return;const _0x5ec586=_0x3bb4e5['model'];for(const _0x51481a of _0x297f49['markerRange']['getItems']()){if(!_0x51481a['is']('element','softBreak'))continue;const _0x3fd292='deletion'==_0x297f49['markerName']['split'](':')[0x1]?'merge':'split',{authorId:_0x17fe01}=_0x1116b7['_splitMarkerName'](_0x297f49['markerName']),_0x34371d=_0x4cd66c['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-'+_0x3fd292,'data-author-id':_0x17fe01}),_0x321806=_0x4cd66c['mapper']['toViewPosition'](_0x5ec586['createPositionBefore'](_0x51481a));_0x1692e4&&_0x1116b7['activeMarkers']['includes'](_0x297f49['markerName'])&&_0x4cd66c['writer']['addClass']('ck-suggestion-marker--active',_0x34371d),_0x4cd66c['writer']['insert'](_0x321806,_0x34371d),_0x4cd66c['mapper']['bindElementToMarker'](_0x34371d,_0x297f49['markerName']);}};}class At extends _0x776735{['afterInit'](){const _0x55fe26=this['editor'],_0x50553b=_0x55fe26['model'],_0x16fcf5=_0x55fe26['locale'];if(!_0x55fe26['plugins']['has']('StandardEditingModeEditing'))return;const _0x35ffa2=_0x55fe26['plugins']['get']('TrackChangesEditing'),_0x13804a='restrictedEditingException',_0x5db66d=_0x55fe26['commands']['get'](_0x13804a);_0x35ffa2['enableCommand'](_0x13804a,(_0x24389e,_0x3991bd={})=>{const _0x261531=_0x50553b['document']['selection'];if(_0x261531['isCollapsed'])return void _0x24389e(_0x3991bd);const _0x23e89a=void 0x0!==_0x3991bd['forceValue']?_0x3991bd['forceValue']:!_0x5db66d['value'];_0x50553b['change'](()=>{const _0x25df3e=Array['from'](_0x261531['getRanges']());for(const _0x8e4f6f of _0x25df3e){const _0x273915=_0x23e89a?[_0x8e4f6f]:io(_0x13804a,_0x8e4f6f,_0x50553b);for(const _0x55b35c of _0x273915)_0x35ffa2['markInlineFormat'](_0x55b35c,{'commandName':_0x13804a,'commandParams':[{'forceValue':_0x23e89a}]});}});}),_0x35ffa2['descriptionFactory']['registerDescriptionCallback'](_0x558cc6=>{if('formatBlock'!=_0x558cc6['type']&&'formatInline'!=_0x558cc6['type'])return;const {data:_0x57f57f}=_0x558cc6;return _0x57f57f&&_0x57f57f['commandName']==_0x13804a?_0x57f57f['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x16fcf5,'FORMAT_RESTRICTED_ENABLED')}:{'type':'format','content':o(_0x16fcf5,'FORMAT_RESTRICTED_DISABLED')}:void 0x0;});}}class It extends _0x776735{['afterInit'](){const _0x2a9a95=this['editor'];if(!_0x2a9a95['plugins']['has']('Style')||!_0x2a9a95['plugins']['has']('DataSchema'))return;const _0x3f5309=_0x2a9a95['plugins']['get']('TrackChangesEditing'),_0x5d70ba=_0x2a9a95['locale'],_0x1d88e8=_0x2a9a95['config']['get']('style')||{},_0x31497b=_0x2a9a95['plugins']['get']('GeneralHtmlSupport'),_0x6d9874=_0x2a9a95['plugins']['get']('StyleUtils')['normalizeConfig'](_0x2a9a95['plugins']['get']('DataSchema'),_0x1d88e8['definitions']);_0x3f5309['enableDefaultAttributesIntegration']('style');const _0x41e396=new Set();for(const _0xf0e10d of _0x6d9874['block']){const _0x57b61a=_0x31497b['getGhsAttributeNameForElement'](_0xf0e10d['element']);_0x41e396['add'](_0x57b61a);}const _0x24b808=new Set();for(const _0x516a4d of _0x6d9874['inline']){const _0x419b56=_0x31497b['getGhsAttributeNameForElement'](_0x516a4d['element']);_0x24b808['add'](_0x419b56);for(const _0x4e3637 of _0x516a4d['ghsAttributes'])_0x24b808['add'](_0x4e3637);}for(const _0x143ac9 of _0x41e396)_0x3f5309['registerBlockAttribute'](_0x143ac9),_0x3f5309['descriptionFactory']['registerAttributeLabel'](_0x143ac9,o(_0x5d70ba,'FORMAT_STYLE'));for(const _0x141110 of _0x24b808)_0x3f5309['registerInlineAttribute'](_0x141110),_0x3f5309['descriptionFactory']['registerAttributeLabel'](_0x141110,o(_0x5d70ba,'FORMAT_STYLE'));this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0xc2ce5d=this['editor'],_0x3afd2d=_0xc2ce5d['locale'];_0xc2ce5d['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x57b81b=>{if('formatBlock'!=_0x57b81b['type']&&'formatInline'!=_0x57b81b['type'])return;const {data:_0x39106b}=_0x57b81b;return _0x39106b&&'style'===_0x39106b['commandName']?_0x39106b['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x3afd2d,'*Set\x20format:*\x20%0',_0x39106b['commandParams'][0x0]['styleName']['toLowerCase']())}:{'type':'format','content':o(_0x3afd2d,'*Remove\x20format:*\x20%0',_0x39106b['commandParams'][0x0]['styleName']['toLowerCase']())}:void 0x0;});}}class vt extends _0x776735{['_tablePostFixingSubtypes'];['_tableSuggestions'];constructor(_0x361716){super(_0x361716),this['_tablePostFixingSubtypes']=['tableRow','tableColumn'],this['_tableSuggestions']=new Set();}['afterInit'](){const _0x2d4ef0=this['editor'],_0x248c8a=_0x2d4ef0['model']['document']['selection'];if(!_0x2d4ef0['plugins']['has']('TableEditing'))return;const _0x381b5c=_0x2d4ef0['locale'],_0x2a46da=_0x2d4ef0['plugins']['get']('TrackChangesEditing'),_0x5ed5cf=_0x2d4ef0['plugins']['get']('TableUtils');_0x2a46da['descriptionFactory']['registerElementLabel']('table',_0x1f1bbc=>o(_0x381b5c,'ELEMENT_TABLE',_0x1f1bbc)),this['_setupColumnsRowsFixing'](),_0x2a46da['enableCommand']('insertTable'),_0x2a46da['enableCommand']('selectTableRow'),_0x2a46da['enableCommand']('selectTableColumn');for(const _0xd1d7f5 of['insertTableRowAbove','insertTableRowBelow']){const _0x162b29=_0x2d4ef0['commands']['get'](_0xd1d7f5);_0x2a46da['enableCommand'](_0xd1d7f5,_0x45996a=>{_0x2d4ef0['model']['change'](_0x5f4325=>{_0x45996a();const _0xcc00c7='above'===_0x162b29['order'],_0x188022=_0x5ed5cf['getSelectionAffectedTableCells'](_0x248c8a),_0x52e69d=_0x5ed5cf['getRowIndexes'](_0x188022),_0x51eb9d=_0xcc00c7?_0x52e69d['first']-0x1:_0x52e69d['last']+0x1,_0x2528c6=_0x188022[0x0]['findAncestor']('table'),_0x3974e7=_0x5ed5cf['createTableWalker'](_0x2528c6,{'startRow':_0x51eb9d,'endRow':_0x51eb9d}),_0x47dead=Array['from'](_0x3974e7)['map'](_0x2ae70c=>_0x5f4325['createRangeOn'](_0x2ae70c['cell']));_0x2a46da['markMultiRangeInsertion'](_0x47dead,'tableRow');});});}for(const _0x203d27 of['insertTableColumnLeft','insertTableColumnRight']){const _0x206012=_0x2d4ef0['commands']['get'](_0x203d27);_0x2a46da['enableCommand'](_0x203d27,_0x532e6c=>{_0x2d4ef0['model']['change'](_0x35a12a=>{_0x532e6c();const _0x43ea20='left'===_0x206012['order'],_0x4d0b12=_0x5ed5cf['getSelectionAffectedTableCells'](_0x248c8a),_0x146540=_0x5ed5cf['getColumnIndexes'](_0x4d0b12),_0x11d56d=_0x43ea20?_0x146540['first']-0x1:_0x146540['last']+0x1,_0x1a4c63=_0x4d0b12[0x0]['findAncestor']('table'),_0x24c9de=_0x5ed5cf['createTableWalker'](_0x1a4c63,{'startRow':0x0,'column':_0x11d56d,'includeAllSlots':!0x1}),_0x161407=Array['from'](_0x24c9de)['map'](_0x23f66f=>_0x35a12a['createRangeOn'](_0x23f66f['cell']));_0x2a46da['markMultiRangeInsertion'](_0x161407,'tableColumn');});});}for(const _0x5b3149 of['removeTableRow','removeTableColumn']){const _0x24853d=_0x5b3149['substr'](0xb),_0x3a3fa3=_0x24853d['toLowerCase'](),_0x5d45ad=_0x3a3fa3['substr'](0x0,0x3)+'span',_0x3ef15a='table'+_0x24853d,_0x59e0d2='min'+_0x24853d,_0x285755='max'+_0x24853d;_0x2a46da['enableCommand'](_0x5b3149,()=>{_0x2d4ef0['model']['change'](_0x5e5887=>{const _0x50deeb=_0x5ed5cf['getSelectionAffectedTableCells'](_0x248c8a),_0x4cf6a1=_0x50deeb[0x0]['findAncestor']('table');let _0x2904f0;if('removeTableRow'==_0x5b3149){const _0x38ad1c=_0x5ed5cf['getRowIndexes'](_0x50deeb);_0x2904f0={'startRow':_0x38ad1c['first'],'endRow':_0x38ad1c['last'],'includeAllSlots':!0x0};}else{const _0x72962=_0x5ed5cf['getColumnIndexes'](_0x50deeb);_0x2904f0={'startColumn':_0x72962['first'],'endColumn':_0x72962['last'],'includeAllSlots':!0x0};}const _0x1e393b=_0x5ed5cf['createTableWalker'](_0x4cf6a1,_0x2904f0),_0x1e1348=Array['from'](_0x1e393b)['map'](({cell:_0x75c5f3})=>_0x75c5f3),_0x4bf90c=Re(_0x1e1348['filter'](_0x14ac39=>_0x14ac39['hasAttribute'](_0x5d45ad))),_0x4f5c0d=Re(_0x1e1348['filter'](_0x54c62b=>!_0x54c62b['hasAttribute'](_0x5d45ad)))['map'](_0x53c0e1=>_0x5e5887['createRangeOn'](_0x53c0e1)),_0x4d2c87=_0x2a46da['markMultiRangeDeletion'](_0x4f5c0d,_0x3ef15a);if(_0x4d2c87&&('tableRow'==_0x4d2c87['subType']||'tableColumn'==_0x4d2c87['subType'])){const _0x414a5f=this['_getSuggestionCoords'](_0x4d2c87);for(const _0x47fa67 of _0x4bf90c){const _0x3c1e8f=_0x5e5887['createRangeOn'](_0x47fa67),_0x27b0b2=_0x5ed5cf['getCellLocation'](_0x47fa67),_0x465f62=_0x47fa67['getAttribute'](_0x5d45ad)-0x1,_0x4042b0=_0x414a5f[_0x59e0d2],_0x407b5d=_0x414a5f[_0x285755];_0x4042b0<=_0x27b0b2[_0x3a3fa3]&&_0x27b0b2[_0x3a3fa3]+_0x465f62<=_0x407b5d&&_0x4d2c87['addRange'](_0x3c1e8f);}}});});}function _0x55022a(_0x1cd70c){const _0x5270b2=Array['from'](_0x248c8a['getRanges']())['map'](_0x3c8867=>_0xf48340['fromRange'](_0x3c8867));_0x2d4ef0['model']['change'](_0x41d103=>{const _0x474dd1=_0x41d103['batch'];_0x1cd70c=_0x1cd70c['filter'](_0x18810b=>'$graveyard'!=_0x18810b['root']['rootName']),_0x41d103['setSelection'](_0x1cd70c),_0x2d4ef0['commands']['get']('removeTableRow')['refresh'](),_0x2d4ef0['execute']('removeTableRow',{'forceDefaultExecution':!0x0}),_0x2d4ef0['model']['enqueueChange'](()=>{_0x2d4ef0['model']['enqueueChange'](_0x474dd1,_0x27dced=>{const _0x47d96d=_0x5270b2['filter'](_0x26c22e=>'$graveyard'!=_0x26c22e['root']['rootName']);_0x47d96d['length']>0x0&&_0x27dced['setSelection'](_0x47d96d);for(const _0x39508f of _0x5270b2)_0x39508f['detach']();});});});}function _0x1c28ec(_0x230738){_0x2d4ef0['model']['change'](_0x94e626=>{const _0x57f39c=Array['from'](_0x248c8a['getRanges']())['map'](_0x5ecbb6=>_0xf48340['fromRange'](_0x5ecbb6)),_0xea6c93=[];for(const _0x11f6fe of _0x230738)for(const _0x58e76d of _0x11f6fe['getItems']({'shallow':!0x0}))_0xea6c93['push'](_0x58e76d);for(const _0x2239f7 of _0xea6c93)'$graveyard'!=_0x2239f7['root']['rootName']&&(_0x94e626['setSelection'](_0x94e626['createPositionAt'](_0x2239f7,0x0)),_0x2d4ef0['commands']['get']('removeTableColumn')['refresh'](),_0x2d4ef0['execute']('removeTableColumn',{'forceDefaultExecution':!0x0}));const _0x44b1b3=_0x57f39c['filter'](_0x545538=>'$graveyard'!=_0x545538['root']['rootName']);_0x44b1b3['length']>0x0&&_0x94e626['setSelection'](_0x44b1b3);for(const _0x19dd4d of _0x57f39c)_0x19dd4d['detach']();});}function _0x2c1a06(_0x1775a2,_0x266d17){return _0x266d17['every'](_0x385f35=>_0x1775a2['some'](_0x2e6ba7=>_0x2e6ba7['end']['isEqual'](_0x385f35['start'])||_0x385f35['end']['isEqual'](_0x2e6ba7['start'])));}function _0x5d1e49(_0x24194b,_0xd4319b){return!_0x24194b['some'](_0x259ff0=>_0xd4319b['some'](_0xfc6a6=>_0x259ff0['isIntersecting'](_0xfc6a6)))&&_0x24194b['some'](_0x2e6ee5=>_0xd4319b['some'](_0x380277=>_0x2e6ee5['end']['isTouching'](_0x380277['start'])));}_0x2d4ef0['data']['downcastDispatcher']['on']('addMarker:suggestion',(_0x87d0c1,_0x448a39,_0x407709)=>{if(!_0x407709['options']['showSuggestionHighlights'])return;const _0x44531a=_0x448a39['item'];if(!_0x44531a)return;const _0x4b4d9f=_0x407709['mapper']['toViewElement'](_0x44531a);function _0x106111(_0x16ecfe){return Array['isArray'](_0x16ecfe)?_0x16ecfe:[_0x16ecfe];}_0x4b4d9f&&'tableCell'===_0x44531a['name']&&_0x497f86(_0x4b4d9f,_0x407709['writer'],(_0x1deda6,_0x44f878,_0x6d2562)=>_0x6d2562['addClass'](_0x106111(_0x44f878['classes']),_0x1deda6),(_0xf9e59e,_0x17c0e4,_0x4c68d8)=>_0x4c68d8['removeClass'](_0x106111(_0x17c0e4['classes']),_0xf9e59e));},{'priority':'highest'}),_0x2a46da['descriptionFactory']['registerDescriptionCallback'](_0x447a06=>{if('insertion'!=_0x447a06['type']&&'deletion'!=_0x447a06['type'])return;const _0x5a049d=_0x447a06['getContainedElement']();if(null!=_0x5a049d&&_0x5a049d['is']('element','table')){if('insertion'==_0x447a06['type']){const _0x37c3ff=_0x447a06['getItems']()['filter'](_0x8fc24b=>_0x8fc24b['is']('$textProxy'))['map'](_0x48295a=>_0x48295a['data']);if(_0x37c3ff['length'])return{'type':'insertion','content':o(_0x381b5c,'*Insert:*\x20%0',o(_0x381b5c,'ELEMENT_TABLE_WITH_TEXT','\x22'+_0x37c3ff['join']('\x20')+'\x22'))};}if('deletion'==_0x447a06['type']){const _0x521fdf=_0x447a06['getItems']()['filter'](_0x30cd1d=>_0x30cd1d['is']('$textProxy'))['map'](_0x8705ec=>_0x8705ec['data']);if(_0x521fdf['length'])return{'type':'deletion','content':o(_0x381b5c,'*Remove:*\x20%0',o(_0x381b5c,'ELEMENT_TABLE_WITH_TEXT','\x22'+_0x521fdf['join']('\x20')+'\x22'))};}}}),_0x2a46da['descriptionFactory']['registerDescriptionCallback'](_0x59c00a=>{if('tableRow'==_0x59c00a['subType']){const _0x44a2d3=_0x59c00a['getItems']()['filter'](_0x4be1cb=>_0x4be1cb['is']('$textProxy'))['map'](_0x6a75cb=>_0x6a75cb['data']),_0x3296fb=this['_getSuggestionCoords'](_0x59c00a),_0x4b2e7d=_0x3296fb['maxRow']-_0x3296fb['minRow']+0x1;if('insertion'==_0x59c00a['type'])return _0x44a2d3['length']?{'type':'insertion','content':o(_0x381b5c,'*Insert:*\x20%0',o(_0x381b5c,'ELEMENT_TABLE_ROW_WITH_TEXT',[_0x4b2e7d,'\x22'+_0x44a2d3['join']('\x20')+'\x22']))}:{'type':'insertion','content':o(_0x381b5c,'*Insert:*\x20%0',o(_0x381b5c,'ELEMENT_TABLE_ROW',_0x4b2e7d))};if('deletion'==_0x59c00a['type'])return _0x44a2d3['length']?{'type':'deletion','content':o(_0x381b5c,'*Remove:*\x20%0',o(_0x381b5c,'ELEMENT_TABLE_ROW_WITH_TEXT',[_0x4b2e7d,'\x22'+_0x44a2d3['join']('\x20')+'\x22']))}:{'type':'deletion','content':o(_0x381b5c,'*Remove:*\x20%0',o(_0x381b5c,'ELEMENT_TABLE_ROW',_0x4b2e7d))};}if('tableColumn'==_0x59c00a['subType']){const _0x230500=_0x59c00a['getItems']()['filter'](_0x19720e=>_0x19720e['is']('$textProxy'))['map'](_0x291770=>_0x291770['data']),_0x13586c=this['_getSuggestionCoords'](_0x59c00a),_0x2d825d=_0x13586c['maxColumn']-_0x13586c['minColumn']+0x1;if('insertion'==_0x59c00a['type'])return _0x230500['length']?{'type':'insertion','content':o(_0x381b5c,'*Insert:*\x20%0',o(_0x381b5c,'ELEMENT_TABLE_COLUMN_WITH_TEXT',[_0x2d825d,'\x22'+_0x230500['join']('\x20')+'\x22']))}:{'type':'insertion','content':o(_0x381b5c,'*Insert:*\x20%0',o(_0x381b5c,'ELEMENT_TABLE_COLUMN',_0x2d825d))};if('deletion'==_0x59c00a['type'])return _0x230500['length']?{'type':'deletion','content':o(_0x381b5c,'*Remove:*\x20%0',o(_0x381b5c,'ELEMENT_TABLE_COLUMN_WITH_TEXT',[_0x2d825d,'\x22'+_0x230500['join']('\x20')+'\x22']))}:{'type':'deletion','content':o(_0x381b5c,'*Remove:*\x20%0',o(_0x381b5c,'ELEMENT_TABLE_COLUMN',_0x2d825d))};}}),_0x2a46da['_suggestionFactory']['registerCustomCallback']('insertion','tableRow','discard',_0x55022a),_0x2a46da['_suggestionFactory']['registerCustomCallback']('deletion','tableRow','accept',_0x55022a),_0x2a46da['_suggestionFactory']['registerCustomCallback']('insertion','tableColumn','discard',_0x1c28ec),_0x2a46da['_suggestionFactory']['registerCustomCallback']('deletion','tableColumn','accept',_0x1c28ec),_0x2a46da['_suggestionFactory']['registerCustomCallback']('insertion','tableColumn','join',_0x2c1a06),_0x2a46da['_suggestionFactory']['registerCustomCallback']('deletion','tableColumn','join',_0x2c1a06),_0x2a46da['_suggestionFactory']['registerCustomCallback']('insertion','tableRow','join',_0x5d1e49),_0x2a46da['_suggestionFactory']['registerCustomCallback']('deletion','tableRow','join',_0x5d1e49);}['_acceptFormatSuggestionCallbackFactory'](){const _0xbe1930=this['editor'],_0x3a96a1=_0xbe1930['model']['document']['selection'];return(_0x309698,_0x33e1aa)=>{_0xbe1930['model']['change'](_0x9743d6=>{const {commandName:_0x137ac9,commandParams:_0x2bf96e}=_0x33e1aa;let _0x3a15d3=_0x309698[0x0]['end']['nodeBefore'];_0x2bf96e&&_0x2bf96e[0x0]&&!0x1===_0x2bf96e[0x0]['forceValue']&&(_0x3a15d3=_0x309698[0x0]['start']['nodeAfter']);const _0x4b3520=_0x9743d6['createRangeIn'](_0x3a15d3);if('$graveyard'==_0x4b3520['root']['rootName'])return;const _0x305599=Array['from'](_0x3a96a1['getRanges']())['map'](_0x32e1d5=>_0xf48340['fromRange'](_0x32e1d5));_0x9743d6['setSelection'](_0x4b3520),_0xbe1930['commands']['get'](_0x137ac9)['refresh'](),_0x2bf96e['push']({'forceDefaultExecution':!0x0}),_0xbe1930['execute'](_0x137ac9,..._0x2bf96e);const _0x30f8c9=_0x305599['filter'](_0x2dcc34=>'$graveyard'!=_0x2dcc34['root']['rootName']);_0x30f8c9['length']>0x0&&_0x9743d6['setSelection'](_0x30f8c9);for(const _0xa68b60 of _0x305599)_0xa68b60['detach']();});};}['_getCoordsForCells'](_0x207f73){const _0x4ce1b3=this['editor']['plugins']['get']('TableUtils');let _0x10bf13=Number['MAX_SAFE_INTEGER'],_0x212c70=Number['MIN_SAFE_INTEGER'],_0x2df6d2=Number['MAX_SAFE_INTEGER'],_0x45421b=Number['MIN_SAFE_INTEGER'];for(const _0x21d595 of _0x207f73){if('$graveyard'==_0x21d595['root']['rootName'])continue;const {row:_0x1c7011,column:_0x4d291f}=_0x4ce1b3['getCellLocation'](_0x21d595),_0x3db241=_0x21d595['hasAttribute']('rowspan')?_0x21d595['getAttribute']('rowspan')-0x1:0x0,_0x10f546=_0x21d595['hasAttribute']('colspan')?_0x21d595['getAttribute']('colspan')-0x1:0x0;_0x10bf13=_0x1c7011<_0x10bf13?_0x1c7011:_0x10bf13,_0x212c70=_0x1c7011+_0x3db241>_0x212c70?_0x1c7011+_0x3db241:_0x212c70,_0x2df6d2=_0x4d291f<_0x2df6d2?_0x4d291f:_0x2df6d2,_0x45421b=_0x4d291f+_0x10f546>_0x45421b?_0x4d291f+_0x10f546:_0x45421b;}return{'minRow':_0x10bf13,'maxRow':_0x212c70,'minColumn':_0x2df6d2,'maxColumn':_0x45421b};}['_setupColumnsRowsFixing'](){const _0x3c5027=this['editor'],_0x16e253=_0x3c5027['plugins']['get']('TrackChangesEditing'),_0x5150e1=_0x3c5027['plugins']['get']('TableUtils');_0x3c5027['model']['document']['on']('change:data',()=>{const _0xecfd23=Array['from'](_0x3c5027['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x7eb9ed,data:_0x36bdb6}of _0xecfd23){const {group:_0x3a7c9e,id:_0x267383,subType:_0x39a985}=_0x16e253['_splitMarkerName'](_0x7eb9ed);if('suggestion'!=_0x3a7c9e)continue;if(null!=_0x36bdb6['oldRange'])continue;const _0x503026=_0x16e253['getSuggestion'](_0x267383);this['_tablePostFixingSubtypes']['includes'](_0x39a985)&&this['_tableSuggestions']['add'](_0x503026);}},{'priority':'low'});const _0x16a4a3=(_0x325477,_0x3352d2)=>{let _0x2173be=!0x1;const _0x4255a1=_0x3352d2['createRangeOn'](_0x325477),_0x10584d=_0x325477['findAncestor']('table'),_0x53c81f=_0x5150e1['getCellLocation'](_0x325477);for(const _0xe321f1 of this['_tableSuggestions']){const _0x59e085=_0xe321f1['subType'],_0x1b32d4=_0x59e085['startsWith']('tablePaste'),_0x2ecadf=_0x59e085['substr'](_0x1b32d4?0xa:0x5),_0x448cc0=_0x2ecadf['toLowerCase'](),_0x599401=_0x448cc0['substr'](0x0,0x3)+'span',_0x3e4e17='min'+_0x2ecadf,_0x4104f5='max'+_0x2ecadf;if(!_0xe321f1['isInContent'])continue;if(_0x10584d!=_0xe321f1['getFirstRange']()['start']['findAncestor']('table'))continue;if(_0xe321f1['isIntersectingWithRange'](_0x4255a1))continue;const _0x169658=_0x325477['hasAttribute'](_0x599401)?_0x325477['getAttribute'](_0x599401)-0x1:0x0,_0x519fad=this['_getSuggestionCoords'](_0xe321f1),_0x4d0f8c=_0x519fad[_0x3e4e17],_0x57a692=_0x519fad[_0x4104f5];_0x4d0f8c<=_0x53c81f[_0x448cc0]&&_0x53c81f[_0x448cc0]+_0x169658<=_0x57a692&&(_0xe321f1['addRange'](_0x4255a1),_0x2173be=!0x0);}return _0x2173be;};_0x3c5027['model']['document']['registerPostFixer'](_0x556dbf=>{let _0x1bba93=!0x1;for(const _0x274cb4 of _0x3c5027['model']['document']['differ']['getChanges']())if('insert'==_0x274cb4['type']){if('tableRow'==_0x274cb4['name']){for(const _0x22d9e8 of _0x274cb4['position']['nodeAfter']['getChildren']())_0x1bba93=_0x1bba93||_0x16a4a3(_0x22d9e8,_0x556dbf);}else'tableCell'==_0x274cb4['name']&&(_0x1bba93=_0x1bba93||_0x16a4a3(_0x274cb4['position']['nodeAfter'],_0x556dbf));}return _0x1bba93;});}['_getSuggestionCoords'](_0x1edcf2){return this['_getCoordsForCells'](_0x1edcf2['getRanges']()['map'](_0x5c9f9e=>_0x5c9f9e['start']['nodeAfter']));}}function Re(_0x4de97d){return Array['from'](new Set(_0x4de97d)['values']());}class _t extends _0x776735{static get['requires'](){return[vt];}['afterInit'](){const _0x13b9fe=this['editor'],_0x21b25c=_0x13b9fe['model']['document']['selection'],_0x590b75=_0x13b9fe['locale'];if(!_0x13b9fe['plugins']['has']('TableEditing'))return;const _0x42f26e=_0x13b9fe['plugins']['get']('TrackChangesEditing'),_0x2c1563=_0x13b9fe['plugins']['get']('TableUtils'),_0x13cc54=_0x13b9fe['plugins']['get'](vt);_0x13cc54['_tablePostFixingSubtypes']['push']('mergeTableCells'),_0x42f26e['enableCommand']('mergeTableCells',()=>{const _0x156816=_0x2c1563['getSelectionAffectedTableCells'](_0x13b9fe['model']['document']['selection']);_0x13b9fe['model']['change'](()=>{_0x42f26e['markMultiRangeBlockFormat'](_0x156816,{'commandName':'mergeTableCells','commandParams':[]},[],'mergeTableCells');});}),_0x13b9fe['commands']['get']('mergeTableCells')['on']('execute',(_0x15bca4,_0x43a09c)=>{_0x13b9fe['commands']['get']('trackChanges')['value']&&(_0x43a09c['length']>0x0&&_0x43a09c[_0x43a09c['length']-0x1]&&_0x43a09c[_0x43a09c['length']-0x1]['forceDefaultExecution']||_0x42f26e['_isForcedDefaultExecutionBlock']||this['_areSelectedCellsMergable']()||_0x15bca4['stop']());},{'priority':'highest'});for(const _0x591e1a of['mergeTableCellUp','mergeTableCellRight','mergeTableCellDown','mergeTableCellLeft']){const _0x25e7bc=_0x13b9fe['commands']['get'](_0x591e1a);_0x42f26e['enableCommand'](_0x591e1a,()=>{const _0x227ede=_0x13b9fe['model']['document']['selection']['getFirstPosition']()['getAncestors']()['find'](_0x330671=>_0x330671['is']('element','tableCell')),_0x301855=_0x25e7bc['value'];_0x13b9fe['model']['change'](()=>{_0x42f26e['markMultiRangeBlockFormat']([_0x227ede,_0x301855],{'commandName':'mergeTableCells','commandParams':[]},[],'mergeTableCells');});});}for(const _0x263149 of['splitTableCellVertically','splitTableCellHorizontally']){const _0x56b352=_0x13b9fe['commands']['get'](_0x263149);_0x42f26e['enableCommand'](_0x263149,()=>{const _0x19dafe=_0x2c1563['getSelectionAffectedTableCells'](_0x13b9fe['model']['document']['selection'])[0x0],_0x466151=_0x19dafe['findAncestor']('table'),{column:_0x1d3fc2,row:_0x5b7d5a}=_0x2c1563['getCellLocation'](_0x19dafe);let _0x4afa63=[];if('horizontally'==_0x56b352['direction']){const _0x1340de=_0x2c1563['createTableWalker'](_0x466151,{'startRow':_0x5b7d5a,'endRow':_0x5b7d5a,'includeAllSlots':!0x0});_0x4afa63=Array['from'](_0x1340de)['map'](_0x20e3ba=>_0x20e3ba['cell']);}else{const _0x1abe9e=_0x2c1563['createTableWalker'](_0x466151,{'column':_0x1d3fc2,'includeAllSlots':!0x0});_0x4afa63=Array['from'](_0x1abe9e)['map'](_0x4ac414=>_0x4ac414['cell']);}_0x13b9fe['model']['change'](_0x5a257f=>{_0x42f26e['markBlockFormat'](_0x5a257f['createRangeOn'](_0x19dafe),{'commandName':_0x263149,'commandParams':[]},_0x4afa63,_0x263149);});});}_0x42f26e['descriptionFactory']['registerDescriptionCallback'](_0x12ab53=>{if('formatBlock'!=_0x12ab53['type']&&'formatInline'!=_0x12ab53['type'])return;const {data:_0x1af183}=_0x12ab53;return _0x1af183&&'mergeTableCells'==_0x1af183['commandName']?{'type':'format','content':o(_0x590b75,'*Merge\x20cells*')}:void 0x0;}),_0x42f26e['descriptionFactory']['registerDescriptionCallback'](_0x2b5185=>{if('formatBlock'!=_0x2b5185['type']&&'formatInline'!=_0x2b5185['type'])return;const {data:_0x40b859}=_0x2b5185;return _0x40b859?'splitTableCellVertically'==_0x40b859['commandName']?{'type':'format','content':o(_0x590b75,'*Split\x20cell:*\x20vertically')}:'splitTableCellHorizontally'==_0x40b859['commandName']?{'type':'format','content':o(_0x590b75,'*Split\x20cell:*\x20horizontally')}:void 0x0:void 0x0;});const _0x18f7ae=_0x13cc54['_acceptFormatSuggestionCallbackFactory']();for(const _0x432ffd of['mergeTableCellUp','mergeTableCellRight','mergeTableCellDown','mergeTableCellLeft'])_0x42f26e['_suggestionFactory']['registerCustomCallback']('formatBlock',_0x432ffd,'accept',_0x18f7ae);for(const _0xb40ab0 of['splitTableCellVertically','splitTableCellHorizontally'])_0x42f26e['_suggestionFactory']['registerCustomCallback']('formatBlock',_0xb40ab0,'accept',_0x18f7ae);_0x42f26e['_suggestionFactory']['registerCustomCallback']('formatBlock','mergeTableCells','accept',_0x23c924=>{_0x13b9fe['model']['change'](_0xb96852=>{const _0x4ffb69=Array['from'](_0x21b25c['getRanges']())['map'](_0x31ac85=>_0xf48340['fromRange'](_0x31ac85));_0xb96852['setSelection'](_0x23c924),_0x13b9fe['commands']['get']('mergeTableCells')['refresh'](),_0x13b9fe['execute']('mergeTableCells',{'forceDefaultExecution':!0x0});const _0x57a026=_0x4ffb69['filter'](_0x30e50f=>'$graveyard'!=_0x30e50f['root']['rootName']);_0x57a026['length']>0x0&&_0xb96852['setSelection'](_0x57a026);for(const _0x33e6af of _0x4ffb69)_0x33e6af['detach']();});});for(const _0x5009d0 of['mergeTableCellUp','mergeTableCellDown','mergeTableCellLeft','mergeTableCellRight']){const _0x524e19=_0x13b9fe['commands']['get'](_0x5009d0);_0x524e19['on']('set:isEnabled',(_0x1300c1,_0x15306d,_0x2ca059)=>{if(_0x2ca059){const _0x1833c6=_0x13b9fe['model']['document']['selection']['getFirstPosition']()['getAncestors']()['find'](_0x1e5ea1=>_0x1e5ea1['is']('element','tableCell'));this['_areMergableCells'](_0x524e19['value'],_0x1833c6)||(_0x1300c1['return']=!0x1,_0x1300c1['stop']());}},{'priority':'low'});}}['_areSelectedCellsMergable'](){const _0x492cf7=this['editor']['commands']['get']('mergeTableCells'),_0xcd3cf9=this['editor']['plugins']['get']('TableUtils');if(!_0x492cf7['isEnabled'])return!0x1;const _0x2503b6=_0xcd3cf9['getSelectionAffectedTableCells'](this['editor']['model']['document']['selection']);for(const _0x45ac9 of _0x2503b6)for(const _0x2b635d of _0x2503b6)if(_0x45ac9!=_0x2b635d&&!this['_areMergableCells'](_0x45ac9,_0x2b635d))return!0x1;return!0x0;}['_areMergableCells'](_0x399593,_0x3fcf93){const _0x51b1b7=this['editor']['plugins']['get']('TrackChangesEditing'),_0x564416=this['editor']['model']['createRangeOn'](_0x399593),_0x5b07d4=this['editor']['model']['createRangeOn'](_0x3fcf93),_0x35c1ad=new Set(),_0x3f8aa9=new Set();for(const _0x444676 of _0x51b1b7['getSuggestions']())if(('insertion'==_0x444676['type']||'deletion'==_0x444676['type']||'mergeTableCells'==_0x444676['subType'])&&_0x444676['isInContent']){for(const _0x54f7f4 of _0x444676['getRanges']())_0x54f7f4['containsRange'](_0x564416,!0x0)&&_0x35c1ad['add'](_0x444676['type']+':'+_0x444676['author']['id']),_0x54f7f4['containsRange'](_0x5b07d4,!0x0)&&_0x3f8aa9['add'](_0x444676['type']+':'+_0x444676['author']['id']);}if(_0x35c1ad['size']!=_0x3f8aa9['size'])return!0x1;for(const _0xbba420 of _0x35c1ad)if(!_0x3f8aa9['has'](_0xbba420))return!0x1;return!0x0;}}class Ct extends _0x776735{static get['requires'](){return[vt];}['afterInit'](){const _0x5c1089=this['editor'];if(!_0x5c1089['plugins']['has']('TableEditing'))return;const _0xae62cf=_0x5c1089['locale'],_0x507e89=_0x5c1089['plugins']['get']('TrackChangesEditing');_0x507e89['enableDefaultAttributesIntegration']('setTableRowHeader'),_0x507e89['enableDefaultAttributesIntegration']('setTableColumnHeader'),_0x507e89['registerBlockAttribute']('headingRows'),_0x507e89['registerBlockAttribute']('headingColumns'),_0x507e89['descriptionFactory']['registerAttributeLabel']('headingRows',o(_0xae62cf,'FORMAT_HEADER_ROW')),_0x507e89['descriptionFactory']['registerAttributeLabel']('headingColumns',o(_0xae62cf,'FORMAT_HEADER_COLUMN')),this['_handleLegacySuggestions']();}['_handleLegacySuggestions'](){const _0xfd645d=this['editor']['plugins']['get']('TrackChangesEditing'),_0x1d827d=this['editor']['plugins']['get']('TableUtils'),_0x521ad1=this['editor']['plugins']['get'](vt)['_acceptFormatSuggestionCallbackFactory']();function _0x27da30({showActiveMarker:_0x1e10dc=!0x0,setDataAttribute:_0x452016=!0x0}={}){return(_0xbda8f2,_0x539373,_0x4b923d)=>{const {type:_0x2c0ced,id:_0xa76861}=_0xfd645d['_splitMarkerName'](_0x539373['markerName']),_0x1978e7=_0xfd645d['getSuggestion'](_0xa76861),_0x59696d=_0x1978e7['data'];if('formatBlock'!=_0x1978e7['type']||!_0x59696d||'setTableColumnHeader'!=_0x59696d['commandName'])return;if(_0x539373['item'])return void _0xbda8f2['stop']();if(!_0x4b923d['consumable']['consume'](_0x539373['markerRange'],_0xbda8f2['name']))return;const _0x326e3f=_0x539373['markerRange']['start']['nodeAfter'],_0x24f179=_0x539373['markerRange']['end']['nodeBefore'],_0x375d5b=_0x326e3f['parent']['parent'],{column:_0x42127d}=_0x1d827d['getCellLocation'](_0x326e3f),{column:_0x23c8f8}=_0x1d827d['getCellLocation'](_0x24f179);for(let _0x4bdcb3=_0x42127d;_0x4bdcb3<=_0x23c8f8;_0x4bdcb3++){const _0xe2724e=_0x1d827d['createTableWalker'](_0x375d5b,{'column':_0x4bdcb3,'includeAllSlots':!0x1});for(const _0x324420 of _0xe2724e){const _0x33d14b=_0x324420['cell'],_0x5cf7e4=_0x4b923d['mapper']['toViewElement'](_0x33d14b);_0x4b923d['writer']['addClass']('ck-suggestion-marker-'+_0x2c0ced,_0x5cf7e4),_0x452016&&_0x4b923d['writer']['setAttribute']('data-suggestion',_0xa76861,_0x5cf7e4),_0x4b923d['mapper']['bindElementToMarker'](_0x5cf7e4,_0x539373['markerName']),_0x1e10dc&&(_0xfd645d['activeMarkers']['includes'](_0x539373['markerName'])?_0x4b923d['writer']['addClass']('ck-suggestion-marker--active',_0x5cf7e4):_0x4b923d['writer']['removeClass']('ck-suggestion-marker--active',_0x5cf7e4));}}};}_0xfd645d['_suggestionFactory']['registerCustomCallback']('formatBlock','setTableRowHeader','accept',_0x521ad1),_0xfd645d['_suggestionFactory']['registerCustomCallback']('formatBlock','setTableColumnHeader','accept',_0x521ad1),this['editor']['editing']['downcastDispatcher']['on']('addMarker:suggestion',_0x27da30(),{'priority':'highest'}),this['editor']['data']['downcastDispatcher']['on']('addMarker:suggestion',(_0x259ed6,_0x2376f3,_0xb80207)=>{_0xb80207['options']['showSuggestionHighlights']&&_0x27da30({'showActiveMarker':!0x1,'setDataAttribute':!0x1})(_0x259ed6,_0x2376f3,_0xb80207);},{'priority':'highest'}),this['editor']['editing']['downcastDispatcher']['on']('removeMarker:suggestion',(_0x1dbef3,_0x2f6bfc,_0xe59d68)=>{const {type:_0x2a6246,id:_0x34869e}=_0xfd645d['_splitMarkerName'](_0x2f6bfc['markerName']),_0x5e3127=_0xfd645d['getSuggestion'](_0x34869e),_0x29614b=_0x5e3127['data'];if('formatBlock'!=_0x5e3127['type']||!_0x29614b||'setTableColumnHeader'!=_0x29614b['commandName'])return;const _0x244a61=_0xe59d68['mapper']['markerNameToElements'](_0x2f6bfc['markerName']);if(_0x244a61){for(const _0x3b37cd of _0x244a61)_0xe59d68['writer']['removeClass']('ck-suggestion-marker-'+_0x2a6246,_0x3b37cd),_0xe59d68['writer']['removeClass']('ck-suggestion-marker--active',_0x3b37cd),_0xe59d68['writer']['removeAttribute']('data-suggestion',_0x3b37cd),_0xe59d68['mapper']['unbindElementFromMarkerName'](_0x3b37cd,_0x2f6bfc['markerName']);}},{'priority':'highest'}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x183147=this['editor'],_0x29fea8=_0x183147['locale'];function _0x2c0780(_0xf0307e){return{'type':'format','content':o(_0x29fea8,'*Format:*\x20%0',_0xf0307e)};}_0x183147['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x364b95=>{if('formatBlock'!=_0x364b95['type'])return;const {data:_0x4e874e}=_0x364b95;if(_0x4e874e){if('setTableRowHeader'==_0x4e874e['commandName']){const _0xbf6e0c=_0x4e874e['commandParams'][0x0]['forceValue'];return _0x2c0780(o(_0x29fea8,_0xbf6e0c?'FORMAT_HEADER_ROW':'FORMAT_REGULAR_ROW'));}if('setTableColumnHeader'==_0x4e874e['commandName']){const _0x513d5d=_0x4e874e['commandParams'][0x0]['forceValue'];return _0x2c0780(o(_0x29fea8,_0x513d5d?'FORMAT_HEADER_COLUMN':'FORMAT_REGULAR_COLUMN'));}}});}}const we=['tableCellBorderWidth','tableCellBorderColor','tableCellBorderStyle','tableCellHorizontalAlignment','tableCellVerticalAlignment','tableCellBackgroundColor','tableCellPadding'],ve=Object['fromEntries'](we['map'](_0x394ec8=>[_0x394ec8,null]));class Nt extends _0x776735{static get['requires'](){return[vt];}['afterInit'](){const _0x5f1cc8=this['editor'];if(!_0x5f1cc8['plugins']['has']('TableClipboard'))return;const _0x391b89=_0x5f1cc8['plugins']['get']('TrackChangesEditing'),_0x2dc0cd=_0x5f1cc8['plugins']['get']('TableUtils'),_0x3d4f5e=_0x5f1cc8['plugins']['get'](vt),_0x29a67f=_0x5f1cc8['plugins']['get']('TableClipboard');_0x3d4f5e['_tablePostFixingSubtypes']['push']('tablePasteRow','tablePasteColumn'),_0x5f1cc8['model']['schema']['register']('tableCellSuggestion',{'allowIn':'tableCell','allowContentOf':'tableCell','isLimit':!0x0}),_0x5f1cc8['conversion']['elementToElement']({'model':'tableCellSuggestion','view':'suggestion-td'});let _0x1ff187=null;_0x5f1cc8['model']['on']('insertContent',(_0x570ab8,_0x41c64a)=>{const [_0x387c1f,_0x3a8269]=_0x41c64a,_0x445c59=_0x41c64a[_0x41c64a['length']-0x1];_0x445c59&&_0x445c59['forceDefaultExecution']||_0x391b89['_isForcedDefaultExecutionBlock']||this['editor']['commands']['get']('trackChanges')['value']&&function(_0x4f66ac,_0x50c560,_0x42b718,_0x42dc20,_0x230efc){if(_0x50c560&&!_0x50c560['is']('documentSelection'))return!0x1;const _0x53c452=_0x230efc['getTableIfOnlyTableInContent'](_0x4f66ac,_0x42b718);if(!_0x53c452||!Ae(_0x53c452,void 0x0,_0x42dc20))return!0x1;const _0x305289=_0x42dc20['getSelectionAffectedTableCells'](_0x42b718['document']['selection']);if(!_0x305289['length'])return!0x1;const _0x3d92ba=_0x305289[0x0]['findAncestor']('table'),_0x212acc=_0x42dc20['getRowIndexes'](_0x305289),_0xee5686=_0x42dc20['getColumnIndexes'](_0x305289),_0x3e748={'startRow':_0x212acc['first'],'endRow':_0x212acc['last'],'startColumn':_0xee5686['first'],'endColumn':_0xee5686['last']};return 0x1==_0x305289['length']&&(_0x3e748['endRow']+=_0x42dc20['getRows'](_0x53c452)-0x1,_0x3e748['endColumn']+=_0x42dc20['getColumns'](_0x53c452)-0x1),Ae(_0x3d92ba,_0x3e748,_0x42dc20);}(_0x387c1f,_0x3a8269,_0x5f1cc8['model'],_0x2dc0cd,_0x29a67f)&&(_0x570ab8['stop'](),_0x1ff187={'cells':[],'insertionRanges':[],'deletionRanges':[],'rowInsertionRanges':[],'rowInsertionIndexes':[],'columnInsertionRanges':[],'columnInsertionIndexes':[]},_0x5f1cc8['model']['change'](()=>{_0x5f1cc8['model']['insertContent'](_0x41c64a[0x0],_0x41c64a[0x1],_0x41c64a[0x2],{'forceDefaultExecution':!0x0});const _0x383667=_0x188e81(),{rowInsertionRanges:_0x2264b8,columnInsertionRanges:_0x55e6a8,insertionRanges:_0x42a8a6,deletionRanges:_0x8884a,cells:_0x4d4c8f}=_0x1ff187;_0x2264b8['length']&&_0x391b89['markMultiRangeInsertion'](_0x2264b8,'tablePasteRow',{'tablePasteChainId':_0x383667}),_0x55e6a8['length']&&_0x391b89['markMultiRangeInsertion'](_0x55e6a8,'tablePasteColumn',{'tablePasteChainId':_0x383667}),_0x42a8a6['length']&&(_0x391b89['markMultiRangeInsertion'](_0x42a8a6,'tablePaste',{'tablePasteChainId':_0x383667,'skipNestingCheck':!0x0}),_0x42a8a6['forEach'](_0x2ee370=>_0x2ee370['detach']?.())),_0x8884a['length']&&(_0x391b89['markMultiRangeDeletion'](_0x8884a,'tablePaste',{'tablePasteChainId':_0x383667,'skipNestingCheck':!0x0}),_0x8884a['forEach'](_0x367dc4=>_0x367dc4['detach']?.()));const _0x1e2b86=_0x391b89['markMultiRangeBlockFormat'](_0x4d4c8f['map'](({element:_0x38cc55})=>_0x38cc55),{'formatGroupId':_0x188e81()},[],'tablePasteCell',{'tablePasteChainId':_0x383667});if(_0x1e2b86){const _0x35aeb3=_0x1e2b86['getMarkers'](),_0x5ba0f7=[];for(const {element:_0xa39a65,attributes:_0x37c029}of _0x4d4c8f){if(!_0x37c029)continue;const _0x3d73fc=_0x5f1cc8['model']['createRangeOn'](_0xa39a65),_0x10c481=_0x35aeb3['find'](_0x2afb52=>_0x2afb52['getRange']()['isEqual'](_0x3d73fc));_0x10c481&&_0x5ba0f7['push']([_0x10c481['name'],_0x37c029]);}_0x5ba0f7['length']&&_0x1e2b86['setAttribute']('markerAttributes',Object['fromEntries'](_0x5ba0f7));}_0x1ff187=null;}));},{'priority':_0x9b132b['high']+0xa}),_0x5f1cc8['plugins']['get']('TableClipboard')['on']('_replaceTableSlotCell',(_0x1f369b,_0x38f5a5)=>{const [_0x59a2bc,_0x16cb59,,_0x5a1fbc]=_0x38f5a5;if(!_0x1ff187)return;_0x1f369b['stop']();const _0x27fe25=_0x59a2bc['cell'],_0x207415=_0x16cb59,_0x52f1b0=je(_0x27fe25),_0x26a564=je(_0x207415);_0x1f369b['return']=_0x27fe25;let _0x2b02fa=null,_0x72c7b6=null;if(_0x26a564||_0x52f1b0){if(_0x52f1b0&&!_0x26a564){_0x5a1fbc['remove'](_0x27fe25['getChild'](0x0));for(const _0x5090cb of Array['from'](_0x207415['getChildren']()))_0x5a1fbc['insert'](_0x5090cb,_0x27fe25,'end');const _0x2c7499=_0x1ff187['rowInsertionIndexes']['includes'](_0x59a2bc['row']),_0x1872e0=_0x1ff187['columnInsertionIndexes']['includes'](_0x59a2bc['column']);_0x2c7499||_0x1872e0||(_0x2b02fa=_0xf48340['fromRange'](_0x5a1fbc['createRangeIn'](_0x27fe25)));}else _0x26a564&&!_0x52f1b0&&(_0x72c7b6=_0x5a1fbc['createRangeIn'](_0x27fe25));}else{const _0x4ead2f=_0x5a1fbc['createElement']('tableCellSuggestion'),_0x20529c=_0x5a1fbc['createElement']('tableCellSuggestion');_0x5a1fbc['wrap'](_0x5a1fbc['createRangeIn'](_0x27fe25),_0x20529c),_0x5a1fbc['insert'](_0x4ead2f,_0x27fe25,0x0);for(const _0x5b7524 of Array['from'](_0x207415['getChildren']()))_0x5a1fbc['insert'](_0x5b7524,_0x4ead2f,'end');_0x2b02fa=_0xf48340['fromRange'](_0x5a1fbc['createRangeOn'](_0x4ead2f)),_0x72c7b6=_0xf48340['fromRange'](_0x5a1fbc['createRangeOn'](_0x20529c));}const _0xe39142=Array['from'](_0x207415['getAttributes']())['filter'](([_0x49f7cb])=>we['includes'](_0x49f7cb));_0x1ff187['cells']['push']({'element':_0x27fe25,'attributes':_0xe39142['length']?Object['fromEntries'](_0xe39142):null}),_0x2b02fa&&_0x1ff187['insertionRanges']['push'](_0x2b02fa),_0x72c7b6&&_0x1ff187['deletionRanges']['push'](_0x72c7b6);},{'priority':'high'}),_0x2dc0cd['on']('insertColumns',(_0x44942e,_0x2ed74f)=>{const [_0x168ce6,_0x33aaf8={}]=_0x2ed74f;if(!_0x1ff187)return;const _0x53f5f3=_0x33aaf8['at']||0x0,_0x236b9e=_0x33aaf8['columns']||0x1;_0x1ff187['columnInsertionIndexes']=new Array(_0x236b9e)['fill'](_0x53f5f3)['map']((_0x121c85,_0x103243)=>_0x121c85+_0x103243);for(const {cell:_0x4cd079}of _0x2dc0cd['createTableWalker'](_0x168ce6,{'startColumn':_0x53f5f3,'endColumn':_0x53f5f3+_0x236b9e-0x1}))_0x1ff187['columnInsertionRanges']['push'](_0x5f1cc8['model']['createRangeOn'](_0x4cd079));},{'priority':'low'}),_0x2dc0cd['on']('insertRows',(_0x150144,_0x654367)=>{const [_0x5131b2,_0x1108c1={}]=_0x654367;if(!_0x1ff187)return;const _0x1b3388=_0x1108c1['at']||0x0,_0x5dd2cc=_0x1108c1['rows']||0x1;_0x1ff187['rowInsertionIndexes']=new Array(_0x5dd2cc)['fill'](_0x1b3388)['map']((_0x5b6a11,_0xf79719)=>_0x5b6a11+_0xf79719);for(const {cell:_0x41e026}of _0x2dc0cd['createTableWalker'](_0x5131b2,{'startRow':_0x1b3388,'endRow':_0x1b3388+_0x5dd2cc-0x1}))_0x1ff187['rowInsertionRanges']['push'](_0x5f1cc8['model']['createRangeOn'](_0x41e026));},{'priority':'low'}),_0x391b89['descriptionFactory']['registerDescriptionCallback'](_0x13df74=>{if(_0x13df74['subType']&&_0x13df74['subType']['startsWith']('tablePaste'))return _0x13df74['previous']?{}:{'type':'insertion','content':o(_0x5f1cc8['locale'],'*Replace\x20table\x20cells*')};});const _0x1e3d60=()=>!0x1;for(const _0x61fa7 of['tablePaste','tablePasteColumn','tablePasteRow','tablePasteCell'])_0x391b89['_suggestionFactory']['registerCustomCallback']('insertion',_0x61fa7,'join',_0x1e3d60),_0x391b89['_suggestionFactory']['registerCustomCallback']('deletion',_0x61fa7,'join',_0x1e3d60),_0x391b89['_suggestionFactory']['registerCustomCallback']('formatBlock',_0x61fa7,'join',_0x1e3d60);_0x391b89['_suggestionFactory']['registerCustomCallback']('formatBlock','tablePasteCell','discard',_0x1e3d60),_0x391b89['_suggestionFactory']['registerCustomCallback']('formatBlock','tablePasteCell','accept',(_0x13e675,_0x36d60d,_0x8760eb)=>{const _0x2da975=_0x13e675['map'](_0x5a8503=>_0x5a8503['getContainedElement']())['filter'](_0x1a4eb8=>_0x1a4eb8),_0x194f70=new Map(_0x2da975['map'](_0x1bafa9=>[_0x1bafa9,null]));if(_0x1ff187){for(const {element:_0x38a2fc,attributes:_0x1c0811}of _0x1ff187['cells'])_0x1c0811&&_0x194f70['set'](_0x38a2fc,_0x1c0811);}else{if(_0x8760eb&&_0x8760eb['markerAttributes'])for(const [_0x8e5302,_0x4238e1]of Object['entries'](_0x8760eb['markerAttributes'])){const _0x239689=_0x5f1cc8['model']['markers']['get'](_0x8e5302),_0x66126=_0x239689?_0x239689['getRange']()['getContainedElement']():null;_0x66126&&_0x194f70['set'](_0x66126,_0x4238e1);}}_0x5f1cc8['model']['change'](_0x351f2f=>{for(const [_0x14cbfe,_0x2a88cf]of _0x194f70)_0x351f2f['setAttributes']({...ve,..._0x2a88cf},_0x14cbfe);});});const _0x3702a6=(_0x4aaf7a,_0x2e47be)=>{_0x391b89['_suggestionFactory']['registerCustomCallback'](_0x4aaf7a,'tablePaste',_0x2e47be,(_0x85f9eb,_0x464d5d,_0x4371df)=>{_0x5f1cc8['model']['change'](_0xbfe986=>{const _0x20204f=[];for(const _0x102d43 of _0x85f9eb){const _0x24acb0=_0x102d43['start']['nodeAfter'];_0x24acb0['is']('element','tableCellSuggestion')&&_0x20204f['push'](_0x24acb0);}_0x391b89['_suggestionFactory']['getSuggestionCallback'](_0x4aaf7a,null,_0x2e47be)(_0x85f9eb,_0x464d5d,_0x4371df);for(const _0x2a0e7b of _0x20204f)'$graveyard'!=_0x2a0e7b['root']['rootName']&&_0xbfe986['unwrap'](_0x2a0e7b);});});};_0x3702a6('insertion','accept'),_0x3702a6('insertion','discard'),_0x3702a6('deletion','accept'),_0x3702a6('deletion','discard'),_0x391b89['_suggestionFactory']['registerCustomCallback']('insertion','tablePasteRow','discard',_0x24e853=>{const _0x3cadce=_0x24e853['map'](_0x1f86f9=>_0x1f86f9['getContainedElement']()),_0x336322=_0x3cadce[0x0]['findAncestor']('table'),{minRow:_0x546ba7,maxRow:_0x4c722f}=_0x3d4f5e['_getCoordsForCells'](_0x3cadce);_0x2dc0cd['removeRows'](_0x336322,{'at':_0x546ba7,'rows':_0x4c722f-_0x546ba7+0x1});}),_0x391b89['_suggestionFactory']['registerCustomCallback']('insertion','tablePasteColumn','discard',_0x5c14ba=>{const _0x34fc06=_0x5c14ba['map'](_0x55b8c8=>_0x55b8c8['getContainedElement']()),_0x1688de=_0x34fc06[0x0]['findAncestor']('table'),{minColumn:_0x4d1426,maxColumn:_0x23b395}=_0x3d4f5e['_getCoordsForCells'](_0x34fc06);_0x2dc0cd['removeColumns'](_0x1688de,{'at':_0x4d1426,'columns':_0x23b395-_0x4d1426+0x1});});const _0x5d6ba2=(_0x5b7921,_0x41d1f4)=>{if(!_0x41d1f4['subType']||!_0x41d1f4['subType']['startsWith']('tablePaste'))return;const _0x5cba67=_0x41d1f4['attributes']['tablePasteChainId'],_0x270538=_0x391b89['getSuggestions']()['filter'](_0xb5c26e=>_0xb5c26e['isInContent']&&_0xb5c26e['attributes']&&_0xb5c26e['attributes']['tablePasteChainId']==_0x5cba67);_0x270538['length']&&_0x41d1f4['getAllAdjacentSuggestions']()['length']!=_0x270538['length']&&_0x270538['reduce']((_0x40f919,_0x2e1c9f)=>(_0x40f919['next']=_0x2e1c9f,_0x2e1c9f['previous']=_0x40f919,_0x2e1c9f));};function _0x1b1eb9(_0x513b31,_0x159636=!0x0){const {id:_0x5a7ea1,authorId:_0x1b9e99}=_0x391b89['_splitMarkerName'](_0x513b31['markerName']),_0x4c5b12=['ck-suggestion-marker','ck-suggestion-marker-insertion'],_0x57000a=_0x391b89['activeMarkers']['includes'](_0x513b31['markerName']);return _0x57000a&&_0x4c5b12['push']('ck-suggestion-marker--active'),{'classes':_0x4c5b12,'attributes':{'data-suggestion':_0x5a7ea1,'data-author-id':_0x1b9e99},'priority':_0x57000a&&_0x159636?0xbc2:0xbb8};}_0x391b89['on']('suggestionLoaded',_0x5d6ba2,{'priority':'high'}),_0x391b89['on']('suggestionUnloaded',_0x5d6ba2,{'priority':'high'}),_0x5f1cc8['model']['document']['registerPostFixer'](()=>{let _0x5b7283=!0x1;const _0x1cbeb4=Array['from'](_0x5f1cc8['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x21eefd,data:_0x86a9dc}of _0x1cbeb4){const {group:_0x1d829c,type:_0x3b1207,id:_0x5e5e15}=_0x391b89['_splitMarkerName'](_0x21eefd);if('suggestion'!=_0x1d829c||'deletion'!=_0x3b1207||_0x86a9dc['oldRange'])continue;if(!_0x391b89['hasSuggestion'](_0x5e5e15))continue;const _0x357cc7=_0x391b89['getSuggestion'](_0x5e5e15)['getRanges'](),_0x58471e=_0x5f1cc8['plugins']['get']('Users')['me'];for(const _0xd2546a of _0x391b89['getSuggestions']()){if(!_0xd2546a['isInContent']||_0xd2546a['author']!=_0x58471e)continue;if('formatBlock'!=_0xd2546a['type']||'tablePasteCell'!=_0xd2546a['subType'])continue;if(_0xd2546a['getRanges']()['every'](_0x5c4f48=>_0x357cc7['some'](_0x243c1d=>_0x243c1d['containsRange'](_0x5c4f48,!0x0)))){for(const _0x23d5c2 of _0xd2546a['getAllAdjacentSuggestions']())_0x23d5c2['isInContent']&&(_0x23d5c2['discard'](),_0x5b7283=!0x0);}}}return _0x5b7283;}),_0x5f1cc8['model']['document']['registerPostFixer'](_0x27333e=>{const _0x2ec5fe=_0x5f1cc8['commands']['get']('redo');if(!_0x2ec5fe||!_0x2ec5fe['_createdBatches']['has'](_0x27333e['batch']))return!0x1;let _0x69e5ab=!0x1;const _0x85cff2=_0x5f1cc8['plugins']['get']('Users')['me'],_0x524d52=_0x5f1cc8['model']['document']['differ']['getChanges'](),_0xc7092b=Array['from'](_0x5f1cc8['model']['document']['differ']['getChangedMarkers']())['filter'](({name:_0x2ae424,data:_0x1dd6f8})=>{const {group:_0x213a1b,subType:_0x5bbb54,authorId:_0x2151d7}=_0x391b89['_splitMarkerName'](_0x2ae424);return'suggestion'==_0x213a1b&&'tablePaste'==_0x5bbb54&&_0x2151d7==_0x85cff2['id']&&!_0x1dd6f8['oldRange'];});for(const _0x21991d of _0x524d52){if('insert'!=_0x21991d['type']||'tableCellSuggestion'!=_0x21991d['name']||0x1!=_0x21991d['length'])continue;const _0x3f6047=_0x27333e['createRange'](_0x21991d['position'],_0x21991d['position']['getShiftedBy'](0x1));if(!_0xc7092b['find'](({data:_0x27c563})=>_0x27c563['newRange']['isEqual'](_0x3f6047))){for(const {name:_0x362238,data:_0x15c8e9}of _0xc7092b)if(_0x3f6047['containsRange'](_0x15c8e9['newRange'])){_0x27333e['updateMarker'](_0x362238,{'range':_0x3f6047}),_0x69e5ab=!0x0;break;}}}return _0x69e5ab;}),_0x5f1cc8['model']['document']['registerPostFixer'](_0x31f3ff=>{let _0x533bf0=!0x1;const _0x3fdc50=_0x5f1cc8['plugins']['get']('Users')['me'],_0x147862=_0x391b89['getSuggestions']()['filter'](_0x4e0d77=>_0x4e0d77['isInContent']&&_0x4e0d77['author']==_0x3fdc50),_0x28a2c1=new Set(),_0x24f068=new Set();for(const _0x15fd04 of _0x147862)if('tablePaste'==_0x15fd04['subType'])for(const _0xd35179 of _0x15fd04['getMarkers']()){const _0x112677=_0xd35179['getRange']()['getContainedElement']();if(_0x112677){if(_0x112677['is']('element','tableCellSuggestion')&&je(_0x112677)){_0x15fd04['removeMarker'](_0xd35179['name']),_0x28a2c1['add'](_0x112677),_0x533bf0=!0x0;const _0x5b16ae=_0x112677['nextSibling'],_0xc951fc=_0x112677['previousSibling'],_0x27f6bb=_0x5b16ae&&_0x5b16ae['is']('element','tableCellSuggestion'),_0x5955d9=_0xc951fc&&_0xc951fc['is']('element','tableCellSuggestion');_0x27f6bb&&!_0x28a2c1['has'](_0x5b16ae)&&_0x24f068['add'](_0x5b16ae),_0x5955d9&&!_0x28a2c1['has'](_0xc951fc)&&_0x24f068['add'](_0xc951fc);}else _0x112677['is']('element','paragraph')&&_0x112677['isEmpty']&&(_0x15fd04['removeMarker'](_0xd35179['name']),_0x533bf0=!0x0);}}else{if('tablePasteCell'==_0x15fd04['subType']){if(!_0x15fd04['attributes']||!_0x15fd04['attributes']['tablePasteChainId'])continue;const _0x46052c=_0x15fd04['attributes']['markerAttributes'];if(_0x46052c&&Object['keys'](_0x46052c)['length'])continue;const _0x400357=_0x15fd04['attributes']['tablePasteChainId'];let _0x3b3ca2=!0x0,_0x2ded10=!0x0;for(const _0x332759 of _0x147862)if(_0x332759['subType']&&_0x332759['subType']['startsWith']('tablePaste')){if(!_0x332759['attributes']['tablePasteChainId']){_0x2ded10=!0x1;break;}if(_0x332759['id']!=_0x15fd04['id']&&_0x332759['attributes']['tablePasteChainId']==_0x400357){_0x3b3ca2=!0x1;break;}}_0x2ded10&&_0x3b3ca2&&(_0x15fd04['removeMarkers'](),_0x533bf0=!0x0);}}for(const _0x1a4029 of _0x28a2c1)_0x31f3ff['remove'](_0x1a4029);for(const _0x9dcbe8 of _0x24f068)_0x31f3ff['unwrap'](_0x9dcbe8);return _0x533bf0;}),_0x5f1cc8['conversion']['for']('editingDowncast')['markerToHighlight']({'model':'suggestion:formatBlock:tablePasteCell','view':_0x429340=>_0x1b1eb9(_0x429340),'converterPriority':'high'}),_0x5f1cc8['conversion']['for']('dataDowncast')['markerToHighlight']({'model':'suggestion:formatBlock:tablePasteCell','view':(_0x3310b6,_0x164ff5)=>_0x164ff5['options']['showSuggestionHighlights']?_0x1b1eb9(_0x3310b6,!0x1):null,'converterPriority':'high'});const _0x304a34=_0x5f1cc8['editing']['view'];this['listenTo'](_0x304a34['document'],'clipboardOutput',(_0x41d117,_0x250872)=>{const _0x39b071=[];for(const _0x41421f of _0x304a34['createRangeIn'](_0x250872['content'])['getItems']())_0x41421f['is']('element','suggestion-td')&&_0x39b071['push'](_0x41421f);_0x304a34['change'](_0x2fcce9=>{for(const _0x1a85e5 of _0x39b071)_0x2fcce9['move'](_0x2fcce9['createRangeIn'](_0x1a85e5),_0x2fcce9['createPositionBefore'](_0x1a85e5)),_0x2fcce9['remove'](_0x1a85e5);});});}}function je(_0x2d3fef){if(_0x2d3fef['isEmpty'])return!0x0;const _0x5f4f2e=_0x2d3fef['getChild'](0x0);return _0x5f4f2e['is']('element','paragraph')&&_0x5f4f2e['isEmpty'];}function Ae(_0x5c90cd,_0x8d7d2c={},_0x4c8768){for(const {isAnchor:_0x379c30,cellHeight:_0x393953,cellWidth:_0x4a621e}of _0x4c8768['createTableWalker'](_0x5c90cd,{'includeAllSlots':!0x0,..._0x8d7d2c}))if(!_0x379c30||0x1!=_0x393953||0x1!=_0x4a621e)return!0x1;return!0x0;}class Dt extends _0x776735{['afterInit'](){if(!this['editor']['plugins']['has']('TableColumnResizeEditing'))return;const _0x1c3c99=this['editor']['plugins']['get']('TrackChangesEditing');_0x1c3c99['enableCommand']('resizeTableWidth',this['handleResizeTableWidthCommand']['bind'](this)),_0x1c3c99['_suggestionFactory']['registerCustomCallback']('formatBlock','resizeTable','accept',_0x1c3c99['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x1c3c99['_suggestionFactory']['registerCustomCallback']('formatBlock','resizeTable','discard',_0x1c3c99['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'accept')),_0x1c3c99['descriptionFactory']['registerDescriptionCallback'](this['handleSuggestionDescription']['bind'](this));}['handleResizeTableWidthCommand'](_0x456d29,_0x1015c3){const _0x1707d6=this['editor']['plugins']['get']('TrackChangesEditing'),_0x2ab61a=this['editor']['plugins']['get']('TableColumnResizeEditing'),_0x1743fc=_0x1015c3['table']||this['editor']['model']['document']['selection']['getSelectedElement']();this['editor']['model']['change'](()=>{const _0x67a3c7=_0x2ab61a['getColumnGroupElement'](_0x1743fc);let _0x119d63=_0x67a3c7?_0x2ab61a['getTableColumnsWidths'](_0x67a3c7):null,_0x2056a3=_0x1743fc['getAttribute']('tableWidth')||null;const _0x43ce04=_0x1015c3['tableWidth']||_0x2056a3,_0x563215=_0x1015c3['columnWidths']||_0x119d63,_0x4e1a22=this['editor']['plugins']['get']('Users')['me'];for(const _0x32eb7c of _0x1707d6['getSuggestions']()){const _0xcca17c=_0x32eb7c['getContainedElement']();if('resizeTable'===_0x32eb7c['subType']&&_0xcca17c===_0x1743fc){_0x32eb7c['author']!==_0x4e1a22&&_0x32eb7c['discard']();const _0x398a7d=_0x32eb7c['data']['commandParams'];_0x2056a3=_0x398a7d[0x0]['tableWidth'],_0x119d63=_0x398a7d[0x0]['columnWidths'];break;}}_0x456d29({'table':_0x1743fc,'tableWidth':_0x43ce04,'columnWidths':_0x563215}),_0x1707d6['markBlockFormat'](_0x1743fc,{'commandName':'resizeTableWidth','commandParams':[{'tableWidth':_0x2056a3,'columnWidths':_0x119d63}],'formatGroupId':'resizeTable'},[],'resizeTable');});}['handleSuggestionDescription'](_0x4b165d){if('formatBlock'!=_0x4b165d['type']&&'formatInline'!=_0x4b165d['type'])return;const {data:_0x661954}=_0x4b165d;if(_0x661954&&'resizeTable'===_0x661954['formatGroupId']){const _0x45f02d='*Format:*\x20resize\x20table';return{'type':'format','content':o(this['editor']['locale'],_0x45f02d)};}}}class Mt extends _0x776735{['afterInit'](){const _0x36447f=this['editor'];_0x36447f['plugins']['has']('Template')&&_0x36447f['plugins']['get']('TrackChangesEditing')['enableCommand']('insertTemplate');}}class $t extends _0x776735{['afterInit'](){const _0x302cb4=this['editor'];if(!_0x302cb4['commands']['get']('insertTableOfContents'))return;_0x302cb4['plugins']['get']('TrackChangesEditing')['enableCommand']('insertTableOfContents');const _0x9caa01=_0x302cb4['plugins']['get']('TrackChangesEditing'),_0x5b7456=_0x302cb4['locale'];_0x9caa01['descriptionFactory']['registerElementLabel']('tableOfContents',_0x33dd29=>o(_0x5b7456,'ELEMENT_TABLE_OF_CONTENTS',_0x33dd29));}}class Bt extends _0x776735{['afterInit'](){const _0x47968e=this['editor'];if(!_0x47968e['plugins']['has']('Title'))return;const _0x177628=_0x47968e['plugins']['get']('TrackChangesEditing');_0x177628['descriptionFactory']['registerElementLabel']('title-content',()=>o(_0x47968e['locale'],'ELEMENT_TITLE')),_0x47968e['model']['document']['registerPostFixer'](_0xb1ec5b=>{let _0xeaafc0=!0x1;const _0x1bc83f=Array['from'](_0x47968e['model']['document']['differ']['getChangedMarkers']());for(const {name:_0xc75f50,data:_0x50c043}of _0x1bc83f){const {group:_0x2c5c87}=_0x177628['_splitMarkerName'](_0xc75f50);if('suggestion'!==_0x2c5c87||!_0x50c043['newRange'])continue;const _0x26a34e=_0x50c043['newRange'],_0x2ee55b=_0x26a34e['end']['nodeBefore'];if(!_0x2ee55b||!_0x2ee55b['is']('element','title-content'))continue;if(!_0x26a34e['start']['isTouching'](_0x26a34e['end']))continue;const _0xf453c2=_0x47968e['model']['schema']['getNearestSelectionRange'](_0x26a34e['end'],'forward');if(_0xf453c2&&_0xf453c2['isCollapsed']){const _0x2dca7e=_0xb1ec5b['createRange'](_0x26a34e['start'],_0xf453c2['start']);_0x2dca7e['isEqual'](_0x26a34e)||(_0xb1ec5b['updateMarker'](_0xc75f50,{'range':_0x2dca7e}),_0xeaafc0=!0x0);}_0xeaafc0||(_0xb1ec5b['removeMarker'](_0xc75f50),_0xeaafc0=!0x0);}return _0xeaafc0;});}}class Ot extends _0x776735{['afterInit'](){const _0x540fc3=this['editor'],_0x3a67c3=_0x540fc3['plugins']['get']('TrackChangesEditing');_0x540fc3['plugins']['has']('UndoEditing')&&(_0x3a67c3['enableCommand']('undo'),_0x3a67c3['enableCommand']('redo'));}}class Rt extends _0x776735{static get['requires'](){return[vt];}['afterInit'](){const _0x52c479=this['editor'];if(!_0x52c479['plugins']['has']('TableCaptionEditing'))return;_0x52c479['plugins']['get']('TrackChangesEditing')['enableCommand']('toggleTableCaption');}}class Tt extends _0x776735{['tableProperties'];['tableCellProperties'];constructor(_0x3a8580){super(_0x3a8580),this['tableProperties']=['tableBorderColor','tableBorderStyle','tableBorderWidth','tableAlignment','tableWidth','tableHeight','tableBackgroundColor'],this['tableCellProperties']=['tableCellBorderColor','tableCellBorderStyle','tableCellBorderWidth','tableCellPadding','tableCellWidth','tableCellHeight','tableCellBackgroundColor','tableCellHorizontalAlignment','tableCellVerticalAlignment'];}static get['pluginName'](){return'TrackChangesTableProperties';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}['afterInit'](){const _0x37cc1b=this['editor']['plugins']['get']('TrackChangesEditing');if(this['editor']['plugins']['has']('TablePropertiesEditing')){for(const _0x1fd01c of this['tableProperties'])_0x37cc1b['enableCommand'](_0x1fd01c,(_0xfc45f8,_0x251459)=>{const _0x56e1c3=this['editor']['model']['document']['selection']['getFirstPosition']()['findAncestor']('table');this['_handlePropertyChange'](_0x1fd01c,[_0x56e1c3],this['tableProperties'],'tableProperties',_0xfc45f8,_0x251459);});_0x37cc1b['_suggestionFactory']['registerCustomCallback']('formatBlock','tableProperties','accept',_0x37cc1b['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x37cc1b['_suggestionFactory']['registerCustomCallback']('formatBlock','tableProperties','discard',(_0x4b6683,_0x462044)=>this['handleDiscardAction'](this['tableProperties'],_0x4b6683,_0x462044)),_0x37cc1b['_suggestionFactory']['registerCustomCallback']('formatBlock','tableProperties','join',()=>!0x1);}if(this['editor']['plugins']['has']('TableCellPropertiesEditing')){for(const _0x3a2d24 of this['tableCellProperties'])_0x37cc1b['enableCommand'](_0x3a2d24,(_0x19ffac,_0x141bc2)=>{const _0x5bbc68=this['editor']['plugins']['get']('TableUtils')['getSelectionAffectedTableCells'](this['editor']['model']['document']['selection']);this['_handlePropertyChange'](_0x3a2d24,_0x5bbc68,this['tableCellProperties'],'tableCellProperties',_0x19ffac,_0x141bc2);});_0x37cc1b['_suggestionFactory']['registerCustomCallback']('formatBlock','tableCellProperties','accept',_0x37cc1b['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x37cc1b['_suggestionFactory']['registerCustomCallback']('formatBlock','tableCellProperties','discard',(_0x5b31ca,_0x270059)=>this['handleDiscardAction'](this['tableCellProperties'],_0x5b31ca,_0x270059)),_0x37cc1b['_suggestionFactory']['registerCustomCallback']('formatBlock','tableCellProperties','join',()=>!0x1);}_0x37cc1b['descriptionFactory']['registerDescriptionCallback'](_0x15e9fb=>this['handleSuggestionDescription'](_0x15e9fb));}['_handlePropertyChange'](_0x2bbcfd,_0x4aaff6,_0x28d1f4,_0x1e514a,_0x2ac82a,_0x3bff82){const _0x378077=this['editor']['plugins']['get']('TrackChangesEditing');this['editor']['model']['enqueueChange'](_0x3bff82['batch'],()=>{for(const _0x208100 of _0x4aaff6){if(this['_getSuggestion'](_0x208100,_0x1e514a))_0x2ac82a(_0x3bff82);else{const _0x3c6ddf={};for(const _0x3c9262 of _0x28d1f4){const _0x116203=_0x208100['getAttribute'](_0x3c9262);void 0x0!==_0x116203&&(_0x3c6ddf[_0x3c9262]=_0x116203);}_0x2ac82a(_0x3bff82),_0x378077['markBlockFormat'](_0x208100,{'commandParams':[_0x3c6ddf]},[],_0x1e514a);}}});}['handleDiscardAction'](_0x39cdc9,_0x5bc44c,_0x13080c){const _0x1df362=_0x5bc44c[0x0]['start']['nodeAfter'],_0x4f53fb=_0x13080c['commandParams'][0x0];this['editor']['model']['change'](_0xfd81d4=>{for(const _0x10a657 of _0x39cdc9)void 0x0!==_0x4f53fb[_0x10a657]?_0xfd81d4['setAttribute'](_0x10a657,_0x4f53fb[_0x10a657],_0x1df362):_0xfd81d4['removeAttribute'](_0x10a657,_0x1df362);});}['handleSuggestionDescription'](_0x264a38){if(_0x264a38['data'])switch(_0x264a38['subType']){case'tableProperties':return{'type':'format','content':o(this['editor']['locale'],'*Format:*\x20change\x20table\x20properties')};case'tableCellProperties':return{'type':'format','content':o(this['editor']['locale'],'*Format:*\x20change\x20table\x20cell\x20properties')};}}['_getSuggestion'](_0x3aca97,_0xc51bdd){const _0x34503e=this['editor']['plugins']['get']('TrackChangesEditing');for(const _0xc7a901 of _0x34503e['getSuggestions']({'skipNotAttached':!0x0})){const _0xf292e7=_0xc7a901['getContainedElement']();if(_0xc7a901['subType']===_0xc51bdd&&_0xf292e7===_0x3aca97)return _0xc7a901;}return null;}}const m='$elementName';class p extends _0x776735{['descriptionFactory'];['trackChangesCommand'];['_adapter'];['_suggestionFactory'];['_suggestions'];['_commentsRepository'];['_enabledCommands'];['_model'];['_suggestionState'];['_isForcedDefaultExecutionBlock'];['_trackFormatChanges'];['_mergeNestedSuggestions'];['_blockAttributeKeys'];['_inlineAttributeKeys'];['_recordAttributeSuggestions']=!0x1;static get['requires'](){return['CommentsRepository',_0x5b4b64,_0xa67480,U,V,G,F,L,H,J,q,z,K,X,Y,Z,tt,nt,it,et,st,ot,at,rt,ct,ut,ft,lt,Q,wt,ht,W,ye,dt,mt,pt,kt,bt,yt,jt,St,At,It,vt,_t,Ct,Rt,Nt,Dt,$t,Tt,Mt,Bt,Ot];}static get['pluginName'](){return'TrackChangesEditing';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}constructor(_0x3afd58){super(_0x3afd58),this['set']('activeMarkers',[]),this['on']('change:activeMarkers',(_0x33d871,_0x5289cd,_0x1c1645,_0x2b186a)=>{this['_model']['change'](()=>{for(const _0x4b0641 of[..._0x2b186a,..._0x1c1645])this['_model']['markers']['has'](_0x4b0641)&&_0x3afd58['editing']['reconvertMarker'](_0x4b0641);});}),this['descriptionFactory']=new f(this['editor']['model']['schema'],this['editor']['locale']),this['_adapter']=null,this['_suggestionFactory']=new Et(this['editor']),this['_suggestions']=new Map(),this['_commentsRepository']=_0x3afd58['plugins']['get']('CommentsRepository'),this['_enabledCommands']=new Set(),this['_model']=this['editor']['model'],this['_suggestionState']=new WeakMap(),this['_isForcedDefaultExecutionBlock']=!0x1,this['_blockAttributeKeys']=new Set([m]),this['_inlineAttributeKeys']=new Set(),_0x3afd58['config']['define']('trackChanges.trackFormatChanges','default'),this['_trackFormatChanges']=_0x3afd58['config']['get']('trackChanges.trackFormatChanges'),_0x3afd58['config']['define']('trackChanges.mergeNestedSuggestions',!0x0),this['_mergeNestedSuggestions']=_0x3afd58['config']['get']('trackChanges.mergeNestedSuggestions'),this['trackChangesCommand']=new B(_0x3afd58,this['_enabledCommands']),this['_initAriaMarkerChangeAnnouncements']();}['init'](){const _0x31bb75=this['editor'],_0x583e83=(_0x55cdf8,_0x8fed8b)=>{if('attribute'!=_0x55cdf8)return'ck-suggestion-marker-'+_0x55cdf8;const _0x1c8b87=_0x8fed8b['split']('|')[0x0];return this['_isBlockAttribute'](_0x1c8b87)?'ck-suggestion-marker-formatBlock':'ck-suggestion-marker-formatInline';};_0x31bb75['conversion']['for']('editingDowncast')['markerToHighlight']({'model':'suggestion','view':_0x41b5ee=>{const {id:_0x40a974,authorId:_0x53001c,type:_0x121717,subType:_0x1f423b}=this['_splitMarkerName'](_0x41b5ee['markerName']),_0x2f1e82=['ck-suggestion-marker',_0x583e83(_0x121717,_0x1f423b)];let _0x15ca18=0xbb8;return this['activeMarkers']['includes'](_0x41b5ee['markerName'])&&(_0x2f1e82['push']('ck-suggestion-marker--active'),_0x15ca18=0xbc2),'deletion'==_0x121717&&(_0x15ca18+=0x5),{'classes':_0x2f1e82,'attributes':{'data-suggestion':_0x40a974,'data-author-id':_0x53001c},'priority':_0x15ca18};}}),_0x31bb75['conversion']['for']('dataDowncast')['add'](_0x2102f6=>{_0x2102f6['on']('addMarker:suggestion',(_0x3c6532,_0x54785c,_0x3caf9e)=>{if(!_0x3caf9e['options']['showSuggestionHighlights'])return;const _0x26c93d=_0x54785c['item'];if(!_0x26c93d)return;const _0x25d2d0=_0x3caf9e['mapper']['toViewElement'](_0x26c93d);_0x31bb75['model']['schema']['isObject'](_0x26c93d)&&_0x25d2d0&&!_0x25d2d0['getCustomProperty']('widget')&&_0x25d2d0['is']('containerElement')&&_0x469ea3(_0x25d2d0,_0x3caf9e['writer']);},{'priority':'high'});}),_0x31bb75['conversion']['for']('dataDowncast')['markerToHighlight']({'model':'suggestion','view':(_0x34efeb,_0x526c80)=>{if(!_0x526c80['options']['showSuggestionHighlights'])return null;const {type:_0x19406a,subType:_0x3f8f6b}=this['_splitMarkerName'](_0x34efeb['markerName']);return{'classes':['ck-suggestion-marker',_0x583e83(_0x19406a,_0x3f8f6b)],'priority':0xbb8};}});const _0x1ad69e=({showActiveMarkers:_0x330317=!0x0,isAttributeSuggestion:_0xbccaee=!0x1}={})=>(_0x301333,_0x6bd26b,_0x542f3b)=>{if(!_0x6bd26b['item'])return;const {id:_0x3c350f,authorId:_0xeff296}=this['_splitMarkerName'](_0x6bd26b['markerName']);if(_0xbccaee){const _0x2c3584=this['_suggestions']['get'](_0x3c350f),_0x2478b5=this['_getAttributeKey'](_0x2c3584);if(!this['_isBlockAttribute'](_0x2478b5))return;}if(_0x6bd26b['item']['is']('selection'))return void _0x542f3b['consumable']['consume'](_0x6bd26b['item'],_0x301333['name']);const _0x1e173c=_0x542f3b['mapper']['toViewElement'](_0x6bd26b['item']);if(_0x6bd26b['item']['is']('element')&&_0x31bb75['model']['schema']['isBlock'](_0x6bd26b['item'])&&!_0x1e173c['getCustomProperty']('addHighlight')){_0x542f3b['writer']['addClass'](['ck-suggestion-marker','ck-suggestion-marker-formatBlock'],_0x1e173c),_0x542f3b['writer']['setAttribute']('data-suggestion',_0x3c350f,_0x1e173c),_0x542f3b['writer']['setAttribute']('data-author-id',_0xeff296,_0x1e173c),_0x542f3b['mapper']['bindElementToMarker'](_0x1e173c,_0x6bd26b['markerName']),_0x330317&&(this['activeMarkers']['includes'](_0x6bd26b['markerName'])?_0x542f3b['writer']['addClass']('ck-suggestion-marker--active',_0x1e173c):_0x542f3b['writer']['removeClass']('ck-suggestion-marker--active',_0x1e173c));for(const _0x1f28bf of _0x31bb75['model']['createRangeIn'](_0x6bd26b['item'])['getItems']())_0x542f3b['consumable']['consume'](_0x1f28bf,_0x301333['name']);_0x542f3b['consumable']['consume'](_0x6bd26b['item'],_0x301333['name']);}};_0x31bb75['conversion']['for']('dataDowncast')['add'](_0x18c7eb=>{_0x18c7eb['on']('addMarker:suggestion:formatBlock',(_0x1236b2,_0x4d9699,_0x536bd2)=>{_0x536bd2['options']['showSuggestionHighlights']&&_0x1ad69e({'showActiveMarkers':!0x1})(_0x1236b2,_0x4d9699,_0x536bd2);},{'priority':'highest'});}),_0x31bb75['conversion']['for']('dataDowncast')['add'](_0x7dcfab=>{_0x7dcfab['on']('addMarker:suggestion:attribute',(_0xa93c44,_0x41d70e,_0x34bafe)=>{_0x34bafe['options']['showSuggestionHighlights']&&_0x1ad69e({'showActiveMarkers':!0x1,'isAttributeSuggestion':!0x0})(_0xa93c44,_0x41d70e,_0x34bafe);},{'priority':'highest'});}),_0x31bb75['conversion']['for']('dataDowncast')['markerToData']({'model':'suggestion','view':(_0x32b167,_0x1ae6a4)=>_0x1ae6a4['options']['showSuggestionHighlights']?null:{'group':'suggestion','name':_0x32b167['substr'](0xb)}}),_0x31bb75['conversion']['for']('upcast')['elementToElement']({'view':{'name':'suggestion','attributes':{'id':/^\w/,'suggestion-type':/^\w/}},'model':(_0x601566,{writer:_0x274ed0})=>{let _0x2cbc67='suggestion:'+_0x601566['getAttribute']('suggestion-type')+':'+_0x601566['getAttribute']('id');return _0x601566['getAttribute']('marker-count')&&(_0x2cbc67+=':'+_0x601566['getAttribute']('marker-count')),_0x274ed0['createElement']('$marker',{'data-name':_0x2cbc67});}}),_0x31bb75['conversion']['for']('upcast')['dataToMarker']({'view':'suggestion'}),_0x31bb75['conversion']['for']('editingDowncast')['add'](_0x21223a=>{_0x21223a['on']('addMarker:suggestion:formatBlock',_0x1ad69e(),{'priority':'high'});}),_0x31bb75['conversion']['for']('editingDowncast')['add'](_0xe65b40=>{_0xe65b40['on']('addMarker:suggestion:attribute',_0x1ad69e({'isAttributeSuggestion':!0x0}),{'priority':'high'});}),_0x31bb75['conversion']['for']('editingDowncast')['add'](_0x53a999=>{_0x53a999['on']('removeMarker:suggestion:formatBlock',(_0x511b1b,_0x13b43f,_0x3b361b)=>{const _0x4e22f3=_0x3b361b['mapper']['markerNameToElements'](_0x13b43f['markerName']);if(_0x4e22f3){for(const _0x5d96b1 of _0x4e22f3)_0x5d96b1['getCustomProperty']('addHighlight')||(_0x3b361b['writer']['removeClass'](['ck-suggestion-marker','ck-suggestion-marker-formatBlock','ck-suggestion-marker--active'],_0x5d96b1),_0x3b361b['writer']['removeAttribute']('data-suggestion',_0x5d96b1),_0x3b361b['writer']['removeAttribute']('data-author-id',_0x5d96b1),_0x3b361b['mapper']['unbindElementFromMarkerName'](_0x5d96b1,_0x13b43f['markerName']));}},{'priority':'high'});}),_0x31bb75['conversion']['for']('editingDowncast')['add'](_0x386f7a=>{_0x386f7a['on']('removeMarker:suggestion:attribute',(_0x35dafe,_0x2da69f,_0x23b043)=>{const _0x22a02d=_0x23b043['mapper']['markerNameToElements'](_0x2da69f['markerName']);if(!_0x22a02d)return;const {id:_0x29d90e}=this['_splitMarkerName'](_0x2da69f['markerName']),_0x15a60e=this['_suggestions']['get'](_0x29d90e),_0x24e5bf=this['_getAttributeKey'](_0x15a60e);if(this['_isBlockAttribute'](_0x24e5bf)){for(const _0x5c5017 of _0x22a02d)_0x5c5017['getCustomProperty']('addHighlight')||(_0x23b043['writer']['removeClass'](['ck-suggestion-marker','ck-suggestion-marker-formatBlock','ck-suggestion-marker--active'],_0x5c5017),_0x23b043['writer']['removeAttribute']('data-suggestion',_0x5c5017),_0x23b043['writer']['removeAttribute']('data-author-id',_0x5c5017),_0x23b043['mapper']['unbindElementFromMarkerName'](_0x5c5017,_0x2da69f['markerName']));}},{'priority':'high'});}),_0x31bb75['model']['document']['registerPostFixer'](_0x53b9d0=>{let _0x4228bf=!0x1;const _0x13b923=Array['from'](_0x31bb75['model']['document']['differ']['getChangedMarkers']()),_0x420efc=new Set();for(const {name:_0x21ead9,data:_0x1e7790}of _0x13b923){const {group:_0x2a50bb,type:_0x3e9424,subType:_0x4636eb,id:_0x2e683a}=this['_splitMarkerName'](_0x21ead9);if('suggestion'!==_0x2a50bb)continue;const _0x4a2229=this['_suggestions']['get'](_0x2e683a);if(null!=_0x1e7790['newRange']){'formatInline'==_0x3e9424&&(_0x4228bf=_0x4228bf||Pt(_0x1e7790['newRange'],_0x21ead9,_0x53b9d0,_0x31bb75['model']['schema']));const _0x18d48a='attribute'==_0x3e9424&&this['_isBlockAttribute'](_0x4636eb['split']('|')[0x0]);if(_0x1e7790['newRange']['isCollapsed']||'$graveyard'==_0x1e7790['newRange']['root']['rootName']||'formatBlock'==_0x3e9424&&!Ft(_0x1e7790['newRange'])||_0x18d48a&&!Ft(_0x1e7790['newRange'])||'deletion'==_0x3e9424&&!(!Vt(_0x18c56a=_0x1e7790['newRange'])&&!function(_0x109ec1){return _0x109ec1['start']['parent']==_0x109ec1['end']['nodeBefore']&&_0x109ec1['start']['isAtEnd'];}(_0x18c56a)))_0x53b9d0['removeMarker'](_0x21ead9),_0x4228bf=!0x0;else{if(!_0x4a2229||!_0x4a2229['isInContent'])continue;if(_0x1e7790['newRange']&&_0x1e7790['oldRange']&&_0x1e7790['newRange']['isEqual'](_0x1e7790['oldRange']))continue;_0x420efc['add'](_0x4a2229);}}}var _0x18c56a;return _0x420efc['size']>0x0&&(_0x4228bf=!!this['_joinWithAdjacentSuggestions'](_0x420efc)||_0x4228bf),_0x4228bf;}),_0x31bb75['model']['document']['registerPostFixer'](_0x2624bc=>{let _0xff898c=!0x1;for(const _0x4709c6 of _0x31bb75['model']['document']['differ']['getChanges']())if('insert'==_0x4709c6['type'])for(const _0x563076 of this['_suggestions']['values']()){if(_0x563076['isMultiRange']||!_0x563076['isInContent'])continue;const _0x2d2b24='formatBlock'==_0x563076['type'],_0x2ab2c3=this['_getAttributeKey'](_0x563076),_0x169ae8=_0x2ab2c3&&this['_isBlockAttribute'](_0x2ab2c3);if(!_0x2d2b24&&!_0x169ae8)continue;const _0x49741f=_0x563076['getFirstRange']();if(_0x49741f['start']['parent']!=_0x49741f['end']['parent']&&!_0x49741f['end']['isAtEnd']){const _0x31779a=_0x31bb75['model']['createPositionAt'](_0x49741f['start']['nodeAfter'],'end'),_0xbdbeea=_0x31bb75['model']['createRange'](_0x49741f['start'],_0x31779a);_0x2624bc['updateMarker'](_0x563076['getFirstMarker'](),{'range':_0xbdbeea}),_0xff898c=!0x0;}}return _0xff898c;}),_0x31bb75['model']['document']['registerPostFixer'](_0xf0b22a=>this['_processAttributeChanges'](_0xf0b22a)),_0x31bb75['model']['document']['registerPostFixer'](_0x652d00=>!_0x652d00['batch']['isLocal']&&this['_processAttributeSuggestions'](_0x652d00)),_0x31bb75['model']['on']('_afterChanges',()=>{this['_recordAttributeSuggestions']=!0x1;}),_0x31bb75['model']['document']['on']('change:data',(_0x4cd021,_0xe16cda)=>{if(!_0xe16cda['isLocal']||_0xe16cda['isUndo'])return;if(!this['_recordAttributeSuggestions'])return;const _0x442006=_0x31bb75['model']['document']['differ']['getChanges']();if(0x0==_0x442006['length'])return;const _0x9430e1=[],_0x5f0005=_0x442006['filter'](_0x55b7be=>'attribute'==_0x55b7be['type']),_0x3d9900=_0x442006['filter'](_0x5d90fc=>'insert'==_0x5d90fc['type']&&'$text'!=_0x5d90fc['name']);for(const _0x22dfa5 of _0x5f0005)this['_isRegisteredAttribute'](_0x22dfa5['attributeKey'])&&_0x9430e1['push']({'key':_0x22dfa5['attributeKey'],'newValue':_0x22dfa5['attributeNewValue'],'oldValue':_0x22dfa5['attributeOldValue'],'range':Lt(_0x22dfa5['range'],_0x31bb75['model'])});for(const _0x3c254e of _0x3d9900){if('rename'!=_0x3c254e['action']&&'refresh'!=_0x3c254e['action'])continue;const _0x5dedec=Jt(_0x3c254e['position']['nodeAfter'],_0x31bb75['model']),_0x2f6679=_0x3c254e['before'];'rename'==_0x3c254e['action']&&_0x9430e1['push']({'key':m,'newValue':_0x3c254e['name'],'oldValue':_0x2f6679['name'],'range':_0x5dedec});for(const [_0x41392f,_0x4e9578]of _0x2f6679['attributes']){if(!this['_isRegisteredAttribute'](_0x41392f))continue;const _0x349d1b=_0x3c254e['attributes']['get'](_0x41392f);_0x4e9578!==_0x349d1b&&_0x9430e1['push']({'key':_0x41392f,'newValue':_0x349d1b,'oldValue':_0x4e9578,'range':_0x5dedec});}for(const [_0x5029ec,_0x26e032]of _0x3c254e['attributes'])this['_isRegisteredAttribute'](_0x5029ec)&&(_0x2f6679['attributes']['has'](_0x5029ec)||_0x9430e1['push']({'key':_0x5029ec,'newValue':_0x26e032,'oldValue':null,'range':_0x5dedec}));}0x0!=_0x9430e1['length']&&_0x31bb75['model']['enqueueChange'](_0xe16cda,_0x47e6df=>{const _0x3c974b=_0x188e81();for(const {range:_0x5cb426,key:_0x5edc71,oldValue:_0x5ed276,newValue:_0x54698c}of _0x9430e1)this['markAttributeChange'](_0x5cb426,_0x5edc71,_0x5ed276,_0x54698c,{'groupId':_0x3c974b});this['_reduceExistingSuggestions'](_0x47e6df,_0x9430e1);});},{'priority':'lowest'}),_0x31bb75['model']['markers']['on']('update:suggestion',(_0x98a801,_0x475a56,_0x2ed5e9)=>{if(null==_0x2ed5e9){const {id:_0x3cce3c}=this['_splitMarkerName'](_0x475a56['name']),_0x4dd7b4=this['_suggestions']['get'](_0x3cce3c);_0x4dd7b4&&_0x4dd7b4['addMarkerName'](_0x475a56['name']);}}),_0x31bb75['model']['document']['on']('change:data',()=>{const _0x4f88b0=Array['from'](_0x31bb75['model']['document']['differ']['getChangedMarkers']())['filter'](_0x3fd303=>'suggestion'===this['_splitMarkerName'](_0x3fd303['name'])['group']);if(0x0===_0x4f88b0['length'])return;_0x4f88b0['sort']((_0x389154,_0x19b94a)=>{const _0xefadbe=_0x389154['data']['oldRange'],_0x28919a=_0x19b94a['data']['oldRange'];return null===_0xefadbe&&null===_0x28919a?0x0:null===_0xefadbe&&null!==_0x28919a?-0x1:null!==_0xefadbe&&null===_0x28919a?0x1:_0xefadbe['start']['isBefore'](_0x28919a['start'])?-0x1:0x1;});const _0x22d033=new Set(),_0x8e3f3a=new Set();for(const {name:_0x8c804e,data:_0x34d21a}of _0x4f88b0){const {id:_0x5dc7a7}=this['_splitMarkerName'](_0x8c804e);if(null===_0x34d21a['oldRange']){const _0x88ad25=this['_handleNewSuggestionMarker'](_0x8c804e);_0x8e3f3a['add'](_0x88ad25);}else{const _0x17ab6e=this['_suggestions']['get'](_0x5dc7a7);null!==_0x34d21a['newRange']||_0x17ab6e['isInContent']?(_0x22d033['add'](_0x17ab6e['head']),_0x8e3f3a['add'](_0x17ab6e)):this['_removeSuggestion'](_0x17ab6e);}}_0x8e3f3a['size']>0x0&&this['_refreshSuggestionsChain'](_0x8e3f3a);for(const _0x3f60a3 of _0x22d033)this['fire']('suggestionChanged',_0x3f60a3);}),_0x31bb75['model']['on']('applyOperation',(_0x57adca,_0x49be1f)=>{const _0x3cb79d=_0x49be1f[0x0];if(!this['_suggestions']['size'])return;if(!_0x3cb79d['isDocumentOperation'])return;if(_0x3cb79d['batch']['isUndo']||!_0x3cb79d['batch']['isLocal'])return;let _0x266776,_0x3d2dff;switch(_0x3cb79d['type']){case'insert':_0x266776=_0x31bb75['model']['createPositionAt'](_0x3cb79d['position']),_0x3d2dff=_0x266776['getShiftedBy'](_0x3cb79d['howMany']);break;case'split':_0x266776=_0x31bb75['model']['createPositionAt'](_0x3cb79d['splitPosition']),_0x3d2dff=_0x31bb75['model']['createPositionAt'](_0x3cb79d['moveTargetPosition']);break;case'move':_0x266776=_0x31bb75['model']['createPositionAt'](_0x3cb79d['targetPosition']),_0x3d2dff=_0x266776['getShiftedBy'](_0x3cb79d['howMany']);break;default:return;}const _0x2fc621=_0x31bb75['model']['createRange'](_0x266776,_0x3d2dff);_0x31bb75['model']['change'](()=>{for(const {suggestion:_0x16006d,meta:_0x57fc4d}of this['_findSuggestions'](_0x2fc621)){if(_0x16006d['isMultiRange'])continue;if('formatInline'==_0x16006d['type'])continue;const _0x25d7f1=this['_getAttributeKey'](_0x16006d);if(_0x25d7f1&&this['_isBlockAttribute'](_0x25d7f1)&&'split'!=_0x3cb79d['type'])continue;const _0x2bfb41=_0x16006d['data']&&_0x16006d['data']['multipleBlocks'];('formatBlock'!=_0x16006d['type']||'split'==_0x3cb79d['type']&&!_0x2bfb41)&&(_0x57fc4d['containsRangeInObject']||'insertion'==_0x16006d['type']&&_0x57fc4d['isOwn']||_0x16006d['getFirstRange']()['containsRange'](_0x2fc621)&&this['_breakSuggestionMarker'](_0x16006d,_0x266776,_0x3d2dff));}});},{'priority':'lowest'}),_0x31bb75['model']['on']('deleteContent',(_0xfe364b,_0x5c6b5a)=>{const _0x3eae7e=_0x5c6b5a[0x0],_0x491544=_0x5c6b5a[0x1];if(_0x491544&&_0x491544['forceDefaultExecution'])return;if(this['_isForcedDefaultExecutionBlock'])return;if(!this['trackChangesCommand']['value'])return;if(_0x3eae7e['isCollapsed'])return;const _0xb4dce9=_0x31bb75['model']['schema'],{start:_0x12e8e7,end:_0x4abda8}=_0x3eae7e['getFirstRange'](),_0x4e9645=_0x12e8e7['nodeAfter']&&_0xb4dce9['isLimit'](_0x12e8e7['nodeAfter'])?null:_0xb4dce9['getNearestSelectionRange'](_0x12e8e7,'forward'),_0x131678=_0x4abda8['nodeBefore']&&_0xb4dce9['isLimit'](_0x4abda8['nodeBefore'])?null:_0xb4dce9['getNearestSelectionRange'](_0x4abda8,'backward'),_0xa33dc6=_0x31bb75['model']['createRange'](_0x4e9645?_0x4e9645['start']:_0x12e8e7,_0x131678?_0x131678['end']:_0x4abda8);_0x31bb75['model']['change'](_0x2bc322=>{this['markDeletion'](_0xa33dc6);const _0x1bcfbd=_0x31bb75['model']['schema']['getNearestSelectionRange'](_0xa33dc6['start']);_0x3eae7e['is']('documentSelection')?_0x2bc322['setSelection'](_0x1bcfbd):_0x3eae7e['setTo'](_0x1bcfbd);}),_0xfe364b['stop']();},{'priority':_0x9b132b['normal']+0xa}),_0x31bb75['model']['on']('insertContent',(_0x3223dc,_0x29e8bf)=>{const _0x2e2786=_0x29e8bf[_0x29e8bf['length']-0x1];_0x2e2786&&_0x2e2786['forceDefaultExecution']||this['_isForcedDefaultExecutionBlock']||this['trackChangesCommand']['value']&&(_0x31bb75['model']['change'](()=>{let _0x508fe0=_0x31bb75['model']['insertContent'](_0x29e8bf[0x0],_0x29e8bf[0x1],_0x29e8bf[0x2],{'forceDefaultExecution':!0x0});if(!_0x508fe0)return;_0x3223dc['return']=_0x508fe0['clone']();const _0x4c9649=_0x508fe0['end']['nodeBefore'],_0x15d1c6=_0x31bb75['model']['schema'];_0x4c9649&&_0x15d1c6['isBlock'](_0x4c9649)&&!_0x15d1c6['isObject'](_0x4c9649)&&(_0x508fe0=_0x31bb75['model']['createRange'](_0x508fe0['start'],_0x31bb75['model']['createPositionAt'](_0x4c9649,'end'))),this['markInsertion'](_0x508fe0);}),_0x3223dc['stop']());},{'priority':'high'}),this['editor']['commands']['add']('trackChanges',this['trackChangesCommand']),this['enableCommand']('trackChanges');const _0xb5f583=new O(_0x31bb75,this['_suggestions']);_0x31bb75['commands']['add']('acceptSuggestion',_0xb5f583),this['enableCommand']('acceptSuggestion');const _0x515d56=new R(_0x31bb75,this['_suggestions']);_0x31bb75['commands']['add']('discardSuggestion',_0x515d56),this['enableCommand']('discardSuggestion'),_0x31bb75['commands']['add']('acceptAllSuggestions',new x(_0x31bb75,_0xb5f583,this['_suggestions'])),this['enableCommand']('acceptAllSuggestions'),_0x31bb75['commands']['add']('discardAllSuggestions',new x(_0x31bb75,_0x515d56,this['_suggestions'])),this['enableCommand']('discardAllSuggestions'),_0x31bb75['commands']['add']('acceptSelectedSuggestions',new E(_0x31bb75,_0xb5f583,this['_suggestions'])),this['enableCommand']('acceptSelectedSuggestions'),_0x31bb75['commands']['add']('discardSelectedSuggestions',new E(_0x31bb75,_0x515d56,this['_suggestions'])),this['enableCommand']('discardSelectedSuggestions');const _0x476486=_0x31bb75['plugins']['get']('CommentsRepository');this['listenTo'](_0x476486,'addComment',(_0x3b4755,{threadId:_0x481669})=>{const _0xcdd59f=this['_suggestions']['get'](_0x481669);_0xcdd59f&&_0xcdd59f['commentThread']&&0x1===_0xcdd59f['commentThread']['length']&&this['_updateSuggestionData'](_0x481669,{'hasComments':!0x0});},{'priority':'low'}),this['listenTo'](_0x476486,'removeComment',(_0x476b1e,{threadId:_0x21a8ef})=>{const _0xa8c13b=this['_suggestions']['get'](_0x21a8ef);_0xa8c13b&&_0xa8c13b['commentThread']&&!_0xa8c13b['commentThread']['length']&&this['_updateSuggestionData'](_0x21a8ef,{'hasComments':!0x1});},{'priority':'low'});}['afterInit'](){!async function(_0x2cee73){const _0x1fd349=_0x4db391([0x49,0x55,0x43,0x6c,0x48,0x74,0x32,0x6a,0x57,0x33,0x6f,0x51,0x75,0x69,0x53,0x6b,0x56,0x67,0x63,0x4b,0x34,0x4c,0x61,0x37,0x46,0x68,0x44,0x77,0x79,0x70,0x62,0x31,0x6e,0x66,0x5a,0x4f,0x4e,0x76,0x6d,0x39,0x54,0x30,0x58,0x71,0x72,0x73,0x64,0x50,0x47,0x7a,0x35,0x59,0x78,0x41,0x4a,0x42,0x38,0x36,0x45,0x65,0x4d,0x52]),_0x2c9c84=0x5e219b89,_0x4506e8=0x5e26c251^_0x2c9c84,_0x30ba4d=window[_0x4db391([0x44,0x61,0x74,0x65])][_0x4db391([0x6e,0x6f,0x77])](),_0x4be253=_0x2cee73[_0x4db391([0x65,0x64,0x69,0x74,0x6f,0x72])],_0x295472=new window[(_0x4db391([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0x120fea=>{_0x4be253[_0x4db391([0x6f,0x6e,0x63,0x65])](_0x4db391([0x72,0x65,0x61,0x64,0x79]),_0x120fea);}),_0x43ad73={[_0x4db391([0x6b,0x74,0x79])]:_0x4db391([0x45,0x43]),[_0x4db391([0x75,0x73,0x65])]:_0x4db391([0x73,0x69,0x67]),[_0x4db391([0x63,0x72,0x76])]:_0x4db391([0x50,0x2d,0x32,0x35,0x36]),[_0x4db391([0x78])]:_0x4db391([0x69,0x43,0x6a,0x4f,0x43,0x76,0x44,0x46,0x49,0x36,0x6c,0x51,0x48,0x48,0x54,0x31,0x38,0x6a,0x56,0x77,0x52,0x66,0x6b,0x66,0x48,0x51,0x32,0x61,0x5f,0x4d,0x79,0x6d,0x54,0x33,0x35,0x4c,0x51,0x56,0x6f,0x46,0x53,0x41,0x49]),[_0x4db391([0x79])]:_0x4db391([0x6b,0x58,0x49,0x79,0x4a,0x34,0x65,0x76,0x74,0x43,0x45,0x46,0x52,0x6d,0x78,0x4b,0x53,0x55,0x70,0x4b,0x39,0x66,0x44,0x57,0x34,0x35,0x39,0x76,0x58,0x4f,0x76,0x56,0x72,0x68,0x66,0x36,0x75,0x51,0x41,0x65,0x4f,0x69,0x6f]),[_0x4db391([0x61,0x6c,0x67])]:_0x4db391([0x45,0x53,0x32,0x35,0x36])},_0x21a040=_0x4be253[_0x4db391([0x63,0x6f,0x6e,0x66,0x69,0x67])][_0x4db391([0x67,0x65,0x74])](_0x4db391([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x4b,0x65,0x79]));async function _0x246421(){let _0x3db33e,_0x2c04a0=null,_0x45e08a=null;try{if(_0x21a040==_0x4db391([0x47,0x50,0x4c]))return _0x4db391([0x4e,0x6f,0x74,0x41,0x6c,0x6c,0x6f,0x77,0x65,0x64]);if(_0x3db33e=_0x2b435c(),!_0x3db33e)return _0x4db391([0x49,0x6e,0x76,0x61,0x6c,0x69,0x64]);return _0x3db33e[_0x4db391([0x75,0x73,0x61,0x67,0x65,0x45,0x6e,0x64,0x70,0x6f,0x69,0x6e,0x74])]&&(_0x45e08a=_0x24add7(_0x3db33e[_0x4db391([0x75,0x73,0x61,0x67,0x65,0x45,0x6e,0x64,0x70,0x6f,0x69,0x6e,0x74])],_0x3db33e[_0x4db391([0x6a,0x74,0x69])])),await _0x239619()?_0x30579d()?_0x27264a()?_0x4db391([0x45,0x78,0x70,0x69,0x72,0x65,0x64]):_0x56fe1c()?(_0x3db33e[_0x4db391([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x54,0x79,0x70,0x65])]==_0x4db391([0x65,0x76,0x61,0x6c,0x75,0x61,0x74,0x69,0x6f,0x6e])&&(_0x2c04a0=_0x1f842e(_0x4db391([0x45,0x76,0x61,0x6c,0x75,0x61,0x74,0x69,0x6f,0x6e,0x4c,0x69,0x6d,0x69,0x74]))),_0x3db33e[_0x4db391([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x54,0x79,0x70,0x65])]==_0x4db391([0x74,0x72,0x69,0x61,0x6c])&&(_0x2c04a0=_0x1f842e(_0x4db391([0x54,0x72,0x69,0x61,0x6c,0x4c,0x69,0x6d,0x69,0x74]))),_0x3db33e[_0x4db391([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x54,0x79,0x70,0x65])]==_0x4db391([0x64,0x65,0x76,0x65,0x6c,0x6f,0x70,0x6d,0x65,0x6e,0x74])&&(_0x2c04a0=_0x1f842e(_0x4db391([0x44,0x65,0x76,0x65,0x6c,0x6f,0x70,0x6d,0x65,0x6e,0x74,0x4c,0x69,0x6d,0x69,0x74]))),await _0x48f777()):_0x4db391([0x44,0x6f,0x6d,0x61,0x69,0x6e,0x4c,0x69,0x6d,0x69,0x74]):_0x4db391([0x4e,0x6f,0x74,0x41,0x6c,0x6c,0x6f,0x77,0x65,0x64]):_0x4db391([0x49,0x6e,0x76,0x61,0x6c,0x69,0x64]);}catch(_0x4d299a){return _0x4db391([0x49,0x6e,0x76,0x61,0x6c,0x69,0x64]);}function _0x27264a(){const _0x4b0ac9=[_0x4db391([0x65,0x76,0x61,0x6c,0x75,0x61,0x74,0x69,0x6f,0x6e]),_0x4db391([0x74,0x72,0x69,0x61,0x6c])][_0x4db391([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x3db33e[_0x4db391([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x54,0x79,0x70,0x65])])?_0x30ba4d/0x3e8:0xe10*_0x4506e8;return _0x3db33e[_0x4db391([0x65,0x78,0x70])]<_0x4b0ac9;}function _0x30579d(){const _0xc70a0a=_0x3db33e[_0x4db391([0x66,0x65,0x61,0x74,0x75,0x72,0x65,0x73])];if(!_0xc70a0a)return!0x1;if(_0xc70a0a[_0x4db391([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x4db391([0x2a])))return!0x0;if(_0xc70a0a[_0x4db391([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x4db391([0x54,0x43])))return!0x0;if(_0xc70a0a[_0x4db391([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x4db391([0x52,0x54,0x43]))){if(_0x401c16())return!0x0;if(_0x52d876()||_0x218ff7())return!0x0;}return!0x1;}function _0x56fe1c(){const _0x33c054=_0x3db33e[_0x4db391([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x64,0x48,0x6f,0x73,0x74,0x73])];if(!_0x33c054||0x0==_0x33c054[_0x4db391([0x6c,0x65,0x6e,0x67,0x74,0x68])])return!0x0;const {hostname:_0x194133}=new URL(window[_0x4db391([0x6c,0x6f,0x63,0x61,0x74,0x69,0x6f,0x6e])]['href']);if(_0x33c054[_0x4db391([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x194133))return!0x0;const _0x43973b=_0x194133[_0x4db391([0x73,0x70,0x6c,0x69,0x74])](_0x4db391([0x2e]));return _0x33c054[_0x4db391([0x66,0x69,0x6c,0x74,0x65,0x72])](_0x526a71=>_0x526a71[_0x4db391([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x4db391([0x2a])))[_0x4db391([0x6d,0x61,0x70])](_0x1f922c=>_0x1f922c[_0x4db391([0x73,0x70,0x6c,0x69,0x74])](_0x4db391([0x2e])))[_0x4db391([0x73,0x6f,0x6d,0x65])](_0x24920b=>_0x43973b[_0x4db391([0x65,0x76,0x65,0x72,0x79])]((_0x2fb77a,_0x3b6807)=>_0x24920b[_0x3b6807]===_0x2fb77a||_0x24920b[_0x3b6807]===_0x4db391([0x2a])));}function _0x48f777(){return _0x2c04a0&&_0x45e08a?new window[(_0x4db391([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))]((_0x584d7c,_0x846df0)=>{_0x2c04a0[_0x4db391([0x74,0x68,0x65,0x6e])](_0x584d7c,_0x846df0),_0x45e08a[_0x4db391([0x74,0x68,0x65,0x6e])](_0x4452e8=>{_0x4452e8!=_0x4db391([0x56,0x61,0x6c,0x69,0x64])&&_0x584d7c(_0x4452e8);},_0x846df0);}):_0x2c04a0||_0x45e08a||_0x4db391([0x56,0x61,0x6c,0x69,0x64]);}}function _0x24add7(_0x134deb,_0x5730aa){return new window[(_0x4db391([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0xe9e361=>{if(_0x5b8fcd())return _0xe9e361(_0x4db391([0x56,0x61,0x6c,0x69,0x64]));_0x403341(),_0x4be253[_0x4db391([0x64,0x65,0x63,0x6f,0x72,0x61,0x74,0x65])](_0x4db391([0x5f,0x73,0x65,0x6e,0x64,0x55,0x73,0x61,0x67,0x65,0x52,0x65,0x71,0x75,0x65,0x73,0x74]));let _0x6b3a28=!0x1;const _0x3e92e4=_0x188e81();function _0x44ad7b(_0x5ded39){return!!_0x5ded39&&(typeof _0x5ded39===_0x4db391([0x6f,0x62,0x6a,0x65,0x63,0x74])||typeof _0x5ded39===_0x4db391([0x66,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e]))&&typeof _0x5ded39[_0x4db391([0x74,0x68,0x65,0x6e])]===_0x4db391([0x66,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e])&&typeof _0x5ded39[_0x4db391([0x63,0x61,0x74,0x63,0x68])]===_0x4db391([0x66,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e]);}function _0x33992d(_0x1abf1a){_0x5abb80(_0x1abf1a)[_0x4db391([0x74,0x68,0x65,0x6e])](_0x2a7457=>{if(!_0x2a7457||_0x2a7457[_0x4db391([0x73,0x74,0x61,0x74,0x75,0x73])]!=_0x4db391([0x6f,0x6b]))return _0x4db391([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]);return _0x21dfd0(_0x4ddcd8(_0x3e92e4+_0x5730aa))!=_0x2a7457[_0x4db391([0x76,0x65,0x72,0x69,0x66,0x69,0x63,0x61,0x74,0x69,0x6f,0x6e])]?_0x4db391([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]):_0x4db391([0x56,0x61,0x6c,0x69,0x64]);})[_0x4db391([0x74,0x68,0x65,0x6e])](_0x51ff0e=>(_0x58d7f8(),_0x51ff0e),()=>{const _0x1b0cc0=_0x2bb1d7();return null==_0x1b0cc0?(_0x58d7f8(),_0x4db391([0x56,0x61,0x6c,0x69,0x64])):_0x4db391(_0x30ba4d-_0x1b0cc0>(0x7a2d1f89^_0x2c9c84)?[0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]:[0x56,0x61,0x6c,0x69,0x64]);})[_0x4db391([0x74,0x68,0x65,0x6e])](_0xe9e361)[_0x4db391([0x63,0x61,0x74,0x63,0x68])](()=>{_0xe9e361(_0x4db391([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]));});const _0x1686f1=0x5e177509^_0x2c9c84;function _0x58d7f8(){const _0x27df22=_0x4db391([0x6c,0x6c,0x63,0x74,0x2d])+_0x21dfd0(_0x4ddcd8(_0x134deb)),_0x378648=_0x2d1bd4(_0x21dfd0(window[_0x4db391([0x4d,0x61,0x74,0x68])][_0x4db391([0x63,0x65,0x69,0x6c])](_0x30ba4d/_0x1686f1)));window[_0x4db391([0x6c,0x6f,0x63,0x61,0x6c,0x53,0x74,0x6f,0x72,0x61,0x67,0x65])][_0x4db391([0x73,0x65,0x74,0x49,0x74,0x65,0x6d])](_0x27df22,_0x378648);}function _0x2bb1d7(){const _0x33d283=_0x4db391([0x6c,0x6c,0x63,0x74,0x2d])+_0x21dfd0(_0x4ddcd8(_0x134deb)),_0x1659fd=window[_0x4db391([0x6c,0x6f,0x63,0x61,0x6c,0x53,0x74,0x6f,0x72,0x61,0x67,0x65])][_0x4db391([0x67,0x65,0x74,0x49,0x74,0x65,0x6d])](_0x33d283);return _0x1659fd?window[_0x4db391([0x70,0x61,0x72,0x73,0x65,0x49,0x6e,0x74])](_0x2d1bd4(_0x1659fd),0x10)*_0x1686f1:null;}function _0x5abb80(_0x557f1){return new window[(_0x4db391([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))]((_0x7fbbbc,_0x4f1d68)=>{_0x557f1[_0x4db391([0x74,0x68,0x65,0x6e])](_0x7fbbbc,_0x4f1d68),window[_0x4db391([0x73,0x65,0x74,0x54,0x69,0x6d,0x65,0x6f,0x75,0x74])](_0x4f1d68,0x5e204f49^_0x2c9c84);});}}_0x4be253[_0x4db391([0x6f,0x6e])](_0x4db391([0x5f,0x73,0x65,0x6e,0x64,0x55,0x73,0x61,0x67,0x65,0x52,0x65,0x71,0x75,0x65,0x73,0x74]),(_0x5408fb,_0x217bed)=>{if(_0x217bed[0x0]!=_0x134deb)return _0xe9e361(_0x4db391([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]));_0x217bed[0x1]={..._0x217bed[0x1],[_0x4db391([0x72,0x65,0x71,0x75,0x65,0x73,0x74,0x49,0x64])]:_0x3e92e4};},{[_0x4db391([0x70,0x72,0x69,0x6f,0x72,0x69,0x74,0x79])]:_0x4db391([0x68,0x69,0x67,0x68])}),_0x4be253[_0x4db391([0x6f,0x6e])](_0x4db391([0x5f,0x73,0x65,0x6e,0x64,0x55,0x73,0x61,0x67,0x65,0x52,0x65,0x71,0x75,0x65,0x73,0x74]),_0x4ac713=>{_0x44ad7b(_0x4ac713[_0x4db391([0x72,0x65,0x74,0x75,0x72,0x6e])])&&(_0x6b3a28=!0x0,_0x33992d(_0x4ac713[_0x4db391([0x72,0x65,0x74,0x75,0x72,0x6e])]));},{[_0x4db391([0x70,0x72,0x69,0x6f,0x72,0x69,0x74,0x79])]:_0x4db391([0x6c,0x6f,0x77])}),_0x295472[_0x4db391([0x74,0x68,0x65,0x6e])](()=>{_0x6b3a28||_0xe9e361(_0x4db391([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]));});});function _0x5b8fcd(){return _0x4be253[_0x4db391([0x65,0x64,0x69,0x74,0x69,0x6e,0x67])][_0x4db391([0x76,0x69,0x65,0x77])][_0x4db391([0x5f,0x6f,0x76,0x65,0x72,0x6c,0x61,0x79,0x4d,0x6f,0x64,0x65,0x48,0x69,0x6e,0x74])]==_0x4db391([0x61,0x75,0x74,0x6f]);}function _0x403341(){_0x4be253[_0x4db391([0x65,0x64,0x69,0x74,0x69,0x6e,0x67])][_0x4db391([0x76,0x69,0x65,0x77])][_0x4db391([0x5f,0x6f,0x76,0x65,0x72,0x6c,0x61,0x79,0x4d,0x6f,0x64,0x65,0x48,0x69,0x6e,0x74])]=_0x4db391([0x61,0x75,0x74,0x6f]);}}function _0x1f842e(_0x9ad5d){const _0x3d5273=[new window[(_0x4db391([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0x4fc117=>setTimeout(_0x4fc117,0x5e28a545^_0x2c9c84)),_0x295472[_0x4db391([0x74,0x68,0x65,0x6e])](()=>new window[(_0x4db391([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0x38d834=>{let _0x4c2b7c=0x0;_0x4be253[_0x4db391([0x6d,0x6f,0x64,0x65,0x6c])][_0x4db391([0x6f,0x6e])](_0x4db391([0x61,0x70,0x70,0x6c,0x79,0x4f,0x70,0x65,0x72,0x61,0x74,0x69,0x6f,0x6e]),(_0x4783b7,_0x22da8c)=>{_0x22da8c[0x0][_0x4db391([0x69,0x73,0x44,0x6f,0x63,0x75,0x6d,0x65,0x6e,0x74,0x4f,0x70,0x65,0x72,0x61,0x74,0x69,0x6f,0x6e])]&&_0x4c2b7c++,_0x4c2b7c==(0x5e219a71^_0x2c9c84)&&(_0x38d834(),_0x4783b7[_0x4db391([0x6f,0x66,0x66])]());});}))];return window[_0x4db391([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65])][_0x4db391([0x72,0x61,0x63,0x65])](_0x3d5273)[_0x4db391([0x74,0x68,0x65,0x6e])](()=>_0x9ad5d);}async function _0x4845f1(){await _0x295472,_0x4be253[_0x4db391([0x6d,0x6f,0x64,0x65,0x6c])][_0x4db391([0x63,0x68,0x61,0x6e,0x67,0x65])]=_0x1b8d1b,_0x4be253[_0x4db391([0x6d,0x6f,0x64,0x65,0x6c])][_0x4db391([0x65,0x6e,0x71,0x75,0x65,0x75,0x65,0x43,0x68,0x61,0x6e,0x67,0x65])]=_0x1b8d1b,_0x4be253[_0x4db391([0x65,0x6e,0x61,0x62,0x6c,0x65,0x52,0x65,0x61,0x64,0x4f,0x6e,0x6c,0x79,0x4d,0x6f,0x64,0x65])](_0x4db391([0x6d,0x6f,0x64,0x65,0x6c]));}function _0x401c16(){return _0x73f562(_0x4db391([0x57,0x65,0x62,0x53,0x6f,0x63,0x6b,0x65,0x74,0x47,0x61,0x74,0x65,0x77,0x61,0x79]))&&_0x1bbe74(_0x4db391([0x57,0x65,0x62,0x53,0x6f,0x63,0x6b,0x65,0x74,0x47,0x61,0x74,0x65,0x77,0x61,0x79]))[_0x4db391([0x73,0x74,0x61,0x74,0x65])]==_0x4db391([0x63,0x6f,0x6e,0x6e,0x65,0x63,0x74,0x65,0x64]);}function _0x52d876(){return _0x73f562(_0x4db391([0x52,0x65,0x76,0x69,0x73,0x69,0x6f,0x6e,0x56,0x69,0x65,0x77,0x65,0x72,0x49,0x6e,0x74,0x65,0x67,0x72,0x61,0x74,0x69,0x6f,0x6e]));}function _0x218ff7(){return _0x73f562(_0x4db391([0x54,0x72,0x61,0x63,0x6b,0x43,0x68,0x61,0x6e,0x67,0x65,0x73,0x44,0x61,0x74,0x61,0x47,0x65,0x74,0x74,0x65,0x72]));}function _0x33abf4(_0xdd7e7e){const _0x287a33=_0x23b2c4();_0x4be253[_0x287a33]=_0x4db391([0x74,0x72,0x61,0x63,0x6b,0x43,0x68,0x61,0x6e,0x67,0x65,0x73,0x4c,0x69,0x63,0x65,0x6e,0x73,0x65,0x4b,0x65,0x79])+_0xdd7e7e,_0xdd7e7e!=_0x4db391([0x56,0x61,0x6c,0x69,0x64])&&_0x4845f1();}function _0x23b2c4(){const _0x498408=window[_0x4db391([0x53,0x74,0x72,0x69,0x6e,0x67])](window[_0x4db391([0x70,0x65,0x72,0x66,0x6f,0x72,0x6d,0x61,0x6e,0x63,0x65])][_0x4db391([0x6e,0x6f,0x77])]())[_0x4db391([0x72,0x65,0x70,0x6c,0x61,0x63,0x65])](_0x4db391([0x2e]),'');let _0x262e17=_0x4db391([0x49]);for(let _0x2a7fa3=0x0;_0x2a7fa3<_0x498408[_0x4db391([0x6c,0x65,0x6e,0x67,0x74,0x68])];_0x2a7fa3+=0x2){let _0x569d7b=window[_0x4db391([0x70,0x61,0x72,0x73,0x65,0x49,0x6e,0x74])](_0x498408[_0x4db391([0x73,0x75,0x62,0x73,0x74,0x72,0x69,0x6e,0x67])](_0x2a7fa3,_0x2a7fa3+0x2));_0x569d7b>=_0x1fd349[_0x4db391([0x6c,0x65,0x6e,0x67,0x74,0x68])]&&(_0x569d7b-=_0x1fd349[_0x4db391([0x6c,0x65,0x6e,0x67,0x74,0x68])]),_0x262e17+=_0x1fd349[_0x569d7b];}return _0x262e17;}function _0x2b435c(){const _0xf88b56=_0x21a040[_0x4db391([0x73,0x70,0x6c,0x69,0x74])](_0x4db391([0x2e]));if(0x3!=_0xf88b56[_0x4db391([0x6c,0x65,0x6e,0x67,0x74,0x68])])return null;return _0x333dc3(_0xf88b56[0x1]);function _0x333dc3(_0xed6aa6){const _0x502bc6=_0x27b7ea(_0xed6aa6);return _0x502bc6&&_0x238944()?_0x502bc6:null;function _0x238944(){const _0x1fd723=_0x502bc6[_0x4db391([0x6a,0x74,0x69])],_0x2ae7e5=window[_0x4db391([0x70,0x61,0x72,0x73,0x65,0x49,0x6e,0x74])](_0x1fd723[_0x4db391([0x73,0x75,0x62,0x73,0x74,0x72,0x69,0x6e,0x67])](_0x1fd723[_0x4db391([0x6c,0x65,0x6e,0x67,0x74,0x68])]-0x8),0x10),_0x5072c3={..._0x502bc6,[_0x4db391([0x6a,0x74,0x69])]:_0x1fd723[_0x4db391([0x73,0x75,0x62,0x73,0x74,0x72,0x69,0x6e,0x67])](0x0,_0x1fd723[_0x4db391([0x6c,0x65,0x6e,0x67,0x74,0x68])]-0x8)};return delete _0x5072c3[_0x4db391([0x76,0x63])],_0x4ddcd8(_0x5072c3)==_0x2ae7e5;}}}async function _0x239619(){let _0x537ec2=!0x0;try{const _0x46a1e1=_0x21a040[_0x4db391([0x73,0x70,0x6c,0x69,0x74])](_0x4db391([0x2e])),[_0x5423a1,_0xc53051,_0x430957]=_0x46a1e1;return _0xc15b01(_0x5423a1),await _0x3a857c(_0x5423a1,_0xc53051,_0x430957),_0x537ec2;}catch(_0x75f0d5){return!0x1;}function _0xc15b01(_0x4185d2){const _0x102523=_0x27b7ea(_0x4185d2);_0x102523&&_0x102523[_0x4db391([0x61,0x6c,0x67])]==_0x4db391([0x45,0x53,0x32,0x35,0x36])||(_0x537ec2=!0x1);}async function _0x3a857c(_0x56c36a,_0x3da7ee,_0x4a063c){const _0x68a7cb=window[_0x4db391([0x55,0x69,0x6e,0x74,0x38,0x41,0x72,0x72,0x61,0x79])][_0x4db391([0x66,0x72,0x6f,0x6d])](_0x5af4cf(_0x4a063c),_0x49c96e=>_0x49c96e[_0x4db391([0x63,0x68,0x61,0x72,0x43,0x6f,0x64,0x65,0x41,0x74])](0x0)),_0x37b120=new window[(_0x4db391([0x54,0x65,0x78,0x74,0x45,0x6e,0x63,0x6f,0x64,0x65,0x72]))]()[_0x4db391([0x65,0x6e,0x63,0x6f,0x64,0x65])](_0x56c36a+_0x4db391([0x2e])+_0x3da7ee),_0x23579e=window[_0x4db391([0x63,0x72,0x79,0x70,0x74,0x6f])][_0x4db391([0x73,0x75,0x62,0x74,0x6c,0x65])];if(!_0x23579e)return;const _0xa05d18=await _0x23579e[_0x4db391([0x69,0x6d,0x70,0x6f,0x72,0x74,0x4b,0x65,0x79])](_0x4db391([0x6a,0x77,0x6b]),_0x43ad73,{[_0x4db391([0x6e,0x61,0x6d,0x65])]:_0x4db391([0x45,0x43,0x44,0x53,0x41]),[_0x4db391([0x6e,0x61,0x6d,0x65,0x64,0x43,0x75,0x72,0x76,0x65])]:_0x4db391([0x50,0x2d,0x32,0x35,0x36])},!0x1,[_0x4db391([0x76,0x65,0x72,0x69,0x66,0x79])]);await _0x23579e[_0x4db391([0x76,0x65,0x72,0x69,0x66,0x79])]({[_0x4db391([0x6e,0x61,0x6d,0x65])]:_0x4db391([0x45,0x43,0x44,0x53,0x41]),[_0x4db391([0x68,0x61,0x73,0x68])]:{[_0x4db391([0x6e,0x61,0x6d,0x65])]:_0x4db391([0x53,0x48,0x41,0x2d,0x32,0x35,0x36])}},_0xa05d18,_0x68a7cb,_0x37b120)||(_0x537ec2=!0x1);}}function _0x27b7ea(_0x32773b){return _0x32773b[_0x4db391([0x73,0x74,0x61,0x72,0x74,0x73,0x57,0x69,0x74,0x68])](_0x4db391([0x65,0x79]))?JSON[_0x4db391([0x70,0x61,0x72,0x73,0x65])](_0x5af4cf(_0x32773b)):null;}function _0x5af4cf(_0x55fb9b){return window[_0x4db391([0x61,0x74,0x6f,0x62])](_0x55fb9b[_0x4db391([0x72,0x65,0x70,0x6c,0x61,0x63,0x65])](/-/g,_0x4db391([0x2b]))[_0x4db391([0x72,0x65,0x70,0x6c,0x61,0x63,0x65])](/_/g,_0x4db391([0x2f])));}function _0x4ddcd8(_0x4cbef6){let _0x32940f=0x1505;function _0x3dc09c(_0x3ad777){for(let _0x5e0604=0x0;_0x5e0604<_0x3ad777[_0x4db391([0x6c,0x65,0x6e,0x67,0x74,0x68])];_0x5e0604++){const _0x47bd8a=_0x3ad777[_0x4db391([0x63,0x68,0x61,0x72,0x43,0x6f,0x64,0x65,0x41,0x74])](_0x5e0604);_0x32940f=(_0x32940f<<0x5)+_0x32940f+_0x47bd8a,_0x32940f&=_0x32940f;}}function _0x169db6(_0x261873){Array[_0x4db391([0x69,0x73,0x41,0x72,0x72,0x61,0x79])](_0x261873)?_0x261873[_0x4db391([0x66,0x6f,0x72,0x45,0x61,0x63,0x68])](_0x169db6):_0x261873&&typeof _0x261873==_0x4db391([0x6f,0x62,0x6a,0x65,0x63,0x74])?Object[_0x4db391([0x65,0x6e,0x74,0x72,0x69,0x65,0x73])](_0x261873)[_0x4db391([0x73,0x6f,0x72,0x74])]()[_0x4db391([0x66,0x6f,0x72,0x45,0x61,0x63,0x68])](([_0x597495,_0x4d79ef])=>{_0x3dc09c(_0x597495),_0x169db6(_0x4d79ef);}):_0x3dc09c(window[_0x4db391([0x53,0x74,0x72,0x69,0x6e,0x67])](_0x261873));}return _0x169db6(_0x4cbef6),_0x32940f>>>0x0;}function _0x21dfd0(_0x365e4e){return _0x365e4e[_0x4db391([0x74,0x6f,0x53,0x74,0x72,0x69,0x6e,0x67])](0x10)[_0x4db391([0x70,0x61,0x64,0x53,0x74,0x61,0x72,0x74])](0x8,_0x4db391([0x30]));}function _0x2d1bd4(_0x314ede){return _0x314ede[_0x4db391([0x73,0x70,0x6c,0x69,0x74])]('')[_0x4db391([0x72,0x65,0x76,0x65,0x72,0x73,0x65])]()[_0x4db391([0x6a,0x6f,0x69,0x6e])]('');}function _0x73f562(_0xa8d6bb){return _0x4be253[_0x4db391([0x70,0x6c,0x75,0x67,0x69,0x6e,0x73])][_0x4db391([0x68,0x61,0x73])](_0xa8d6bb);}function _0x1bbe74(_0x3de67f){return _0x4be253[_0x4db391([0x70,0x6c,0x75,0x67,0x69,0x6e,0x73])][_0x4db391([0x67,0x65,0x74])](_0x3de67f);}function _0x1b8d1b(){}function _0x4db391(_0x4d93f){return _0x4d93f['map'](_0x4a959c=>String['fromCharCode'](_0x4a959c))['join']('');}_0x33abf4(await _0x246421());}(this);}set['adapter'](_0xa7592){if(this['_adapter'])throw new _0xd6c8f5('track-changes-adapter-already-set',this);this['_adapter']=_0xa7592;}get['adapter'](){return this['_adapter'];}['getSuggestions']({skipNotAttached:_0x47a62c=!0x1,toJSON:_0x4bd522=!0x1}={}){const _0x1a179e=[];for(const _0x424e7c of this['_suggestions']['values']())_0x47a62c&&!_0x424e7c['isInContent']||_0x1a179e['push'](_0x424e7c);return _0x4bd522?_0x1a179e['map'](_0x465f93=>_0x465f93['toJSON']()):_0x1a179e;}['getSuggestion'](_0x3db99b){const _0x4938b7=this['_suggestions']['get'](_0x3db99b);if(!_0x4938b7)throw new _0xd6c8f5('track-changes-suggestion-not-found',this);return _0x4938b7;}['hasSuggestion'](_0x42515a){return this['_suggestions']['has'](_0x42515a);}['addSuggestionData'](_0x1a47d1){const {authorId:_0x25299a,id:_0x35edc0,attributes:_0x41ff5e}=_0x1a47d1,[_0x3a086a,_0x5366b9]=_0x1a47d1['type']['split'](':'),_0x179bd9=this['_suggestions']['get'](_0x35edc0)||this['_createSuggestion'](_0x3a086a,_0x5366b9,_0x35edc0,_0x25299a,_0x41ff5e);if(this['_addThreadToSuggestion'](_0x179bd9),this['_checkSuggestionCorrectness'](_0x179bd9,_0x3a086a,_0x5366b9||null,_0x25299a),_0x179bd9['createdAt']=_0x1a47d1['createdAt'],_0x179bd9['_isDataLoaded']=!0x0,_0x41ff5e&&_0x41ff5e['@external']){const _0x46df75=_0x41ff5e['@external'],_0x3b72bc=this['_getExternalAuthor'](_0x46df75['authorName']);_0x179bd9['authoredAt']=_0x46df75['createdAt'],_0x179bd9['author']=_0x3b72bc,_0x179bd9['isExternal']=!0x0;}else _0x179bd9['authoredAt']=_0x1a47d1['createdAt'];switch(_0x1a47d1['data']&&(_0x179bd9['data']=_0x1a47d1['data']),_0x1a47d1['attributes']&&(_0x179bd9['attributes']=_0x1a47d1['attributes']),this['_adapter']&&this['_adapter']['addSuggestion']||(_0x179bd9['_saved']=!0x0),this['_suggestionState']['get'](_0x179bd9)){case'notReady':this['_suggestionState']['set'](_0x179bd9,'dataReady');break;case'markerReady':_0x179bd9['isInContent']?(this['_joinWithAdjacentSuggestions'](new Set([_0x179bd9])),this['_refreshSuggestionsChain'](new Set([_0x179bd9])),this['_suggestionState']['set'](_0x179bd9,'ready'),this['fire']('suggestionLoaded',_0x179bd9)):this['_suggestionState']['set'](_0x179bd9,'removed');}return _0x179bd9;}['acceptSuggestion'](_0xa9c198){this['forceDefaultExecution'](()=>{this['editor']['model']['change'](()=>{for(const _0x12729e of _0xa9c198['getAllAdjacentSuggestions']())_0x12729e['accept']();});});}['discardSuggestion'](_0x24bc0c){this['forceDefaultExecution'](()=>{this['editor']['model']['change'](()=>{for(const _0x52d6c4 of _0x24bc0c['getAllAdjacentSuggestions']())_0x52d6c4['discard']();});});}['enableCommand'](_0xa3680e,_0x2e2d87){const _0x4ced92=this['editor']['commands']['get'](_0xa3680e);if(!_0x4ced92)throw new _0xd6c8f5('track-changes-command-not-found',this,{'commandName':_0xa3680e});if(this['_enabledCommands']['has'](_0x4ced92))throw new _0xd6c8f5('track-changes-enable-command-twice',this,{'commandName':_0xa3680e});this['_enabledCommands']['add'](_0x4ced92),_0x2e2d87&&_0x4ced92['on']('execute',(_0x54312f,_0x34d021)=>{this['trackChangesCommand']['value']&&(this['_isForcedDefaultExecutionBlock']||(_0x34d021['length']>0x0&&_0x34d021[_0x34d021['length']-0x1]&&_0x34d021[_0x34d021['length']-0x1]['forceDefaultExecution']?_0x34d021['pop']():(_0x54312f['return']=_0x2e2d87((..._0x5c4178)=>_0x4ced92['execute'](..._0x5c4178,{'forceDefaultExecution':!0x0}),..._0x34d021),_0x54312f['stop']())));},{'priority':'high'});}['forceDefaultExecution'](_0x4f9a60){let _0x3efe10,_0x5a62ff;const _0xc4b1f0=this['_isForcedDefaultExecutionBlock'];this['_isForcedDefaultExecutionBlock']=!0x0;try{_0x3efe10=_0x4f9a60();}catch(_0x1399cf){_0x5a62ff=_0x1399cf;}return _0xc4b1f0||(this['_isForcedDefaultExecutionBlock']=!0x1),_0x5a62ff&&_0xd6c8f5['rethrowUnexpectedError'](_0x5a62ff,this),_0x3efe10;}['markInsertion'](_0x3f7689,_0x2aedd3=null,_0x1a6edd={}){if(_0x3f7689['isCollapsed'])return null;const _0x4137c4=this['editor']['plugins']['get']('Users')['me'];for(const {suggestion:_0xc4bc0f,meta:_0x4bcb00}of this['_findSuggestions'](_0x3f7689,'insertion'))if(_0x4bcb00['isOwn']){if(!_0x4bcb00['isNextTo']){if(_0x4bcb00['containsRangeInObject']){if(!this['_mergeNestedSuggestions']||!zt(_0xc4bc0f,_0x1a6edd))continue;return _0xc4bc0f;}if(zt(_0xc4bc0f,_0x1a6edd))return _0xc4bc0f;this['_breakSuggestionMarker'](_0xc4bc0f,_0x3f7689['start'],_0x3f7689['end']);break;}if(_0x2aedd3==_0xc4bc0f['subType']&&zt(_0xc4bc0f,_0x1a6edd)){const _0x47a2aa=_0xc4bc0f['getFirstRange']();return _0x47a2aa['start']['isEqual'](_0x3f7689['end'])?this['_setSuggestionRange'](_0xc4bc0f,this['_model']['createRange'](_0x3f7689['start'],_0x47a2aa['end'])):this['_setSuggestionRange'](_0xc4bc0f,this['_model']['createRange'](_0x47a2aa['start'],_0x3f7689['end'])),_0xc4bc0f;}}const _0x35d893=_0x188e81(),_0x4be4c8=_0x4137c4['id'],_0x15b9e0=_0x2aedd3?'insertion:'+_0x2aedd3:'insertion',_0x45bdac=this['_setSuggestionData']({'id':_0x35d893,'type':_0x15b9e0,'createdAt':new Date(),'authorId':_0x4be4c8,'attributes':_0x1a6edd});return this['_addSuggestionMarker'](_0x15b9e0,_0x35d893,_0x4be4c8,_0x3f7689),_0x45bdac;}['markMultiRangeInsertion'](_0x381e5d,_0x5b0073='multi',_0x1f614f={}){const _0x4b29d5=this['editor']['plugins']['get']('Users')['me'],_0x12f159=this['_suggestionFactory']['getSuggestionCallback']('insertion',_0x5b0073,'join');for(const _0x9246c9 of this['getSuggestions']())if(_0x9246c9['author']['id']==_0x4b29d5['id']&&'insertion'==_0x9246c9['type']&&_0x9246c9['subType']==_0x5b0073&&zt(_0x9246c9,_0x1f614f)&&(_0x12f159(_0x9246c9['getRanges'](),_0x381e5d)||_0x12f159(_0x381e5d,_0x9246c9['getRanges']()))){for(const _0x1f5920 of _0x381e5d)_0x9246c9['addRange'](_0x1f5920);return _0x9246c9;}for(const {suggestion:_0x26286a,meta:_0x17fba5}of this['_findSuggestions'](_0x381e5d,'insertion')){if(!_0x17fba5['isOwn'])continue;if(!this['_mergeNestedSuggestions']&&_0x17fba5['containsRangeInObject'])continue;if(!zt(_0x26286a,_0x1f614f))continue;let _0x311c57=!0x0;for(const _0x46c26c of _0x26286a['getRanges']())for(const _0x4457d9 of _0x381e5d)if(!_0x46c26c['containsRange'](_0x4457d9)){_0x311c57=!0x1;break;}if(_0x311c57)return _0x26286a;}const _0x19279e=_0x188e81(),_0x23bf84=_0x4b29d5['id'],_0x19038a='insertion:'+_0x5b0073,_0x5675b5=this['_setSuggestionData']({'id':_0x19279e,'type':_0x19038a,'createdAt':new Date(),'authorId':_0x23bf84,'attributes':_0x1f614f});for(const _0x29e1d8 of _0x381e5d)this['_addSuggestionMarker'](_0x19038a,_0x19279e,_0x23bf84,_0x29e1d8,u['getMultiRangeId']());return _0x5675b5;}['markInlineFormat'](_0x28360f,_0x2ed1c7,_0x192806=null,_0x27953c={}){if(_0x192806=_0x192806||Gt(_0x2ed1c7),_0x28360f['isCollapsed'])return null;if('never'===this['_trackFormatChanges']){const _0x4057b5=this['_suggestionFactory']['getSuggestionCallback']('formatInline',_0x192806,'accept');return this['forceDefaultExecution'](()=>_0x4057b5([_0x28360f],_0x2ed1c7,_0x27953c)),null;}const _0x4bb8aa=this['editor']['plugins']['get']('Users')['me'],_0x4f7322=[];if('always'!==this['_trackFormatChanges']){for(const {suggestion:_0x53a72b,meta:_0x136a1c}of this['_findSuggestions'](_0x28360f,'insertion'))_0x136a1c['isOwn']&&!_0x136a1c['isInsideObject']&&_0x4f7322['push'](..._0x53a72b['getRanges']());}const _0x481c1f=function(_0x5e29e2,_0x442f9b){const _0x3c7114=[];for(const _0x11b44c of _0x442f9b){const _0x989253=_0x5e29e2['getIntersection'](_0x11b44c);_0x989253&&_0x3c7114['push'](_0x989253);}return _0x3c7114;}(_0x28360f,_0x4f7322),_0x10fb4a=function(_0x3f4038,_0xb0ab9d){const _0x1e2207=[_0x3f4038];for(const _0x40b17e of _0xb0ab9d){let _0x8a6ee4=0x0;for(;_0x8a6ee4<_0x1e2207['length'];){const _0xeebec0=_0x1e2207[_0x8a6ee4]['getDifference'](_0x40b17e);_0x1e2207['splice'](_0x8a6ee4,0x1,..._0xeebec0),_0x8a6ee4+=_0xeebec0['length'];}}return _0x1e2207;}(_0x28360f,_0x4f7322);_0x481c1f['length']&&this['_model']['change'](()=>{for(const _0xcc35a1 of _0x481c1f){const _0x5dcbf3=this['_suggestionFactory']['getSuggestionCallback']('formatInline',_0x192806,'accept');this['forceDefaultExecution'](()=>_0x5dcbf3([_0xcc35a1],_0x2ed1c7,_0x27953c));}});for(const _0x3c57bb of _0x10fb4a){let _0x2e36ae=null,_0x2669e5=_0x3c57bb['start'],_0xbea2b3=_0x3c57bb['end'];for(const {suggestion:_0x205b08,meta:_0x3454b7}of this['_findSuggestions'](_0x3c57bb,'formatInline')){if(!_0x3454b7['isOwn'])continue;if(_0x205b08['subType']!=_0x192806)continue;if(!zt(_0x205b08,_0x27953c))continue;const _0x3ce9af=_0x205b08['getFirstRange']();if(_0x3ce9af['containsRange'](_0x3c57bb,!0x0))return null;_0x2669e5=_0x2669e5['isBefore'](_0x3ce9af['start'])?_0x2669e5:_0x3ce9af['start'],_0xbea2b3=_0xbea2b3['isAfter'](_0x3ce9af['end'])?_0xbea2b3:_0x3ce9af['end'],_0x2e36ae?_0x3ce9af['start']['isBefore'](_0x2e36ae['getFirstRange']()['start'])?(_0x2e36ae['removeMarkers'](),_0x2e36ae=_0x205b08):_0x205b08['removeMarkers']():_0x2e36ae=_0x205b08;}const _0x2f5fa5=this['_model']['createRange'](_0x2669e5,_0xbea2b3);if(_0x2e36ae)this['_setSuggestionRange'](_0x2e36ae,_0x2f5fa5);else{const _0x8657f1=_0x188e81(),_0x5aa834=_0x4bb8aa['id'];this['_setSuggestionData']({'id':_0x8657f1,'type':'formatInline:'+_0x192806,'data':_0x2ed1c7,'createdAt':new Date(),'authorId':_0x5aa834,'attributes':_0x27953c}),this['_addSuggestionMarker']('formatInline:'+_0x192806,_0x8657f1,_0x5aa834,_0x2f5fa5);}}return null;}['markBlockFormat'](_0x5e58e8,_0x14c47a,_0x10ef72=[],_0x1e595f=null,_0x5b5104={}){_0x14c47a['formatGroupId']||(_0x14c47a['formatGroupId']=_0x14c47a['commandName']),_0x14c47a['multipleBlocks']=_0x5e58e8['is']('range'),_0x1e595f=_0x1e595f||Gt(_0x14c47a);const _0x26936a=_0x10ef72['map'](_0x51bd97=>Jt(_0x51bd97,this['_model'])),_0x5e9b73=_0x5e58e8['is']('range')?_0x5e58e8:Jt(_0x5e58e8,this['_model']);if('never'===this['_trackFormatChanges']){const _0x3257b2=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x1e595f,'accept');return this['forceDefaultExecution'](()=>_0x3257b2([_0x5e9b73],_0x14c47a,_0x5b5104)),null;}_0x26936a['push'](_0x5e9b73);let _0x51086d=!0x0;for(const _0xd4ff86 of _0x26936a)if(!this['_rangeIsInLocalUserInsertion'](_0xd4ff86)){_0x51086d=!0x1;break;}if(_0x51086d&&'always'!==this['_trackFormatChanges']){const _0x2e3915=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x1e595f,'accept');return this['forceDefaultExecution'](()=>_0x2e3915([_0x5e9b73],_0x14c47a,_0x5b5104)),null;}let _0xfcfe6f=null,_0x5e673f=_0x5e9b73['start'],_0x4e124d=_0x5e9b73['end'];for(const {suggestion:_0x5f5062,meta:_0x4af337}of this['_findSuggestions'](_0x5e9b73,'formatBlock')){if(!_0x4af337['isOwn'])continue;if(_0x4af337['isNextTo']||_0x4af337['containsRangeInObject']||_0x4af337['isInsideObject'])continue;if(_0x5f5062['data']['formatGroupId']!=_0x14c47a['formatGroupId'])continue;if(!zt(_0x5f5062,_0x5b5104))continue;const _0x4b25d6=_0x5f5062['getFirstRange']();if(_0x5f5062['subType']==_0x1e595f){if(_0x4b25d6['containsRange'](_0x5e9b73,!0x0))return null;_0x5e673f=_0x5e673f['isBefore'](_0x4b25d6['start'])?_0x5e673f:_0x4b25d6['start'],_0x4e124d=_0x4e124d['isAfter'](_0x4b25d6['end'])?_0x4e124d:_0x4b25d6['end'],_0xfcfe6f?_0x4b25d6['start']['isBefore'](_0xfcfe6f['getFirstRange']()['start'])?(_0xfcfe6f['removeMarkers'](),_0xfcfe6f=_0x5f5062):_0x5f5062['removeMarkers']():_0xfcfe6f=_0x5f5062;}else{const _0x2544c4=_0x5e9b73['getIntersection'](_0x4b25d6);this['_cutOutSuggestionMarker'](_0x5f5062,_0x2544c4);}}const _0x51a3de=this['editor']['plugins']['get']('Users')['me'],_0x49e289=_0x188e81(),_0x224a9d=_0x51a3de['id'];if(_0xfcfe6f)return this['_setSuggestionRange'](_0xfcfe6f,this['_model']['createRange'](_0x5e673f,_0x4e124d)),_0xfcfe6f;{const _0x25cf0e=this['_setSuggestionData']({'id':_0x49e289,'type':'formatBlock:'+_0x1e595f,'data':_0x14c47a,'createdAt':new Date(),'authorId':_0x224a9d,'attributes':_0x5b5104});return this['_addSuggestionMarker']('formatBlock:'+_0x1e595f,_0x49e289,_0x224a9d,this['_model']['createRange'](_0x5e673f,_0x4e124d)),_0x25cf0e;}}['markMultiRangeBlockFormat'](_0xa2e164,_0x3a6d23,_0x7c71a5=[],_0x139ba0=null,_0x470de2={}){_0x3a6d23['formatGroupId']||(_0x3a6d23['formatGroupId']=_0x3a6d23['commandName']);const _0x461610=_0xa2e164[0x0];_0x3a6d23['multipleBlocks']=_0x461610['is']('range'),_0x139ba0=_0x139ba0||Gt(_0x3a6d23);const _0x5d04ef=_0x7c71a5['map'](_0x82ed20=>Jt(_0x82ed20,this['_model'])),_0x137630=_0x461610['is']('range')?_0xa2e164:_0xa2e164['map'](_0x2fd7f4=>Jt(_0x2fd7f4,this['_model']));if('never'===this['_trackFormatChanges']){const _0x8c8346=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x139ba0,'accept');return this['forceDefaultExecution'](()=>_0x8c8346(_0x137630,_0x3a6d23,_0x470de2)),null;}_0x5d04ef['push'](..._0x137630);let _0x4f37e3=!0x0;for(const _0x41abc8 of _0x5d04ef)if(!this['_rangeIsInLocalUserInsertion'](_0x41abc8)){_0x4f37e3=!0x1;break;}if(_0x4f37e3&&'always'!==this['_trackFormatChanges']){const _0x59b5bb=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x139ba0,'accept');return this['forceDefaultExecution'](()=>_0x59b5bb(_0x137630,_0x3a6d23,_0x470de2)),null;}const _0x578d91=this['editor']['plugins']['get']('Users')['me'];for(const _0x258b2b of this['getSuggestions']()){if(_0x258b2b['author']['id']!=_0x578d91['id'])continue;if('formatBlock'!=_0x258b2b['type']||_0x258b2b['data']['formatGroupId']!=_0x3a6d23['formatGroupId'])continue;if(!zt(_0x258b2b,_0x470de2))continue;const _0x3da8a2=_0x258b2b['subType']==_0x139ba0;for(let _0xe7b1ad=0x0;_0xe7b1ad<_0x137630['length'];_0xe7b1ad++){const _0x49e89c=_0x137630[_0xe7b1ad];for(const _0x2640c0 of _0x258b2b['getMarkers']()){const _0x512a73=_0x2640c0['getRange']();if(_0x49e89c['isEqual'](_0x512a73)){_0x3da8a2?(_0x137630['splice'](_0xe7b1ad,0x1),_0xe7b1ad--):_0x258b2b['removeMarker'](_0x2640c0['name']);break;}}}}if(0x0==_0x137630['length'])return null;const _0x171042=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x139ba0,'join');for(const _0x52e3af of this['getSuggestions']())if(_0x52e3af['author']['id']==_0x578d91['id']&&'formatBlock'==_0x52e3af['type']&&_0x52e3af['data']['formatGroupId']==_0x3a6d23['formatGroupId']&&_0x52e3af['subType']==_0x139ba0&&zt(_0x52e3af,_0x470de2)&&(_0x171042(_0x52e3af['getRanges'](),_0x137630)||_0x171042(_0x137630,_0x52e3af['getRanges']()))){for(const _0x14d7d0 of _0x137630)_0x52e3af['addRange'](_0x14d7d0);return _0x52e3af;}const _0x1fd157=_0x188e81(),_0x44979e=_0x578d91['id'],_0x300959='formatBlock:'+_0x139ba0,_0x3fa43e=this['_setSuggestionData']({'id':_0x1fd157,'type':_0x300959,'data':_0x3a6d23,'createdAt':new Date(),'authorId':_0x44979e,'attributes':_0x470de2});for(const _0x25ec90 of _0x137630)this['_addSuggestionMarker'](_0x300959,_0x1fd157,_0x44979e,_0x25ec90,u['getMultiRangeId']());return _0x3fa43e;}['markDeletion'](_0x3581d3,_0x471b93=null,_0x1972bc={}){if(_0x3581d3['isCollapsed'])return null;const _0xa1a39b=this['editor']['plugins']['get']('Users')['me'],_0x504947=new _0xf48340(_0x3581d3['start'],_0x3581d3['end']);for(const {suggestion:_0x9c0e6,meta:_0x1cd77c}of this['_findSuggestions'](_0x504947,'insertion'))if(_0x1cd77c['isOwn']&&!_0x1cd77c['isNextTo']){if(_0x9c0e6['isMultiRange']){const _0x1b3393=_0x9c0e6['getRanges']()['filter'](_0x34a0e2=>'$graveyard'!=_0x34a0e2['root']['rootName']);_0x1b3393['every'](_0x41dde6=>_0x504947['containsRange'](_0x41dde6,!0x0))&&_0x9c0e6['discard']();if(_0x1b3393['some'](_0x3d5604=>_0x3d5604['containsRange'](_0x504947,!0x0))){const _0x531260=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x471b93,'accept');return this['forceDefaultExecution'](()=>_0x531260([_0x504947],null,_0x1972bc)),null;}}else{const _0x12959b=_0x504947['getIntersection'](_0x9c0e6['getFirstRange']());null!==_0x12959b&&_0x9c0e6['_onDiscard']([_0x12959b],null,_0x1972bc);}}if(_0x504947['detach'](),_0x504947['isCollapsed']||'$graveyard'==_0x504947['root']['rootName'])return null;let _0x15c8ce=null,_0xe9b1d6=_0x504947['start'],_0x3de53b=_0x504947['end'];const _0x42cb4c=this['_findSuggestions'](_0x504947,'deletion');for(const {suggestion:_0x29add6,meta:_0x5940b6}of _0x42cb4c){const _0x414333=this['_model']['createRange'](_0xe9b1d6,_0x3de53b);if(_0x5940b6['isOwn']&&(this['_mergeNestedSuggestions']||!_0x5940b6['containsRangeInObject']&&!_0x5940b6['isInsideObject'])){if(_0x29add6['isMultiRange']){if(!zt(_0x29add6,_0x1972bc))continue;let _0x14c74e=!0x0;for(const _0x5ce9bc of _0x29add6['getRanges']()){if(_0x5ce9bc['containsRange'](_0x414333,!0x0))return _0x29add6;_0x414333['containsRange'](_0x5ce9bc)||(_0x14c74e=!0x1);}_0x14c74e&&_0x29add6['discard']();}else{const _0x18dc0f=_0x29add6['getFirstRange']();if(_0x18dc0f['containsRange'](_0x414333,!0x0))return _0x29add6;if(!zt(_0x29add6,_0x1972bc)){_0x414333['containsRange'](_0x18dc0f)?_0x29add6['removeMarkers']():_0x18dc0f['containsPosition'](_0xe9b1d6)?_0xe9b1d6=_0x18dc0f['end']:_0x18dc0f['containsPosition'](_0x3de53b)&&(_0x3de53b=_0x18dc0f['start']);continue;}_0xe9b1d6=_0xe9b1d6['isBefore'](_0x18dc0f['start'])?_0xe9b1d6:_0x18dc0f['start'],_0x3de53b=_0x3de53b['isAfter'](_0x18dc0f['end'])?_0x3de53b:_0x18dc0f['end'],_0x1972bc=Object['assign']({},_0x29add6['attributes']),_0x15c8ce?_0x18dc0f['start']['isBefore'](_0x15c8ce['getFirstRange']()['start'])?(_0x15c8ce['removeMarkers'](),_0x15c8ce=_0x29add6):_0x29add6['removeMarkers']():_0x15c8ce=_0x29add6;}}}if(_0x15c8ce)return this['_setSuggestionRange'](_0x15c8ce,this['_model']['createRange'](_0xe9b1d6,_0x3de53b)),_0x15c8ce;{const _0x3f951b=_0x188e81(),_0x57010a=this['_model']['createRange'](_0xe9b1d6,_0x3de53b),_0xe0576=_0xa1a39b['id'],_0x11615f=_0x471b93?'deletion:'+_0x471b93:'deletion',_0x58c045=this['_setSuggestionData']({'id':_0x3f951b,'type':_0x11615f,'createdAt':new Date(),'authorId':_0xe0576,'attributes':_0x1972bc});return this['_addSuggestionMarker'](_0x11615f,_0x3f951b,_0xe0576,_0x57010a),_0x58c045;}}['markMultiRangeDeletion'](_0x424606,_0x51f5cd='multi',_0x422797={}){const _0x30c7c8=this['editor']['plugins']['get']('Users')['me'],_0x4b523c=_0x424606['map'](_0x128840=>new _0xf48340(_0x128840['start'],_0x128840['end'])),_0x343880=new Set();for(const {suggestion:_0x34ca02,meta:_0xc046a4}of this['_findSuggestions'](_0x4b523c,'insertion'))_0xc046a4['isOwn']&&!_0xc046a4['isNextTo']&&_0x343880['add'](_0x34ca02);for(const _0x38eb8d of _0x343880)if(_0x38eb8d['isMultiRange']){const _0xdb666=_0x38eb8d['getRanges']();(!_0x38eb8d['attributes']||!_0x38eb8d['attributes']['skipNestingCheck'])&&(_0xdb666['every'](_0x5ee20a=>_0x4b523c['some'](_0x5872bd=>_0x5872bd['containsRange'](_0x5ee20a,!0x0)))&&_0x38eb8d['discard']());if(_0x4b523c['every'](_0x11bdf0=>_0xdb666['some'](_0x2192f0=>_0x2192f0['containsRange'](_0x11bdf0,!0x0)))){const _0x1279d6=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x51f5cd,'accept');return this['forceDefaultExecution'](()=>_0x1279d6(_0x424606,null,_0x422797)),null;}}else{const _0x3e54e4=_0x38eb8d['getFirstRange']();_0x4b523c['some'](_0x380435=>_0x380435['containsRange'](_0x3e54e4,!0x0))&&_0x38eb8d['discard']();if(_0x4b523c['every'](_0x543c36=>_0x3e54e4['containsRange'](_0x543c36,!0x0))){const _0x41cd12=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x51f5cd,'accept');return this['forceDefaultExecution'](()=>_0x41cd12(_0x4b523c,null,_0x422797)),null;}}const _0x38fd6d=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x51f5cd,'join');let _0x5602b3=null;for(const _0x37500f of this['getSuggestions']())if(_0x37500f['author']['id']==_0x30c7c8['id']&&_0x37500f['isInContent']&&'deletion'==_0x37500f['type']&&_0x37500f['subType']==_0x51f5cd&&zt(_0x37500f,_0x422797)&&(_0x38fd6d(_0x37500f['getRanges'](),_0x4b523c)||_0x38fd6d(_0x4b523c,_0x37500f['getRanges']()))){if(_0x5602b3){if(_0x37500f['commentThread']&&_0x37500f['commentThread']['length'])continue;for(const _0x34a1f1 of _0x37500f['getRanges']())_0x5602b3['isIntersectingWithRange'](_0x34a1f1)||_0x5602b3['addRange'](_0x34a1f1);_0x37500f['removeMarkers']();}else{_0x5602b3=_0x37500f;for(const _0x44104b of _0x4b523c)_0x37500f['isIntersectingWithRange'](_0x44104b)||_0x37500f['addRange'](_0x44104b);}}if(_0x5602b3)return _0x5602b3;_0x343880['clear']();for(const {suggestion:_0x32a1b5,meta:_0x3d96a8}of this['_findSuggestions'](_0x4b523c,'deletion'))_0x3d96a8['isOwn']&&(this['_mergeNestedSuggestions']||!_0x3d96a8['containsRangeInObject']&&!_0x3d96a8['isInsideObject'])&&zt(_0x32a1b5,_0x422797)&&_0x343880['add'](_0x32a1b5);for(const _0xc21e10 of _0x343880){const _0x5e695c=_0xc21e10['getRanges']();if(!_0x422797||!_0x422797['skipNestingCheck']){if(_0x4b523c['every'](_0x3603e9=>_0x5e695c['some'](_0x359ca1=>_0x359ca1['containsRange'](_0x3603e9,!0x0))))return _0xc21e10;}(!_0xc21e10['attributes']||!_0xc21e10['attributes']['skipNestingCheck'])&&(_0x5e695c['every'](_0x500c82=>_0x4b523c['some'](_0x856858=>_0x856858['containsRange'](_0x500c82,!0x0)))&&_0xc21e10['discard']());}const _0x239139=_0x188e81(),_0x1bfecb=_0x30c7c8['id'],_0x427851='deletion:'+_0x51f5cd,_0x27c8c4=this['_setSuggestionData']({'id':_0x239139,'type':_0x427851,'createdAt':new Date(),'authorId':_0x1bfecb,'attributes':_0x422797});for(const _0x272b11 of _0x4b523c)_0x272b11['detach'](),_0x272b11['isCollapsed']||'$graveyard'==_0x272b11['root']['rootName']||this['_addSuggestionMarker'](_0x427851,_0x239139,_0x1bfecb,_0x272b11,u['getMultiRangeId']());return _0x27c8c4;}['markAttributeChange'](_0x3ae297,_0x134ac0,_0x31d7b8,_0x2b86b7,_0x46ad60){if(_0x3ae297['isCollapsed'])return[];if('never'===this['_trackFormatChanges'])return[];const _0x433e31=this['editor']['plugins']['get']('Users')['me']['id'],_0x548376=Array['from'](this['_suggestions']['values']())['filter'](_0x55e592=>'attribute'==_0x55e592['type']&&_0x55e592['data']['key']==_0x134ac0&&_0x55e592['isIntersectingWithRange'](_0x3ae297));if('default'===this['_trackFormatChanges']){const _0x199060=this['_findSuggestions'](_0x3ae297,'insertion')['filter'](({meta:_0x82045a})=>_0x82045a['isOwn']&&!_0x82045a['isInsideObject']&&!_0x82045a['isNextTo'])['map'](({suggestion:_0x2f52ca})=>_0x2f52ca);_0x548376['unshift'](..._0x199060);}const _0x46a556=new Map([[_0x3ae297,_0x31d7b8]]);for(const _0x50b015 of _0x548376){const _0xb2c9ac='attribute'==_0x50b015['type']?_0x50b015['data']['oldValue']:void 0x0,_0x122dda=_0x50b015['getFirstRange'](),_0x174a0b=Array['from'](_0x46a556['keys']())['find'](_0x6475eb=>_0x6475eb['isIntersecting'](_0x122dda));if(!_0x174a0b)continue;const _0x1c6a8b=_0x174a0b['getDifference'](_0x122dda);this['_isBlockAttribute'](_0x134ac0)&&'insertion'==_0x50b015['type']&&0x0!=_0x1c6a8b['length']||(_0x46a556['delete'](_0x174a0b),_0x1c6a8b['forEach'](_0x3b2356=>{_0x46a556['set'](_0x3b2356,_0x31d7b8);}),'insertion'!=_0x50b015['type']&&_0xb2c9ac!=_0x2b86b7&&_0x46a556['set'](_0x174a0b['getIntersection'](_0x122dda),_0xb2c9ac));}const _0x4b8f05=[];for(const [_0x433738,_0x383452]of _0x46a556){const _0x145e1b=_0x188e81(),_0x33aee2={'key':_0x134ac0,'oldValue':_0x383452,'newValue':_0x2b86b7};_0x134ac0['length']>0x25&&console['warn']('Creating\x20a\x20suggestion\x20for\x20attribute\x20with\x20too\x20long\x20attribute\x20key.\x20This\x20may\x20lead\x20to\x20errors.\x20Change\x20the\x20attribute\x20key\x20to\x20a\x20value\x20shorter\x20than\x2037\x20characters.',{'key':_0x134ac0});const _0x445940=('attribute:'+(_0x134ac0+'|'+Gt({'newValue':_0x2b86b7})))['substring'](0x0,0x3c),_0x56e3f3=this['_setSuggestionData']({'id':_0x145e1b,'type':_0x445940,'data':_0x33aee2,'createdAt':new Date(),'authorId':_0x433e31,'attributes':_0x46ad60});_0x4b8f05['push'](_0x56e3f3),this['_addSuggestionMarker'](_0x445940,_0x145e1b,_0x433e31,_0x433738);}return _0x4b8f05;}['enableDefaultAttributesIntegration'](_0x51fe21){this['enableCommand'](_0x51fe21,(_0x22bad1,..._0x2b4209)=>{this['_recordAttributeChanges'](()=>{_0x22bad1(..._0x2b4209);});});}['registerBlockAttribute'](_0x23beb9){this['_blockAttributeKeys']['add'](_0x23beb9);}['registerInlineAttribute'](_0x237301){this['_inlineAttributeKeys']['add'](_0x237301);}['_getAttributeKey'](_0x77e8aa){return'attribute'==_0x77e8aa['type']?_0x77e8aa['subType']['split']('|')[0x0]:null;}['_setSuggestionRange'](_0x264dd7,_0x393ac9){const _0x2316f8=_0x264dd7['getFirstMarker']();this['_model']['change'](_0x4e3911=>{_0x4e3911['updateMarker'](_0x2316f8,{'range':_0x393ac9});});}['_addThreadToSuggestion'](_0x1c9388){const _0x1729f0=_0x1c9388['id'],_0x5c5784=this['editor']['config']['get']('collaboration.channelId');this['_commentsRepository']['hasCommentThread'](_0x1729f0)||this['_commentsRepository']['addCommentThread']({'channelId':_0x5c5784,'threadId':_0x1729f0,'isResolvable':!0x1,'isSubmitted':!0x0});const _0x1eb7d5=this['_commentsRepository']['getCommentThread'](_0x1729f0);_0x1eb7d5['unbind']('isRemovable'),_0x1eb7d5['isRemovable']=!0x1,_0x1c9388['commentThread']=_0x1eb7d5;}['_checkSuggestionCorrectness'](_0x3a7a20,_0x296ca2,_0xcb323,_0x33643e){if(_0x3a7a20['type']!=_0x296ca2||_0x3a7a20['subType']!=_0xcb323||_0x3a7a20['creator']['id']!=_0x33643e)throw this['editor']['enableReadOnlyMode']('track-changes-suggestion-data-mismatch'),new _0xd6c8f5('track-changes-suggestion-data-mismatch',this);}['_cutOutSuggestionMarker'](_0x2c3b78,_0x2d1025){const _0x4f4b4c=_0x2c3b78['getFirstRange']();if(_0x2d1025['isEqual'](_0x4f4b4c))_0x2c3b78['removeMarkers']();else{if(_0x4f4b4c['containsRange'](_0x2d1025)){const _0x2647be=this['_model']['createPositionAt'](_0x2d1025['start']['nodeBefore'],'end');this['_setSuggestionRange'](_0x2c3b78,this['_model']['createRange'](_0x4f4b4c['start'],_0x2647be));const _0x171cd1=_0x188e81(),_0x40e038=_0x2c3b78['creator']['id'],_0x1fea46=_0x2c3b78['type']+':'+_0x2c3b78['subType'];this['_setSuggestionData']({'id':_0x171cd1,'type':_0x1fea46,'createdAt':new Date(),'authorId':_0x40e038,'data':_0x2c3b78['data'],'attributes':_0x2c3b78['attributes']});const _0x3fab68=this['_model']['createPositionAt'](_0x2d1025['end']['parent'],'after'),_0xb430e=this['_model']['createRange'](_0x3fab68,_0x4f4b4c['end']);this['_addSuggestionMarker'](_0x1fea46,_0x171cd1,_0x40e038,_0xb430e);}else{if(_0x4f4b4c['containsPosition'](_0x2d1025['start'])){const _0x1503de=this['_model']['createPositionAt'](_0x2d1025['start']['nodeBefore'],'end');this['_setSuggestionRange'](_0x2c3b78,this['_model']['createRange'](_0x4f4b4c['start'],_0x1503de));}else{const _0x5db9c7=this['_model']['createPositionAt'](_0x2d1025['end']['parent'],'after');this['_setSuggestionRange'](_0x2c3b78,this['_model']['createRange'](_0x5db9c7,_0x4f4b4c['end']));}}}}['_rangeIsInLocalUserInsertion'](_0xd4dd46){for(const {suggestion:_0x5b62a7,meta:_0x159041}of this['_findSuggestions'](_0xd4dd46,'insertion')){if(!_0x159041['isOwn'])continue;const _0x54ea36=_0x5b62a7['getRanges']();for(const _0x433c2a of _0x54ea36)if(!_0xd4dd46['getDifference'](_0x433c2a)['length'])return!0x0;}return!0x1;}['_getAuthorFromId'](_0x1e7315){const _0x2a4ecc=this['editor']['plugins']['get']('Users')['getUser'](_0x1e7315);if(!_0x2a4ecc)throw new _0xd6c8f5('track-changes-user-not-found',this);return _0x2a4ecc;}['_getExternalAuthor'](_0x3bf476){const _0x4dbbaa=this['editor']['plugins']['get']('Users'),_0x5a46f2=_0x301f50('external:'+_0x3bf476),_0x4191e4=_0x4dbbaa['getUser'](_0x5a46f2);return _0x4191e4||_0x4dbbaa['addUser']({'id':_0x5a46f2,'name':_0x3bf476});}['_createSuggestion'](_0x1b2ccf,_0x3d3aba,_0x2af8f0,_0x741e3e,_0x26a2ef){const _0x28554b=this['_getAuthorFromId'](_0x741e3e),_0x461a91=this['_suggestionFactory']['buildSuggestion'](_0x1b2ccf,_0x3d3aba,_0x2af8f0,_0x28554b,_0x26a2ef,_0x193567=>{this['_updateSuggestionData'](_0x2af8f0,{'attributes':_0x193567});const _0x5947ca=this['getSuggestion'](_0x2af8f0);this['_joinWithAdjacentSuggestions'](new Set([_0x5947ca])),this['_refreshSuggestionsChain'](new Set([_0x5947ca]));});return this['listenTo'](_0x461a91,'accept',()=>{this['_updateSuggestionData'](_0x2af8f0,{'state':'accepted'});},{'priority':'high'}),this['listenTo'](_0x461a91,'discard',()=>{this['_updateSuggestionData'](_0x2af8f0,{'state':'rejected'});},{'priority':'high'}),this['_suggestions']['set'](_0x2af8f0,_0x461a91),this['_suggestionState']['set'](_0x461a91,'notReady'),_0x461a91;}['_splitMarkerName'](_0x2c0db4){const _0x4f9cf9=_0x2c0db4['split'](':');return{'group':_0x4f9cf9[0x0],'type':_0x4f9cf9[0x1],'subType':_0x4f9cf9['length']>=0x5?_0x4f9cf9[0x2]:null,'id':_0x4f9cf9['length']<0x5?_0x4f9cf9[0x2]:_0x4f9cf9[0x3],'authorId':_0x4f9cf9['length']<0x5?_0x4f9cf9[0x3]:_0x4f9cf9[0x4],'markerCount':0x6==_0x4f9cf9['length']?_0x4f9cf9[0x5]:null};}['_breakSuggestionMarker'](_0x572278,_0x436651,_0x5361f2){const _0xc89550=_0x572278['getFirstRange'](),_0x4ef828=_0xc89550['start'],_0x3874cb=_0xc89550['end'];this['_setSuggestionRange'](_0x572278,this['_model']['createRange'](_0x4ef828,_0x436651));const _0x23d42e=_0x188e81(),_0x582c77=_0x572278['creator']['id'],_0x10805c=_0x572278['type']+(_0x572278['subType']?':'+_0x572278['subType']:'');this['_setSuggestionData']({'id':_0x23d42e,'type':_0x10805c,'createdAt':new Date(),'authorId':_0x582c77,'originalSuggestionId':_0x572278['id'],'attributes':_0x572278['attributes'],'data':_0x572278['data']});const _0x489fb4=this['_getAttributeKey'](_0x572278);('formatBlock'==_0x572278['type']||_0x489fb4&&this['_isBlockAttribute'](_0x489fb4))&&(_0x5361f2=this['_model']['createPositionBefore'](_0x5361f2['parent'])),this['_addSuggestionMarker'](_0x10805c,_0x23d42e,_0x582c77,this['_model']['createRange'](_0x5361f2,_0x3874cb));}['_findSuggestions'](_0x3e6597,_0x329782=null){const _0x3bb3c4=[],_0x205eb0=this['editor']['plugins']['get']('Users')['me'];Array['isArray'](_0x3e6597)||(_0x3e6597=[_0x3e6597]);for(const _0x2f2c99 of this['getSuggestions']()){if(!_0x2f2c99['isInContent'])continue;if(_0x329782&&_0x2f2c99['type']!=_0x329782)continue;let _0x5cba1f=!0x1;for(const _0x5e905b of _0x2f2c99['getRanges']()){for(const _0x394708 of _0x3e6597){const _0x45844d=_0x394708['start']['isEqual'](_0x5e905b['end'])||_0x394708['end']['isEqual'](_0x5e905b['start']);if(_0x45844d||_0x394708['getIntersection'](_0x5e905b)){const _0x2595b1=_0x394708['containsRange'](_0x5e905b)&&Ut(this['_model']['schema'],_0x5e905b['start'],_0x394708),_0x1ad441=_0x5e905b['containsRange'](_0x394708)&&Ut(this['_model']['schema'],_0x394708['start'],_0x5e905b);_0x3bb3c4['push']({'suggestion':_0x2f2c99,'meta':{'isOwn':_0x205eb0==_0x2f2c99['author'],'isNextTo':_0x45844d,'isInsideObject':_0x2595b1,'containsRangeInObject':_0x1ad441}}),_0x5cba1f=!0x0;break;}}if(_0x5cba1f)break;}}return _0x3bb3c4;}['_addSuggestionMarker'](_0x3969e4,_0x32f6d8,_0x21acba,_0x27289b,_0x32d4c6){this['_model']['change'](_0x2f1f2a=>{let _0x29656f='suggestion:'+_0x3969e4+':'+_0x32f6d8+':'+_0x21acba;_0x32d4c6&&(_0x29656f=_0x29656f+':'+_0x32d4c6),_0x2f1f2a['addMarker'](_0x29656f,{'range':_0x27289b,'usingOperation':!0x0,'affectsData':!0x0});});}['_removeSuggestion'](_0x12e06a){const _0x3ca7e4=_0x12e06a['previous'],_0x22be55=_0x12e06a['next'];_0x12e06a['previous']=null,_0x12e06a['next']=null,null!=_0x3ca7e4&&_0x3ca7e4['next']==_0x12e06a&&(_0x3ca7e4['next']=_0x22be55),null!=_0x22be55&&_0x22be55['previous']==_0x12e06a&&(_0x22be55['previous']=_0x3ca7e4),'ready'==this['_suggestionState']['get'](_0x12e06a)&&(this['_suggestionState']['set'](_0x12e06a,'removed'),this['fire']('suggestionUnloaded',_0x12e06a,_0x3ca7e4,_0x22be55));}['_setSuggestionData'](_0x1a7f62){const _0x85c74a=_0x1a7f62['id'],_0x42710c=this['addSuggestionData'](_0x1a7f62);if(this['_adapter']&&this['_adapter']['addSuggestion']){const _0x3359a7=this['editor']['plugins']['get']('PendingActions'),_0x483fc5=_0x42710c['hasComments'],_0x3d5237=_0x42710c['subType']?_0x42710c['type']+':'+_0x42710c['subType']:_0x42710c['type'],_0x57aebc=this['editor']['locale'],_0x222a9d=_0x3359a7['add'](o(_0x57aebc,'PENDING_ACTION_SUGGESTION')),_0xa9ac89={'id':_0x85c74a,'type':_0x3d5237,'hasComments':_0x483fc5,'data':_0x1a7f62['data']||null,'originalSuggestionId':_0x1a7f62['originalSuggestionId']||null,'attributes':_0x42710c['attributes']};this['_adapter']['addSuggestion'](_0xa9ac89)['then'](_0x28c57b=>{_0x42710c['_saved']=!0x0,_0x3359a7['remove'](_0x222a9d),_0x28c57b&&_0x28c57b['createdAt']&&(this['_suggestions']['get'](_0x85c74a)['createdAt']=_0x28c57b['createdAt']);})['catch'](_0x3e8f83=>{throw _0x32841f('error-saving-suggestion-data-suggestion-discarded'),this['editor']['model']['enqueueChange']({'isUndoable':!0x1},()=>{_0x42710c['discard']();}),_0x42710c['stopListening'](),this['_suggestions']['delete'](_0x42710c['id']),this['_suggestionState']['delete'](_0x42710c),_0x3e8f83;});}return _0x42710c;}['_isBlockAttribute'](_0x3433fc){return this['_blockAttributeKeys']['has'](_0x3433fc);}['_updateSuggestionData'](_0x5c52d6,_0x3f0dea){const _0x12574f=this['editor']['plugins']['get']('PendingActions'),_0x260d52=this['getSuggestion'](_0x5c52d6);if(this['_adapter']&&this['_adapter']['updateSuggestion']){if(_0x260d52['_saved']){const _0x479758=_0x12574f['add'](o(this['editor']['locale'],'PENDING_ACTION_SUGGESTION'));this['_adapter']['updateSuggestion'](_0x5c52d6,_0x3f0dea)['then'](()=>{_0x12574f['remove'](_0x479758);});}else _0x260d52['on']('change:_saved',()=>{this['_updateSuggestionData'](_0x5c52d6,_0x3f0dea);});}}['_getSuggestionData'](_0x375ed5){if(!this['_adapter']||!this['_adapter']['getSuggestion'])throw new _0xd6c8f5('track-changes-adapter-missing-getsuggestion',this);return this['_adapter']['getSuggestion'](_0x375ed5);}['_handleNewSuggestionMarker'](_0x448e94){const {id:_0x98e11f,type:_0x305b7c,subType:_0x14e796,authorId:_0x787417}=this['_splitMarkerName'](_0x448e94),_0x14d7a4=this['_suggestions']['get'](_0x98e11f)||this['_createSuggestion'](_0x305b7c,_0x14e796,_0x98e11f,_0x787417,{});switch(this['_checkSuggestionCorrectness'](_0x14d7a4,_0x305b7c,_0x14e796,_0x787417),this['_suggestionState']['get'](_0x14d7a4)){case'notReady':this['_getSuggestionData'](_0x98e11f)['then'](_0x361e7b=>{let _0x481f27=Promise['resolve']();_0x361e7b['hasComments']&&(_0x481f27=this['_commentsRepository']['fetchCommentThread']({'channelId':this['editor']['config']['get']('collaboration.channelId'),'threadId':_0x98e11f})),_0x481f27['then'](()=>{this['addSuggestionData'](_0x361e7b)['_saved']=!0x0;});}),this['_suggestionState']['set'](_0x14d7a4,'markerReady');break;case'removed':this['_updateSuggestionData'](_0x98e11f,{'state':'open'});case'dataReady':this['_suggestionState']['set'](_0x14d7a4,'ready'),this['fire']('suggestionLoaded',_0x14d7a4);break;case'ready':this['fire']('suggestionChanged',_0x14d7a4);}return _0x14d7a4['addMarkerName'](_0x448e94),_0x14d7a4;}['_refreshSuggestionsChain'](_0x85b15d){const _0x53f00e=Array['from'](_0x85b15d),_0x49944a=_0x53f00e['filter'](_0x7eb13a=>'attribute'==_0x7eb13a['type']);this['_refreshAttributeSuggestionsChain'](_0x49944a);const _0x258b0f=_0x53f00e['filter'](_0x5c650f=>!_0x5c650f['isMultiRange']&&'attribute'!=_0x5c650f['type']),_0x1e05fc=this['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x5638e7=>!_0x5638e7['isMultiRange']&&'attribute'!=_0x5638e7['type']),_0x39f914=_0x1e05fc['filter'](_0x429335=>!_0x85b15d['has'](_0x429335)),_0x45bebd=new Map(_0x1e05fc['map'](_0x27f26f=>[_0x27f26f,this['_suggestionFactory']['getSuggestionCallback'](_0x27f26f['type'],_0x27f26f['subType'],'chain')])),_0x34da62=new Map(_0x1e05fc['map'](_0x1e5963=>[_0x1e5963,_0x1e5963['getFirstRange']()])),_0x2c1b19=new Set(),_0x5e8c85=new Set();for(let _0x4459c1=0x0;_0x4459c1<_0x258b0f['length'];_0x4459c1++)_0x2b37c3(_0x258b0f[_0x4459c1],_0x258b0f,_0x4459c1+0x1);for(let _0xc87cd2=0x0;_0xc87cd2<_0x258b0f['length'];_0xc87cd2++)_0x2b37c3(_0x258b0f[_0xc87cd2],_0x39f914,0x0);const _0x3b5ba2=new Set();for(let _0x42122d=0x0;_0x42122d<_0x258b0f['length'];_0x42122d++){const _0x52d6c1=_0x258b0f[_0x42122d];!_0x5e8c85['has'](_0x52d6c1)&&_0x52d6c1['previous']&&(_0x3b5ba2['add'](_0x52d6c1['previous']),_0x52d6c1['previous']['next']===_0x52d6c1&&(_0x52d6c1['previous']['next']=null),_0x52d6c1['previous']=null),!_0x2c1b19['has'](_0x52d6c1)&&_0x52d6c1['next']&&(_0x3b5ba2['add'](_0x52d6c1['next']),_0x52d6c1['next']['previous']===_0x52d6c1&&(_0x52d6c1['next']['previous']=null),_0x52d6c1['next']=null);}function _0x2b37c3(_0x4ff908,_0x3f9fd6,_0x579040){for(let _0x470a21=_0x579040;_0x470a21<_0x3f9fd6['length'];_0x470a21++){const _0x1e86ec=_0x23ecb9(_0x4ff908,_0x3f9fd6[_0x470a21]);_0x1e86ec&&(_0x1e86ec[0x0]['next']=_0x1e86ec[0x1],_0x1e86ec[0x1]['previous']=_0x1e86ec[0x0],_0x2c1b19['add'](_0x1e86ec[0x0]),_0x5e8c85['add'](_0x1e86ec[0x1]));}}function _0x23ecb9(_0x8bdac,_0xdef28b){if(_0x8bdac['author']['id']!==_0xdef28b['author']['id'])return null;const _0x23eaa7=_0x45bebd['get'](_0x8bdac)(_0x8bdac,_0xdef28b,_0x34da62['get'](_0x8bdac),_0x34da62['get'](_0xdef28b));if(!_0x23eaa7)return null;return _0x45bebd['get'](_0xdef28b)(_0x8bdac,_0xdef28b,_0x34da62['get'](_0x8bdac),_0x34da62['get'](_0xdef28b))?_0x23eaa7[0x1]['commentThread']&&_0x23eaa7[0x1]['commentThread']['length']?null:_0x23eaa7:null;}_0x3b5ba2['size']&&this['_refreshSuggestionsChain'](_0x3b5ba2);}['_refreshAttributeSuggestionsChain'](_0x1a4669){if(0x0==_0x1a4669['length'])return;const _0x2a1d11=this['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x30fb09=>'attribute'==_0x30fb09['type']&&_0x30fb09['_isDataLoaded']),_0x2c335c=[],_0xc10583=new Map();for(const _0x2c2f2d of _0x2a1d11){const _0x57f5b7=_0x301f50(_0x2c2f2d['attributes']);_0xc10583['has'](_0x57f5b7)||(_0xc10583['set'](_0x57f5b7,_0x2c335c['length']),_0x2c335c['push']([]));const _0x10134d=_0xc10583['get'](_0x57f5b7);_0x2c335c[_0x10134d]['push'](_0x2c2f2d);}!(function(){_0x2c335c['sort']((_0xd2d6e4,_0x10baea)=>{const _0x32df5b=_0xd2d6e4[0x0]['createdAt'],_0x6f9935=_0x10baea[0x0]['createdAt'];return _0x32df5b==_0x6f9935?_0xd2d6e4[0x0]['attributes']['groupId']<_0x10baea[0x0]['attributes']['groupId']?-0x1:0x1:_0x32df5b<_0x6f9935?-0x1:0x1;});for(const _0x517834 of _0x2c335c)_0x517834['sort']((_0x5bb7d6,_0x5e9276)=>_0x5bb7d6['id']<_0x5e9276['id']?-0x1:0x1);}());for(let _0x7471eb=0x0;_0x7471eb<_0x2c335c['length'];_0x7471eb++){if(0x0==_0x2c335c[_0x7471eb]['length'])continue;const _0x3e3ed8=[];for(let _0x2d7c8c=_0x7471eb+0x1;_0x2d7c8c<_0x2c335c['length'];_0x2d7c8c++)0x0!=_0x2c335c[_0x2d7c8c]['length']&&_0x541abb(_0x2c335c[_0x7471eb],_0x2c335c[_0x2d7c8c])&&_0x3e3ed8['push'](_0x2d7c8c);for(const _0x3f3bd9 of _0x3e3ed8)_0x2c335c[_0x7471eb]=_0x2c335c[_0x7471eb]['concat'](_0x2c335c[_0x3f3bd9]),_0x2c335c[_0x3f3bd9]=[];}for(const _0x476ce0 of _0x2c335c)for(let _0x1e26b5=0x0;_0x1e26b5<_0x476ce0['length'];_0x1e26b5++){const _0x3ede5b=_0x476ce0[_0x1e26b5+0x1]||null;_0x476ce0[_0x1e26b5]['next']!==_0x3ede5b&&(_0x476ce0[_0x1e26b5]['next']=_0x3ede5b);}for(const _0x355455 of _0x2c335c)for(let _0x5a7cc7=0x0;_0x5a7cc7<_0x355455['length'];_0x5a7cc7++){const _0x4ce751=_0x355455[_0x5a7cc7-0x1]||null;_0x355455[_0x5a7cc7]['previous']!==_0x4ce751&&(_0x355455[_0x5a7cc7]['previous']=_0x4ce751);}function _0x541abb(_0xa2a18d,_0x13cb45){if(_0xa2a18d[0x0]['attributes']['groupId']!==_0x13cb45[0x0]['attributes']['groupId']&&_0xa2a18d[0x0]['author']!==_0x13cb45[0x0]['author'])return!0x1;if(!function(_0x31c85f,_0x40b1b3){if(!_0x31c85f['hasComments']&&!_0x40b1b3['hasComments'])return!0x0;if(_0x31c85f['hasComments']&&_0x40b1b3['hasComments'])return!0x1;if(_0x31c85f['hasComments']&&_0x40b1b3['createdAt']<_0x31c85f['commentThread']['comments']['get'](0x0)['createdAt'])return!0x0;if(_0x40b1b3['hasComments']&&_0x31c85f['createdAt']<_0x40b1b3['commentThread']['comments']['get'](0x0)['createdAt'])return!0x0;return!0x1;}(_0xa2a18d[0x0],_0x13cb45[0x0]))return!0x1;const _0x6949c=xt(_0xa2a18d[0x0]['attributes'],'groupId'),_0x45c77f=xt(_0x13cb45[0x0]['attributes'],'groupId');if(!_0x1b086f(_0x6949c,_0x45c77f))return!0x1;return!!_0xa2a18d['every'](_0x2c20af=>_0x13cb45['some'](_0x216683=>_0x2c20af['getFirstRange']()['isEqual'](_0x216683['getFirstRange']())))&&_0x13cb45['every'](_0x30a238=>_0xa2a18d['some'](_0x44d163=>_0x30a238['getFirstRange']()['isEqual'](_0x44d163['getFirstRange']())));}}['_joinWithAdjacentSuggestions'](_0x5bf503){const _0x1bb322=Array['from'](_0x5bf503),_0x575051=this['getSuggestions']({'skipNotAttached':!0x0}),_0x56c22a=_0x575051['filter'](_0xb53afc=>!_0x5bf503['has'](_0xb53afc)),_0xa092ec=new Map(_0x1bb322['map'](_0x5d896e=>[_0x5d896e,this['_suggestionFactory']['getSuggestionCallback'](_0x5d896e['type'],_0x5d896e['subType'],'join')])),_0x28b9e8=new Map(_0x575051['map'](_0x1c1f0b=>[_0x1c1f0b,_0x1c1f0b['getRanges']()]));for(let _0x1aea35=0x0;_0x1aea35<_0x1bb322['length'];_0x1aea35++){if(_0x36fccf(this,_0x1bb322[_0x1aea35],_0x1bb322,_0x1aea35+0x1))return!0x0;}for(let _0x2a864e=0x0;_0x2a864e<_0x1bb322['length'];_0x2a864e++){if(_0x36fccf(this,_0x1bb322[_0x2a864e],_0x56c22a,0x0))return!0x0;}return!0x1;function _0x36fccf(_0x7e64e9,_0x227773,_0x32e059,_0x4f5ac3){for(let _0x5210c2=_0x4f5ac3;_0x5210c2<_0x32e059['length'];_0x5210c2++){const _0x57536f=_0x32e059[_0x5210c2];if(_0x57536f['type']!==_0x227773['type']||_0x57536f['author']['id']!==_0x227773['author']['id']||_0x57536f['subType']!==_0x227773['subType'])continue;if(!qt(_0x227773,_0x57536f))continue;if('attribute'==_0x227773['type']&&_0x227773['data']['oldValue']!=_0x57536f['data']['oldValue'])continue;if('attribute'==_0x227773['type']&&_0x7e64e9['_isBlockAttribute'](_0x227773['data']['key']))continue;if('formatBlock'==_0x227773['type']){const _0x4b5d3d=_0x7e64e9['editor']['model'],_0x310b2f=_0x227773['getContainedElement']();if(_0x310b2f&&(_0x4b5d3d['schema']['isObject'](_0x310b2f)||_0x4b5d3d['schema']['isLimit'](_0x310b2f)))continue;}const _0x2265a5=_0xa092ec['get'](_0x227773),_0x16d9b7=_0x28b9e8['get'](_0x227773),_0x5198d2=_0x28b9e8['get'](_0x57536f),_0x17f387=_0x227773['commentThread']&&_0x227773['commentThread']['length'],_0x58ee5e=_0x57536f['commentThread']&&_0x57536f['commentThread']['length'];if(!_0x17f387&&_0x2265a5(_0x5198d2,_0x16d9b7))return _0x7e64e9['_joinSuggestions'](_0x57536f,_0x227773),_0x28b9e8['delete'](_0x227773),!0x0;if(!_0x58ee5e&&_0x2265a5(_0x16d9b7,_0x5198d2))return _0x7e64e9['_joinSuggestions'](_0x227773,_0x57536f),_0x28b9e8['delete'](_0x57536f),!0x0;}return!0x1;}}['_joinSuggestions'](_0x28c228,_0x2d82d5){if(_0x28c228['isMultiRange']){for(const _0x2d1cbc of _0x2d82d5['getRanges']())_0x28c228['addRange'](_0x2d1cbc);}else{const _0xc4ca2b=_0x2d82d5['getFirstRange']()['end'];this['_setSuggestionRange'](_0x28c228,this['_model']['createRange'](_0x28c228['getFirstRange']()['start'],_0xc4ca2b));}_0x2d82d5['removeMarkers']();}['_getMarkerAnnouncementText'](_0x35573b,_0x57b8a3,_0x399f5e){const _0x5192fa=_0x35573b['startsWith']('format')||_0x35573b['startsWith']('attribute')?'FORMATTING':_0x35573b['toUpperCase']();return o(this['editor']['locale'],_0x57b8a3+'_'+_0x5192fa+'_SUGGESTION_ANNOUNCEMENT',_0x399f5e);}['_initAriaMarkerChangeAnnouncements'](){const _0x165ec7=this['editor'];if(!_0x165ec7['ui'])return;const {ariaLiveAnnouncer:_0x507a07}=_0x165ec7['ui'];_0x1e138c(this['_model'],({left:_0x32f4d0,entered:_0x49d00b})=>{for(const _0x55d762 of _0x32f4d0){const {group:_0x5a15ee,type:_0x11077d}=this['_splitMarkerName'](_0x55d762['name']);if('suggestion'===_0x5a15ee){_0x507a07['announce'](this['_getMarkerAnnouncementText'](_0x11077d,'LEAVE'));break;}}for(const _0x554268 of _0x49d00b){const {group:_0xf2fe6e,type:_0x5359c9}=this['_splitMarkerName'](_0x554268['name']);if('suggestion'===_0xf2fe6e){_0x507a07['announce'](this['_getMarkerAnnouncementText'](_0x5359c9,'ENTER',_0x2a0bf4(_0x377d38)));break;}}});}['_processAttributeChanges'](_0x55d8d6){if(this['_recordAttributeSuggestions'])return!0x1;const _0x54b3f7=this['editor'],_0x437da6=_0x54b3f7['model']['document']['differ']['getChanges']();if(0x0==_0x437da6['length'])return!0x1;const _0x957d9d=[],_0x1f99d5=_0x437da6['filter'](_0x1c6743=>'attribute'==_0x1c6743['type']),_0x792e0=_0x437da6['filter'](_0x22ceb3=>'insert'==_0x22ceb3['type']&&'$text'!=_0x22ceb3['name']),_0x1717cc=_0x437da6['filter'](_0x7d0bbe=>'remove'==_0x7d0bbe['type']&&'$text'!=_0x7d0bbe['name']);for(const _0x14fcb1 of _0x1f99d5)_0x957d9d['push']({'key':_0x14fcb1['attributeKey'],'newValue':_0x14fcb1['attributeNewValue'],'oldValue':_0x14fcb1['attributeOldValue'],'range':Lt(_0x14fcb1['range'],_0x54b3f7['model'])});for(const _0x21ed4b of _0x792e0){const _0x563420=_0x1717cc['find'](_0x73bf41=>_0x73bf41['position']['isEqual'](_0x21ed4b['position']));_0x563420&&_0x957d9d['push']({'key':m,'newValue':_0x21ed4b['name'],'oldValue':_0x563420['name'],'range':_0x54b3f7['model']['createRangeOn'](_0x21ed4b['position']['nodeAfter'])});}return 0x0!=_0x957d9d['length']&&this['_reduceExistingSuggestions'](_0x55d8d6,_0x957d9d);}['_processAttributeSuggestions'](_0x1d7929){let _0x5800da=!0x1;const _0x175a5d=this['editor']['model']['document']['differ']['getChangedMarkers']()['filter'](_0x581512=>_0x581512['data']['newRange']&&_0x581512['name']['startsWith']('suggestion:attribute:'));for(const _0x279740 of _0x175a5d){const {subType:_0x22ad23,id:_0x142388}=this['_splitMarkerName'](_0x279740['name']),_0x5e6035=_0x22ad23['split']('|')[0x0];for(const _0x44a614 of this['getSuggestions']({'skipNotAttached':!0x0}))_0x44a614['id']!=_0x142388&&'attribute'==_0x44a614['type']&&_0x44a614['data']&&_0x44a614['data']['key']==_0x5e6035&&_0x44a614['getFirstRange']()['isIntersecting'](_0x279740['data']['newRange'])&&(this['_reduceSuggestionAttributeRange'](_0x44a614,_0x279740['data']['newRange'],_0x1d7929),_0x5800da=!0x0);}return _0x5800da;}['_recordAttributeChanges'](_0x542e9e){this['_recordAttributeSuggestions']=!0x0,_0x542e9e();}['_isRegisteredAttribute'](_0x42b456){const _0x13b463=this['_isBlockAttribute'](_0x42b456),_0x116657=this['_inlineAttributeKeys']['has'](_0x42b456);return _0x13b463||_0x116657;}['_reduceExistingSuggestions'](_0x568ba0,_0x28d27e){if(0x0==_0x28d27e['length'])return!0x1;let _0x65dd77=!0x1;for(const _0xd3c640 of _0x28d27e){const _0x15e719=this['_findSuggestions'](_0xd3c640['range'],'attribute')['filter'](_0x22e687=>!_0x22e687['meta']['isNextTo'])['map'](_0x46a783=>_0x46a783['suggestion']),_0x290f92=_0x301f50({'newValue':_0xd3c640['newValue']});_0x15e719['filter'](_0xd76126=>{const [_0x448cfb,_0x144400]=_0xd76126['subType']['split']('|');return _0x448cfb==_0xd3c640['key']&&_0x144400!=_0x290f92;})['forEach'](_0x113fbf=>{this['_reduceSuggestionAttributeRange'](_0x113fbf,_0xd3c640['range'],_0x568ba0),_0x65dd77=!0x0;});}return _0x65dd77;}['_reduceSuggestionAttributeRange'](_0x2d7d09,_0x4ec0c1,_0x69debe){const _0x35da8c=_0x2d7d09['getFirstRange']()['getDifference'](_0x4ec0c1);0x0!==_0x35da8c['length']?0x1!==_0x35da8c['length']?this['_breakSuggestionMarker'](_0x2d7d09,_0x4ec0c1['start'],_0x4ec0c1['end']):this['_setSuggestionRange'](_0x2d7d09,_0x35da8c[0x0]):_0x69debe['removeMarker'](_0x2d7d09['getFirstMarker']());}}class Et{['_editor'];['_model'];['_customCallbacks'];['_defaultCallbacks'];constructor(_0x108e28){this['_editor']=_0x108e28,this['_model']=_0x108e28['model'],this['_customCallbacks']=new Map(),this['_defaultCallbacks']=new Map(),this['_registerDefaultCallbacks']();}['buildSuggestion'](_0xdbcdf0,_0x1eb5e1,_0x170c27,_0x47e37c,_0x3b89a3,_0x39c9e5){return new u(this['_model'],{'type':_0xdbcdf0,'subType':_0x1eb5e1,'id':_0x170c27,'author':_0x47e37c,'creator':_0x47e37c,'attributes':_0x3b89a3,'onAttributesChange':_0x39c9e5,'onAccept':(..._0x38f869)=>this['getSuggestionCallback'](_0xdbcdf0,_0x1eb5e1,'accept')(..._0x38f869),'onDiscard':(..._0x3da8f5)=>this['getSuggestionCallback'](_0xdbcdf0,_0x1eb5e1,'discard')(..._0x3da8f5)});}['registerCustomCallback'](_0x566b2a,_0x5ed99c,_0x5ea61a,_0x332219){const _0xae08e9=_0x566b2a+':'+_0x5ed99c+':'+_0x5ea61a;this['_customCallbacks']['set'](_0xae08e9,_0x332219);}['getSuggestionCallback'](_0x18baeb,_0x28907c,_0x2e3540){const _0x4b9d15=_0x18baeb+':'+_0x28907c+':'+_0x2e3540;return this['_customCallbacks']['get'](_0x4b9d15)||this['_defaultCallbacks']['get'](_0x18baeb+':'+_0x2e3540);}['_registerDefaultCallbacks'](){const _0x398b68=()=>!0x1,_0x321f2e=_0x2aa22f=>{_0x2aa22f['sort']((_0x22c6f5,_0x57e55a)=>_0x22c6f5['start']['isBefore'](_0x57e55a['start'])?0x1:-0x1),this['_model']['change'](_0x53880c=>{for(const _0x40f7d2 of _0x2aa22f){let _0x41e5aa;_0x41e5aa=_0x40f7d2['end']['isAtEnd']&&_0x40f7d2['end']['parent']==_0x40f7d2['start']['nodeAfter']?_0x53880c['createSelection'](_0x40f7d2['start']['nodeAfter'],'on'):_0x53880c['createSelection'](_0x40f7d2),this['_model']['deleteContent'](_0x41e5aa,{'forceDefaultExecution':!0x0,'doNotAutoparagraph':!0x0});}});},_0x1aa855=(_0x1dd31d,_0xf223a8)=>{_0xf223a8&&this['_model']['change'](_0x5d1d0c=>{const {commandName:_0x5d1841,commandParams:_0x46530a=[]}=_0xf223a8,_0x56966b=_0x1dd31d['map'](_0x5cafd6=>(Vt(_0x5cafd6)&&(_0x5cafd6=this['_model']['createRange'](_0x5cafd6['end'])),_0x5cafd6))['filter'](_0x441df3=>'$graveyard'!==_0x441df3['root']['rootName']);if(_0x56966b['length']<0x1)return;const _0x4b736e=Array['from'](this['_model']['document']['selection']['getRanges']())['map'](_0x346cc2=>_0xf48340['fromRange'](_0x346cc2));_0x5d1d0c['setSelection'](_0x56966b);for(const _0x2becee of this['_editor']['commands']['commands']())_0x2becee['refresh']();_0x46530a['push']({'forceDefaultExecution':!0x0}),this['_editor']['execute'](_0x5d1841,..._0x46530a);const _0x4fdf72=_0x4b736e['filter'](_0x6a575f=>'$graveyard'!=_0x6a575f['root']['rootName']);_0x4fdf72['length']>0x0&&_0x5d1d0c['setSelection'](_0x4fdf72);for(const _0x51be77 of _0x4b736e)_0x51be77['detach']();});},_0x385cdd=(_0x40a452,_0x2d6841)=>0x1==_0x40a452['length']&&0x1==_0x2d6841['length']&&_0x40a452[0x0]['end']['isEqual'](_0x2d6841[0x0]['start']),_0x2cd496=(_0x242c37,_0xb43ab5,_0x483417,_0x1947ed)=>Ht(_0x242c37,_0xb43ab5,_0x483417,_0x1947ed)?[_0x242c37,_0xb43ab5]:Ht(_0xb43ab5,_0x242c37,_0x1947ed,_0x483417)?[_0xb43ab5,_0x242c37]:null;this['_defaultCallbacks']['set']('insertion:accept',_0x398b68),this['_defaultCallbacks']['set']('insertion:discard',_0x321f2e),this['_defaultCallbacks']['set']('insertion:join',_0x385cdd),this['_defaultCallbacks']['set']('insertion:chain',_0x2cd496),this['_defaultCallbacks']['set']('deletion:accept',_0x321f2e),this['_defaultCallbacks']['set']('deletion:discard',_0x398b68),this['_defaultCallbacks']['set']('deletion:join',_0x385cdd),this['_defaultCallbacks']['set']('deletion:chain',_0x2cd496),this['_defaultCallbacks']['set']('formatInline:accept',_0x1aa855),this['_defaultCallbacks']['set']('formatInline:discard',_0x398b68),this['_defaultCallbacks']['set']('formatInline:join',_0x385cdd),this['_defaultCallbacks']['set']('formatInline:chain',_0x398b68),this['_defaultCallbacks']['set']('formatBlock:accept',_0x1aa855),this['_defaultCallbacks']['set']('formatBlock:discard',_0x398b68),this['_defaultCallbacks']['set']('formatBlock:join',_0x385cdd),this['_defaultCallbacks']['set']('formatBlock:chain',_0x398b68),this['_defaultCallbacks']['set']('attribute:accept',_0x398b68),this['_defaultCallbacks']['set']('attribute:discard',(_0x5648c1,_0x1bfcb0)=>{if(!_0x1bfcb0)return;const _0x1f3f9c=this['_editor']['plugins']['get'](p);this['_model']['change'](_0x451877=>{if(_0x1bfcb0['key']==m)for(const _0x437aea of _0x5648c1){const _0x3e3ef2=_0x437aea['start']['nodeAfter'],_0x476101=_0x1bfcb0['oldValue'];_0x451877['rename'](_0x3e3ef2,_0x476101);}else{if(_0x1f3f9c['_isBlockAttribute'](_0x1bfcb0['key'])){for(const _0x2bdabc of _0x5648c1)void 0x0!==_0x1bfcb0['oldValue']?_0x451877['setAttribute'](_0x1bfcb0['key'],_0x1bfcb0['oldValue'],_0x2bdabc['start']['nodeAfter']):_0x451877['removeAttribute'](_0x1bfcb0['key'],_0x2bdabc['start']['nodeAfter']);}else{for(const _0x59c0d1 of _0x5648c1)_0x1bfcb0['oldValue']?_0x451877['setAttribute'](_0x1bfcb0['key'],_0x1bfcb0['oldValue'],_0x59c0d1):_0x451877['removeAttribute'](_0x1bfcb0['key'],_0x59c0d1);}}});}),this['_defaultCallbacks']['set']('attribute:join',_0x385cdd);}}function Ut(_0x566133,_0x3d384a,_0x27a598){for(const _0x720e9f of _0x3d384a['parent']['getAncestors']({'includeSelf':!0x0,'parentFirst':!0x0})){if(_0x720e9f['root']==_0x720e9f)return!0x1;if(!_0x27a598['containsItem'](_0x720e9f))return!0x1;if(_0x566133['isObject'](_0x720e9f)||_0x566133['isLimit'](_0x720e9f))return!0x0;}return!0x1;}function Vt(_0x2c56ea){return _0x2c56ea['end']['parent']==_0x2c56ea['start']['nodeAfter']&&_0x2c56ea['end']['isAtStart'];}function Pt(_0x213226,_0x322a37,_0x3dab7f,_0xafd5d5){const _0x252685=_0x4ab220=>!_0x4ab220['item']['is']('$textProxy')&&!_0xafd5d5['isObject'](_0x4ab220['item']),_0x293784=_0x213226['start']['getLastMatchingPosition'](_0x252685),_0x31f73e=_0x213226['end']['getLastMatchingPosition'](_0x252685,{'direction':'backward'});return(!_0x213226['start']['isEqual'](_0x293784)||!_0x213226['end']['isEqual'](_0x31f73e))&&(_0x293784['isBefore'](_0x31f73e)?_0x3dab7f['updateMarker'](_0x322a37,{'range':_0x3dab7f['createRange'](_0x293784,_0x31f73e)}):_0x3dab7f['removeMarker'](_0x322a37),!0x0);}function Gt(_0x50c461){return _0x301f50(_0x50c461);}function Ft(_0x5e20f8){const _0x325798=_0x5e20f8['start']['nodeAfter'];return _0x325798&&_0x325798['is']('element');}function Lt(_0x569cdc,_0xeeb2f1){return null==_0x569cdc['end']['nodeBefore']&&_0x569cdc['end']['parent']==_0x569cdc['start']['nodeAfter']?Jt(_0x569cdc['start']['nodeAfter'],_0xeeb2f1):_0x569cdc;}function Jt(_0x387c5c,_0x4a5f74){const _0x3cc400=_0x4a5f74['schema']['isObject'](_0x387c5c)||_0x4a5f74['schema']['isSelectable'](_0x387c5c);return _0x4a5f74['createRange'](_0x4a5f74['createPositionAt'](_0x387c5c,'before'),_0x3cc400?_0x4a5f74['createPositionAfter'](_0x387c5c):_0x4a5f74['createPositionAt'](_0x387c5c,'end'));}function Ht(_0x303bca,_0x767dbc,_0x56481b,_0x1591ee){return!!qt(_0x303bca,_0x767dbc)&&_0x56481b['end']['isEqual'](_0x1591ee['start']);}function qt(_0x61a2cd,_0xd61f2e){if(!_0x61a2cd['_isDataLoaded']||!_0xd61f2e['_isDataLoaded'])return!0x1;const _0x107d1b=new Set(Object['keys'](_0x61a2cd['attributes'])),_0x1180c1=new Set(Object['keys'](_0xd61f2e['attributes']));if(_0x107d1b['delete']('groupId'),_0x1180c1['delete']('groupId'),0x0==_0x107d1b['size']&&0x0==_0x1180c1['size'])return!0x0;if(_0x107d1b['size']!=_0x1180c1['size'])return!0x1;const _0x4654de={..._0x61a2cd['attributes']},_0x2a0f37={..._0xd61f2e['attributes']};return delete _0x4654de['groupId'],delete _0x2a0f37['groupId'],JSON['stringify'](_0x4654de)==JSON['stringify'](_0x2a0f37);}function zt(_0x48ada9,_0xa37eff){const _0x528778=Kt(_0x48ada9['attributes']),_0x7e2b47=Kt(_0xa37eff);if(!_0x48ada9['_isDataLoaded'])return!0x1;for(const _0x444803 of Object['keys'](_0x7e2b47))if(!_0x1b086f(_0x528778[_0x444803],_0x7e2b47[_0x444803]))return!0x1;return!0x0;}function Kt(_0x44bcf4){const _0x3bae1c=Object['assign']({},_0x44bcf4);return delete _0x3bae1c['skipNestingCheck'],delete _0x3bae1c['tablePasteChainId'],_0x3bae1c;}class ge extends/* #__PURE__ -- @preserve */
_0x4cb0ac(){['model'];['view'];['commentThreadController'];['_editor'];['_acceptCommand'];['_discardCommand'];['_pendingAction'];constructor(_0x301b6e,_0x322ab6,_0x3b0048,_0x5d6fd0){super(),this['model']=_0x322ab6,this['view']=_0x3b0048,this['commentThreadController']=_0x5d6fd0,this['_editor']=_0x301b6e,this['_acceptCommand']=_0x301b6e['commands']['get']('acceptSuggestion'),this['_discardCommand']=_0x301b6e['commands']['get']('discardSuggestion'),this['view']['bind']('isEnabled')['to'](this['_acceptCommand'],this['_discardCommand'],(_0x586708,_0x33f306)=>_0x586708||_0x33f306),this['view']['bind']('canAccept')['to'](this['_acceptCommand'],'isEnabled',_0x1a14b6=>_0x1a14b6&&this['_editor']['model']['canEditAt'](_0x322ab6['getRanges']())),this['view']['bind']('canDiscard')['to'](this['_discardCommand'],'isEnabled',_0x4b5bbc=>_0x4b5bbc&&this['_editor']['model']['canEditAt'](_0x322ab6['getRanges']())),this['_pendingAction']=null,_0x3b0048['isDirty']&&this['_setPendingAction'](),this['listenTo'](_0x3b0048,'acceptSuggestion',()=>this['acceptSuggestion']()),this['listenTo'](_0x3b0048,'discardSuggestion',()=>this['discardSuggestion']()),this['listenTo'](_0x3b0048,'change:isDirty',()=>{_0x3b0048['isDirty']?this['_setPendingAction']():this['_removePendingAction']();});}['acceptSuggestion'](){this['_acceptCommand']['execute'](this['model']['id']);}['discardSuggestion'](){this['_discardCommand']['execute'](this['model']['id']);}['destroy'](){this['view']['unbind']('isEnabled'),this['view']['unbind']('canAccept'),this['view']['unbind']('canDiscard'),this['stopListening'](),this['commentThreadController']['destroy'](),this['_pendingAction']&&this['_removePendingAction']();}['_setPendingAction'](){const _0xa4a852=o(this['_editor']['locale'],'PENDING_ACTION_SUGGESTION');this['_pendingAction']=this['_editor']['plugins']['get']('PendingActions')['add'](_0xa4a852);}['_removePendingAction'](){null!==this['_pendingAction']&&this['_editor']['plugins']['get']('PendingActions')['remove'](this['_pendingAction']),this['_pendingAction']=null;}}class as extends _0x38f986{['commentsListView'];['commentThreadInputView'];['ariaDescriptionView'];['focusables'];['focusTracker'];['keystrokes'];['focusCycler'];['_model'];['_localUser'];['_config'];constructor(_0xe1699e,_0x2b6e4c,_0x11c03c,_0x588daa){super(_0xe1699e),this['commentsListView']=null,this['commentThreadInputView']=null,this['ariaDescriptionView']=new _0x564038(_0xe1699e,o(_0xe1699e,'SUGGESTION_THREAD_DESCRIPTION')),this['set']('isActive',!0x1),this['set']('authoredAt',_0x2b6e4c['authoredAt']),this['bind']('authoredAt')['to'](_0x2b6e4c),this['set']('descriptionParts',[]),this['set']('isDirty',!0x1),this['set']('isEnabled',!0x1),this['set']('canAccept',!0x1),this['set']('canDiscard',!0x1),this['bind']('ariaLabel')['to'](this,'length',_0x2b6e4c,'authoredAt',this,'descriptionParts',(_0x3f8709,_0x42587a,_0x1b662c)=>{const _0x380708=_0x1b662c['map'](_0x22d869=>ns(_0x22d869['content']))['join']('.\x20')+'.';return o(this['locale'],'SUGGESTION_THREAD_ARIA_LABEL',[_0x3f8709-0x1,_0x2b6e4c['author']['name'],_0x42587a?_0x588daa['formatDateTime'](_0x42587a):'',new DOMParser()['parseFromString'](_0x380708,'text/html')['body']['textContent']]);}),this['focusables']=new _0x473daa(),this['focusTracker']=new _0x1b457d(),this['keystrokes']=new _0x2a9864(),this['focusCycler']=new ts({'focusables':this['focusables'],'focusTracker':this['focusTracker'],'keystrokeHandler':this['keystrokes'],'keystrokeHandlerOptions':{'filter':_0x24e31e=>_0x24e31e['target']!==this['element']},'actions':{'focusPrevious':'shift+tab','focusNext':'tab'}}),this['_model']=_0x2b6e4c,this['_localUser']=_0x11c03c,this['_config']=_0x588daa,_0x588daa['disableComments']?this['set']('length',0x1):this['_createCommentViews']();}['render'](){super['render'](),_0x1042bf(this,this['focusables']);}['focus'](){this['element']['focus']();}['destroy'](){this['commentsListView']&&this['commentsListView']['destroy'](),this['commentThreadInputView']&&this['commentThreadInputView']['destroy'](),super['destroy']();}['_createCommentViews'](){const {CommentsListView:_0x1aa8f5}=this['_config'];this['commentsListView']=new _0x1aa8f5(this['locale'],this['_model']['commentThread'],Object['assign']({'CommentView':this['_config']['CommentView']},this['_config'])),this['commentsListView']['delegate']('removeComment')['to'](this),this['commentsListView']['delegate']('updateComment')['to'](this),this['commentsListView']['bind']('isActive')['to'](this),this['set']('length',this['commentsListView']['length']+0x1),this['bind']('length')['to'](this['commentsListView'],'length',_0xdc2d1c=>_0xdc2d1c+0x1),this['commentThreadInputView']=this['_createCommentThreadInputView'](),this['on']('removeComment',()=>this['focus']()),this['bind']('isDirty')['to'](this['commentsListView'],'hasDirtyComment',this['commentThreadInputView']['commentInputView'],'value',(_0x472478,_0x42485e)=>_0x472478||!!_0x42485e);}['_createCommentThreadInputView'](){const {CommentThreadInputView:_0x499a40}=this['_config'],_0x45299b=new _0x499a40(this['locale'],this['_localUser'],this['_config']['editorConfig']),_0x54bdc2=_0x45299b['commentInputView'];return _0x45299b['bind']('showInput')['to'](this,'isActive',this['_model']['commentThread'],'isReadOnly',_0x54bdc2,'value',(_0x139aba,_0x437fa2,_0x4c1f88)=>!!_0x4c1f88||_0x139aba&&!_0x437fa2),_0x54bdc2['on']('submit',(_0x570c2b,_0x42d586)=>{this['fire']('addComment',_0x42d586),_0x54bdc2['editor']['setData']('');}),_0x54bdc2['on']('cancel',()=>this['focus']()),_0x54bdc2['bind']('disabledSubmit')['to'](this['_model']['commentThread'],'isReadOnly'),_0x45299b;}}class de extends as{['suggestionView'];['_descriptionElement'];constructor(_0x64bae1,_0x497699,_0x4b9611,_0x187eb0){super(_0x64bae1,_0x497699,_0x4b9611,_0x187eb0),this['set']('type',''),this['bind']('type')['to'](this,'descriptionParts',_0x51b3a2=>_0x51b3a2&&_0x51b3a2[0x0]?_0x51b3a2[0x0]['type']:''),this['bind']('description')['to'](this,'descriptionParts',this,'isActive',(_0x2b811c,_0x5e649f)=>{let _0x429bb7='';for(const _0x7b770b of _0x2b811c)_0x429bb7+='<p>'+ns(_0x7b770b['content'],_0x7b770b['color'])+'</p>';return _0x5e649f?_0x429bb7:ti(_0x429bb7,{'limit':0x8c});}),this['_descriptionElement']=null,this['suggestionView']=new _0x187eb0['SuggestionView'](_0x64bae1,_0x497699,{'formatDateTime':_0x187eb0['formatDateTime']}),this['suggestionView']['bind']('description')['to'](this),this['suggestionView']['delegate']('acceptSuggestion','discardSuggestion')['to'](this),this['suggestionView']['acceptButton']['bind']('isEnabled')['to'](this,'canAccept'),this['suggestionView']['discardButton']['bind']('isEnabled')['to'](this,'canDiscard'),this['focusables']['add'](this['suggestionView']),this['commentsListView']&&this['focusables']['add'](this['commentsListView']),this['commentThreadInputView']&&this['focusables']['add'](this['commentThreadInputView']),this['setTemplate'](this['getTemplate']());}['getTemplate'](){const _0x196edd=this['bindTemplate'],_0x118296=[this['suggestionView']];return this['commentsListView']&&_0x118296['push'](this['commentsListView']),this['commentThreadInputView']&&_0x118296['push'](this['commentThreadInputView']),_0x118296['push'](this['ariaDescriptionView']),{'tag':'div','attributes':{'class':['ck','ck-rounded-corners','ck-suggestion-wrapper',_0x196edd['if']('isActive','ck-suggestion-wrapper--active'),_0x196edd['to']('type',_0x1d292e=>'ck-suggestion-'+_0x1d292e),this['_config']['disableComments']&&'ck-suggestion--disabled-comments'],'data-suggestion-id':this['_model']['id'],'data-thread-id':this['_model']['commentThread']['id'],'data-author-id':this['_model']['author']['id'],'tabindex':0x0,'role':'listitem','aria-label':_0x196edd['to']('ariaLabel'),'aria-describedby':this['ariaDescriptionView']['id']},'children':_0x118296};}['render'](){super['render'](),this['commentsListView']&&(this['commentsListView']['delegate']('editorReady')['to'](this),this['commentsListView']['delegate']('editorDestroyed')['to'](this)),this['commentThreadInputView']&&(this['commentThreadInputView']['delegate']('editorReady')['to'](this),this['commentThreadInputView']['delegate']('editorDestroyed')['to'](this));}}class ue extends _0x38f986{['userView'];['acceptButton'];['discardButton'];['focusables'];['focusTracker'];['keystrokes'];['focusCycler'];['_model'];['_config'];constructor(_0x550cf2,_0x1a4a2b,_0x462dcd){super(_0x550cf2),this['_model']=_0x1a4a2b,this['_config']=_0x462dcd,this['set']('description',''),this['bind']('authoredAt')['to'](_0x1a4a2b),this['acceptButton']=this['_createButton'](o(_0x550cf2,'Accept\x20suggestion'),_0x333dfb['check'],'ck-suggestion--accept','acceptSuggestion','sw'),this['discardButton']=this['_createButton'](o(_0x550cf2,'Discard\x20suggestion'),_0x333dfb['cancel'],'ck-suggestion--discard','discardSuggestion','sw'),this['userView']=new _0xe6c8b4(_0x550cf2,_0x1a4a2b['author'],this['getUserViewNotificationText']()),this['userView']['extendTemplate']({'attributes':{'class':['ck-suggestion__user','ck-annotation__user'],'aria-hidden':!0x0}}),this['focusables']=new _0x473daa([this['acceptButton'],this['discardButton']]),this['focusTracker']=new _0x1b457d(),this['keystrokes']=new _0x2a9864(),this['focusCycler']=new ts({'focusables':this['focusables'],'focusTracker':this['focusTracker'],'keystrokeHandler':this['keystrokes'],'actions':{'focusPrevious':'shift+tab','focusNext':'tab'},'keystrokeHandlerOptions':{'filter':_0x4c357b=>_0x4c357b['target']!==this['element']}}),this['setTemplate'](this['getTemplate']());}['render'](){super['render']();const _0xdff5f6=this['element']['querySelector']('.ck-annotation__content-wrapper');_0xdff5f6['innerHTML']=this['description'],this['on']('change:description',(_0x39c606,_0x564623,_0x3b8fc5)=>{_0xdff5f6['innerHTML']=_0x3b8fc5;}),this['_setupKeyboardNavigation']();}['getTemplate'](){const _0x3326ab=this['bindTemplate'],_0x1ec379=[{'tag':'div','attributes':{'class':['ck-suggestion__info','ck-annotation__info']},'children':[{'tag':'span','children':[{'text':this['userView']['name']}],'attributes':{'class':['ck-suggestion__info-name','ck-annotation__info-name']}},{'tag':'time','attributes':{'datetime':_0x3326ab['to']('authoredAt'),'class':['ck-comment__info-time','ck-annotation__info-time']},'children':[{'text':_0x3326ab['to']('authoredAt',_0x3d5c3b=>this['_config']['formatDateTime'](_0x3d5c3b))}]}]},{'tag':'div','attributes':{'class':['ck-suggestion__actions','ck-annotation__actions']},'children':[this['acceptButton'],this['discardButton']]},{'tag':'div','attributes':{'class':['ck-annotation__content-wrapper']}}];return this['_model']['isExternal']&&_0x1ec379['push']({'tag':'div','attributes':{'class':['ck-comment__external']},'children':[{'text':this['getExternalSuggestionNote']()}]}),{'tag':'div','attributes':{'class':['ck-suggestion','ck-annotation'],'tabindex':-0x1},'children':[this['userView'],{'tag':'div','attributes':{'class':['ck-suggestion__main','ck-annotation__main'],'role':'presentation'},'children':_0x1ec379}]};}['focus'](){this['element']['focus']();}['getUserViewNotificationText'](){return this['_model']['isExternal']?'importWord'===this['_model']['attributes']['@external']['source']?o(this['locale'],'EXTERNAL_IMPORT_WORD_AVATAR',this['_model']['creator']['name']):o(this['locale'],'EXTERNAL_AVATAR',this['_model']['creator']['name']):null;}['getExternalSuggestionNote'](){return'importWord'===this['_model']['attributes']['@external']['source']?o(this['locale'],'EXTERNAL_IMPORT_WORD_SUGGESTION'):o(this['locale'],'EXTERNAL_SUGGESTION');}['_createButton'](_0x121689,_0x549d71,_0x4db43e,_0x581555,_0x31d9ad){const _0x49d55a=new _0x1bf52e(this['locale']);return _0x49d55a['set']({'label':_0x121689,'icon':_0x549d71,'tooltip':!0x0,'tooltipPosition':_0x31d9ad}),_0x49d55a['extendTemplate']({'attributes':{'class':_0x4db43e}}),_0x49d55a['on']('execute',()=>{this['fire'](_0x581555,this['_model']['id']);}),_0x49d55a;}['_setupKeyboardNavigation'](){const _0x55054c=this['element'];this['keystrokes']['listenTo'](_0x55054c);for(const _0x2d169a of this['focusables'])this['focusTracker']['add'](_0x2d169a['element']),this['keystrokes']['listenTo'](_0x2d169a['element']);this['keystrokes']['set']('enter',(_0xfe35a4,_0x730a49)=>{_0x55054c===_0xfe35a4['target']&&(this['focusCycler']['focusFirst'](),_0x730a49());}),this['keystrokes']['set']('esc',(_0x33a63e,_0x54681b)=>{_0x55054c!==_0x33a63e['target']&&(this['focus'](),_0x54681b());});}}var Ce='<!--\x0a\x0a\x20What\x20you\x27re\x20currently\x20looking\x20at\x20is\x20the\x20source\x20code\x20of\x20a\x20legally\x20protected,\x20proprietary\x20software.\x0a\x20CKEditor\x205\x20Collaboration\x20is\x20licensed\x20under\x20a\x20commercial\x20license\x20and\x20protected\x20by\x20copyright\x20law.\x20Where\x20not\x20otherwise\x20indicated,\x0a\x20all\x20CKEditor\x205\x20Collaboration\x20content\x20is\x20authored\x20by\x20CKSource\x20engineers\x20and\x20consists\x20of\x20CKSource-owned\x20intellectual\x20property.\x0a\x0a\x20Copyright\x20(c)\x202003-2024,\x20CKSource\x20Holding\x20sp.\x20z\x20o.o.\x20All\x20rights\x20reserved.\x0a\x0a!-->\x0a\x0a<svg\x20viewBox=\x220\x200\x2020\x2020\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22><path\x20d=\x22M6.182\x205.514a.643.643\x200\x200\x200-.636.64v-.001a.636.636\x200\x200\x200\x20.636.639h5.682a.641.641\x200\x200\x200\x20.636-.638.637.637\x200\x200\x200-.636-.64H6.182Z\x22/><path\x20d=\x22M6.182\x208.5a.642.642\x200\x200\x200-.588.882.636.636\x200\x200\x200\x20.588.395h5.682a.641.641\x200\x200\x200\x20.636-.639.635.635\x200\x200\x200-.636-.638H6.182Z\x22/><path\x20d=\x22M6.18\x2011.5a.64.64\x200\x200\x200\x200\x201.278h3.133a.64.64\x200\x200\x200\x200-1.278H6.18Z\x22/><path\x20d=\x22m11.772\x2018.308.154-.23c-.195-.098-.304-.192-.328-.28-.024-.09\x200-.274.076-.551.062-.166.099-.296.11-.393a2.934\x202.934\x200\x200\x200\x200-.479c-.137-.41-.2-.685-.186-.83.013-.145.117-.335.313-.57l4.465-6.207c.356-.6\x201.059-.56\x202.11.118\x201.05.68\x201.443\x201.272\x201.177\x201.772l-3.876\x206.833c-.105.27-.22.444-.347.515-.128.07-.4.119-.813.139a2.954\x202.954\x200\x200\x200-.487.21c-.127.09-.244.193-.347.31-.193.174-.332.262-.416.262-.064\x200-.178-.05-.346-.15l-.204.27-1.056-.739Zm-.184.274\x201.039.727-.26.34h-1.496l.717-1.067Z\x22/><path\x20clip-rule=\x22evenodd\x22\x20d=\x22M3.272\x201A1.28\x201.28\x200\x200\x200\x202\x202.28v14.439a1.276\x201.276\x200\x200\x200\x201.272\x201.28h6.838a2.13\x202.13\x200\x200\x201\x20.003-.61c.024-.18.066-.363.113-.534.012-.046.027-.092.043-.136.011-.029.02-.052.025-.069v-.008a7.395\x207.395\x200\x200\x201-.042-.142H3.5V2.46s11\x20.002\x2011\x20.005v6.341l.627-.872c.204-.32.49-.614.873-.819V2.281c0-.707-.569-1.28-1.272-1.28L3.272\x201ZM16\x209.29l-1.5\x202.085V16.5h-2.708c.005.118.002.236-.007.354a.904.904\x200\x200\x201-.013.075l-.001.005a3.108\x203.108\x200\x200\x201-.097.312c-.027.101-.048.19-.062.266a.734.734\x200\x200\x200-.014.287.25.25\x200\x200\x200\x20.068.105.65.65\x200\x200\x200\x20.088.074l.017.011.016.01h.175L14.73\x2018c.697\x200\x201.271-.573\x201.271-1.281v-7.43Z\x22/></svg>\x0a';class d extends _0x776735{['licenseKey'];['_licenseKeyCheckInterval'];['_suggestionToController'];['_viewToController'];['_annotationViews'];['_handleControllerBuffer'];['_disableComments'];static get['requires'](){return[p,_0x5b4b64,'CommentsRepository','Annotations','EditorAnnotations'];}static get['pluginName'](){return'TrackChangesUI';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}constructor(_0x4c0ced){super(_0x4c0ced),this['_suggestionToController']=new Map(),this['_viewToController']=new Map(),this['_annotationViews']=new Map(),this['_handleControllerBuffer']=new Map();const _0x177f1c=this['editor']['config'];_0x177f1c['define']('trackChanges.SuggestionThreadView',de),_0x177f1c['define']('trackChanges.SuggestionView',ue),_0x177f1c['define']('trackChanges.disableComments',!0x1),this['_disableComments']=_0x177f1c['get']('trackChanges.disableComments');}['_handleSuggestionControllerDelayed'](_0x516db1,_0x4e2a5c){0x0===this['_handleControllerBuffer']['size']&&setTimeout(()=>{for(const [_0x3c3535,_0x1e4b2b]of this['_handleControllerBuffer']){const _0x1ebb42=this['_suggestionToController']['has'](_0x3c3535);_0x1ebb42||_0x1e4b2b?_0x1ebb42&&_0x1e4b2b&&this['_destroyController'](_0x3c3535):this['_initializeController'](_0x3c3535);}this['_handleControllerBuffer']['clear'](),this['editor']['plugins']['get']('EditorAnnotations')['refreshSelectedViews'](),this['_refreshActiveMarkers']();},0xa),this['_handleControllerBuffer']['set'](_0x516db1,_0x4e2a5c);}['init'](){const _0x2fbd27=this['editor'],_0x555a91=_0x2fbd27['plugins']['get']('TrackChangesEditing'),_0x4cee4c=_0x2fbd27['plugins']['get']('Annotations'),_0x31eae4=_0x2fbd27['plugins']['get']('EditorAnnotations'),_0x3a2a83=_0x2fbd27['plugins']['get']('CommentsRepository');this['_addUIComponentsToFactory'](),_0x31eae4['addSourceCollector'](()=>{const _0x14faae=[];for(const [_0x42c53c,_0x303634]of Array['from'](this['_suggestionToController'])){const _0x2619bf=_0x42c53c['getAllAdjacentSuggestions'](),_0x30c754=[];for(const _0x156942 of _0x2619bf){if(!_0x156942['isInContent'])continue;if(_0x156942['isMultiRange']){_0x30c754['push'](..._0x156942['getRanges']());continue;}const _0x28b7c8=_0x156942['getFirstRange']();if(_0x30c754['length']>0x0){const _0x4d82b9=_0x30c754[0x0]['getJoined'](_0x28b7c8);if(_0x4d82b9){_0x30c754[0x0]=_0x4d82b9;continue;}}_0x30c754['push'](_0x28b7c8);}_0x14faae['push']([_0x303634['view'],_0x30c754]);}return _0x14faae;}),this['listenTo'](_0x555a91,'suggestionLoaded',(_0x34da94,_0x36d4c9)=>{this['listenTo'](_0x36d4c9,'change:previous',(_0x247982,_0x2026eb,_0x5a424a,_0xa65306)=>{_0x36d4c9['isInContent']&&(null==_0x5a424a?(this['_updateController'](_0xa65306['head']),this['_handleSuggestionControllerDelayed'](_0x36d4c9,!0x1)):(this['_updateController'](_0x5a424a['head']),null==_0xa65306&&this['_handleSuggestionControllerDelayed'](_0x36d4c9,!0x0)));}),null!==_0x36d4c9['previous']?this['_updateController'](_0x36d4c9['head']):this['_handleSuggestionControllerDelayed'](_0x36d4c9,!0x1);}),this['listenTo'](_0x555a91,'suggestionUnloaded',(_0x4dddcd,_0x378cea,_0x3e974e)=>{this['stopListening'](_0x378cea,'change:previous'),this['_handleControllerBuffer']['delete'](_0x378cea),this['_suggestionToController']['has'](_0x378cea)&&this['_destroyController'](_0x378cea),_0x3e974e&&this['_updateController'](_0x3e974e['head']);}),this['listenTo'](_0x555a91,'suggestionChanged',(_0x32d632,_0x38f110)=>{this['_updateController'](_0x38f110);}),this['listenTo'](_0x4cee4c,'change:activeAnnotations',()=>{this['_refreshActiveMarkers']();}),this['listenTo'](_0x3a2a83,'addComment',(_0x12052c,{threadId:_0x28aac2,isFromAdapter:_0x52b98a})=>{if(_0x52b98a||!_0x555a91['hasSuggestion'](_0x28aac2))return;const _0x1e78c1=_0x555a91['getSuggestion'](_0x28aac2);this['_suggestionToController']['get'](_0x1e78c1)['view']['commentsListView']['focus'](-0x1);},{'priority':'lowest'}),this['licenseKey']=this['editor']['config']['get']('licenseKey');const _0x492b16=this['editor'];this['_licenseKeyCheckInterval']=setInterval(()=>{let _0x119b78;for(const _0x46051c in _0x492b16){const _0x5a2dd5=_0x46051c,_0x1db307=_0x492b16[_0x5a2dd5];if('trackChangesLicenseKeyValid'==_0x1db307||'trackChangesLicenseKeyInvalid'==_0x1db307||'trackChangesLicenseKeyExpired'==_0x1db307||'trackChangesLicenseKeyDomainLimit'==_0x1db307||'trackChangesLicenseKeyNotAllowed'==_0x1db307||'trackChangesLicenseKeyEvaluationLimit'==_0x1db307||'trackChangesLicenseKeyTrialLimit'==_0x1db307||'trackChangesLicenseKeyDevelopmentLimit'==_0x1db307||'trackChangesLicenseKeyUsageLimit'==_0x1db307){delete _0x492b16[_0x5a2dd5],_0x119b78=_0x1db307,clearInterval(this['_licenseKeyCheckInterval']),this['_licenseKeyCheckInterval']=void 0x0;break;}}'trackChangesLicenseKeyInvalid'==_0x119b78&&_0x492b16['_showLicenseError']('invalid'),'trackChangesLicenseKeyExpired'==_0x119b78&&_0x492b16['_showLicenseError']('expired'),'trackChangesLicenseKeyDomainLimit'==_0x119b78&&_0x492b16['_showLicenseError']('domainLimit'),'trackChangesLicenseKeyNotAllowed'==_0x119b78&&_0x492b16['_showLicenseError']('featureNotAllowed','TrackChanges'),'trackChangesLicenseKeyEvaluationLimit'==_0x119b78&&_0x492b16['_showLicenseError']('evaluationLimit'),'trackChangesLicenseKeyTrialLimit'==_0x119b78&&_0x492b16['_showLicenseError']('trialLimit'),'trackChangesLicenseKeyDevelopmentLimit'==_0x119b78&&_0x492b16['_showLicenseError']('developmentLimit'),'trackChangesLicenseKeyUsageLimit'==_0x119b78&&_0x492b16['_showLicenseError']('usageLimit');},0x3e8);}['_refreshActiveMarkers'](){const _0x5b1058=this['editor']['plugins']['get']('Annotations'),_0x10e8de=this['editor']['plugins']['get']('TrackChangesEditing'),_0x56fce7=Array['from'](_0x5b1058['activeAnnotations'],_0x448a66=>_0x448a66['innerView'])['filter'](_0x310728=>this['_viewToController']['has'](_0x310728)),_0x13ae94=[];for(const _0x3d3dfc of _0x56fce7){const _0x547c13=this['_viewToController']['get'](_0x3d3dfc)['model']['getAllAdjacentSuggestions']();_0x13ae94['push'](..._0x547c13['reduce']((_0x558574,_0x5bd201)=>[..._0x558574,..._0x5bd201['getMarkerNames']()],[]));}_0x10e8de['activeMarkers']=_0x13ae94;}['_addUIComponentsToFactory'](){const _0x558615=this['editor'],_0x96fbe6=_0x558615['locale'],_0x2cbab2=o(_0x96fbe6,'Track\x20changes'),_0x5f3e4c=new _0x3b4904([{'type':'switchbutton','model':new _0x206a52({'withText':!0x0,'isToggleable':!0x0,'label':_0x2cbab2,'commandName':'trackChanges','role':'menuitemcheckbox'})},{'type':'separator'},{'type':'button','model':new _0x206a52({'withText':!0x0,'label':o(_0x96fbe6,'Accept\x20all\x20suggestions'),'commandName':'acceptAllSuggestions','role':'menuitem'})},{'type':'button','model':new _0x206a52({'withText':!0x0,'label':o(_0x96fbe6,'Accept\x20all\x20selected\x20suggestions'),'commandName':'acceptSelectedSuggestions','role':'menuitem'})},{'type':'button','model':new _0x206a52({'withText':!0x0,'label':o(_0x96fbe6,'Discard\x20all\x20suggestions'),'commandName':'discardAllSuggestions','role':'menuitem'})},{'type':'button','model':new _0x206a52({'withText':!0x0,'label':o(_0x96fbe6,'Discard\x20all\x20selected\x20suggestions'),'commandName':'discardSelectedSuggestions','role':'menuitem'})}]);for(const _0x458bc0 of _0x5f3e4c)if(pe(_0x458bc0)){const _0x454484=_0x558615['commands']['get'](_0x458bc0['model']['commandName']);_0x458bc0['model']['bind']('isOn','isEnabled')['to'](_0x454484,'value','isEnabled');}_0x558615['ui']['componentFactory']['add']('trackChanges',_0x310339=>this['_createToolbarButton'](_0x310339,_0x5f3e4c,_0x2cbab2)),_0x558615['ui']['componentFactory']['add']('menuBar:trackChanges',_0x22f94a=>this['_createMenuBarMenu'](_0x22f94a,_0x5f3e4c,_0x2cbab2));}['_createToolbarButton'](_0x36a722,_0x3bb365,_0x3abc5e){const _0x243077=_0x1de253(_0x36a722,_0x1455bf),_0x2dda34=this['editor']['commands']['get']('trackChanges');_0x243077['buttonView']['set']({'tooltip':_0x3abc5e,'label':_0x3abc5e,'icon':Ce}),_0x243077['buttonView']['bind']('isOn')['to'](_0x2dda34,'value'),_0x243077['buttonView']['on']('execute',()=>{_0x2dda34['execute'](),this['editor']['editing']['view']['focus']();}),te(_0x243077,_0x3bb365,{'role':'menu'});const _0x5ab6df=[];for(const _0x3bf85a of _0x3bb365)pe(_0x3bf85a)&&_0x5ab6df['push'](this['editor']['commands']['get'](_0x3bf85a['model']['commandName']));const _0x4678cd=_0x243077['buttonView'];return _0x4678cd['actionView']['unbind']('isEnabled'),_0x4678cd['arrowView']['unbind']('isEnabled'),_0x4678cd['actionView']['bind']('isEnabled')['to'](_0x2dda34,'isEnabled'),_0x4678cd['arrowView']['bind']('isEnabled')['toMany'](_0x5ab6df,'isEnabled',(..._0x7fc51f)=>_0x7fc51f['some'](_0x91482c=>_0x91482c)),_0x243077['on']('execute',_0x1bbcc4=>{this['editor']['execute'](_0x1bbcc4['source']['commandName']),this['editor']['editing']['view']['focus']();}),_0x243077;}['_createMenuBarMenu'](_0x57355a,_0x1c34bf,_0x9bd397){const _0x4f6712=new _0x450d7f(_0x57355a),_0x30eaea=this['editor']['commands']['get']('trackChanges');_0x4f6712['buttonView']['set']({'label':_0x9bd397,'icon':Ce});const _0x2177c0=new _0x5f8ee8(_0x57355a);for(const _0x467890 of _0x1c34bf){if('separator'==_0x467890['type']){_0x2177c0['items']['add'](new _0x116ec6(_0x57355a));continue;}const _0x57568f=new _0x48eab6(_0x57355a,_0x4f6712),_0xb50f0a=new _0x181882(_0x57355a),_0x4743fa=_0x467890['model'];_0xb50f0a['bind'](...Object['keys'](_0x4743fa))['to'](_0x4743fa),_0xb50f0a['delegate']('execute')['to'](_0x4f6712),_0xb50f0a['on']('execute',()=>{this['editor']['execute'](_0x4743fa['commandName']),this['editor']['editing']['view']['focus']();}),_0x57568f['children']['add'](_0xb50f0a),_0x2177c0['items']['add'](_0x57568f);}return _0x4f6712['bind']('isEnabled')['to'](_0x30eaea,'isEnabled'),_0x4f6712['panelView']['children']['add'](_0x2177c0),_0x4f6712;}['_initializeController'](_0x5ce245){const _0x26806f=this['editor'],_0x52aa5f=_0x26806f['config'],_0x3334fd=_0x26806f['plugins']['get']('Annotations'),_0xd8635d=_0x26806f['plugins']['get']('CommentsRepository'),_0x539011=_0x26806f['plugins']['get']('EditorAnnotations'),_0x47e0b3=_0x26806f['plugins']['get'](_0x5b4b64)['me'],_0xdcbd76=_0x52aa5f['get']('trackChanges')['SuggestionThreadView'],_0x11eeb0=_0x52aa5f['get']('trackChanges')['SuggestionView'],{CommentsListView:_0x2fe798,CommentThreadInputView:_0x111e6e}=_0x26806f['plugins']['get']('CommentsUI');let _0x2502f1,_0x17f24c,_0x671cc1;this['_annotationViews']['has'](_0x5ce245['id'])?(_0x17f24c=this['_annotationViews']['get'](_0x5ce245['id']),_0x2502f1=_0x17f24c['mainView']):(_0x2502f1=new _0xdcbd76(_0x26806f['locale'],_0x5ce245,_0x47e0b3,{'disableComments':this['_disableComments'],'editorConfig':{..._0x52aa5f['get']('comments.editorConfig'),'licenseKey':_0x52aa5f['get']('licenseKey')},'maxCommentsWhenCollapsed':_0x52aa5f['get']('comments.maxCommentsWhenCollapsed'),'maxThreadTotalWeight':_0x52aa5f['get']('comments.maxThreadTotalWeight'),'maxCommentCharsWhenCollapsed':_0x52aa5f['get']('comments.maxCommentCharsWhenCollapsed'),'formatDateTime':_0x49205a(_0x52aa5f['get']('locale')),'CommentView':_0x52aa5f['get']('comments')['CommentView'],'CommentsListView':_0x2fe798,'CommentThreadInputView':_0x111e6e,'SuggestionView':_0x11eeb0}),_0x2502f1['suggestionView']['acceptButton']['on']('execute',()=>{_0x26806f['editing']['view']['focus']();}),_0x2502f1['suggestionView']['discardButton']['on']('execute',()=>{_0x26806f['editing']['view']['focus']();}),_0x17f24c=_0x3334fd['createAnnotationView'](this['editor']['locale'],_0x2502f1),_0x17f24c['bind']('isDirty')['to'](_0x2502f1,'isDirty'),_0x17f24c['bind']('length')['to'](_0x2502f1),_0x17f24c['bind']('type')['to'](_0x2502f1,'type',_0x296de4=>'suggestion-'+_0x296de4),_0x2502f1['on']('escape',()=>{_0x671cc1['fire']('escape');}),this['_annotationViews']['set'](_0x5ce245['id'],_0x17f24c));const _0x58b0e9=_0xd8635d['createCommentThreadController'](_0x5ce245['commentThread'],_0x2502f1),_0x3bede9=new ge(_0x26806f,_0x5ce245,_0x2502f1,_0x58b0e9),_0x40dab8=_0x5ce245['getAllAdjacentSuggestions']()['filter'](_0x5e110b=>_0x5e110b['isInContent']);_0x2502f1['descriptionParts']=_0x26806f['plugins']['get']('TrackChangesEditing')['descriptionFactory']['getDescriptions'](_0x40dab8),this['_suggestionToController']['set'](_0x5ce245,_0x3bede9),this['_viewToController']['set'](_0x2502f1,_0x3bede9),_0x671cc1=_0x3334fd['createAnnotation']({'view':_0x17f24c,'target':()=>{const _0x2f53d8=[],_0x41e922=_0x5ce245['getAllAdjacentSuggestions']()['filter'](_0xe6d1d0=>_0xe6d1d0['isInContent']);for(const _0x2ee1d3 of _0x41e922)_0x2f53d8['push'](..._0x2ee1d3['getMarkers']());return _0x2b5b63(_0x26806f['editing'],_0x2f53d8);},'type':()=>'suggestion-'+_0x3bede9['view']['type']}),_0xd8635d['_bindAnnotationToEditors'](_0x2502f1,_0x671cc1),_0x3334fd['add'](_0x671cc1),_0x539011['registerAnnotation'](_0x671cc1);}['_destroyController'](_0x4e3acc){const _0x5e90c8=this['editor']['plugins']['get']('CommentsRepository'),_0x1a8fd4=this['editor']['plugins']['get']('Annotations'),_0x2183d2=this['_suggestionToController']['get'](_0x4e3acc),_0x4e8fc3=_0x2183d2['view'],_0x175e24=_0x1a8fd4['getByInnerView'](_0x4e8fc3);_0x5e90c8['_unbindEditors'](_0x4e8fc3),_0x175e24&&_0x1a8fd4['remove'](_0x175e24),this['_suggestionToController']['delete'](_0x4e3acc),this['_viewToController']['delete'](_0x4e8fc3),_0x2183d2['destroy']();}['_updateController'](_0x34d87b){if(!_0x34d87b['isInContent']||!this['_suggestionToController']['has'](_0x34d87b))return;const _0x554336=this['editor']['plugins']['get']('TrackChangesEditing'),_0x5c7af2=this['_suggestionToController']['get'](_0x34d87b),_0x5f31b6=_0x34d87b['getAllAdjacentSuggestions']();_0x5c7af2['view']['descriptionParts']=_0x554336['descriptionFactory']['getDescriptions'](_0x5f31b6);}['destroy'](){for(const _0x4b8160 of this['_suggestionToController']['keys']())this['_destroyController'](_0x4b8160);for(const _0x4efdc6 of this['_annotationViews']['values']())_0x4efdc6['mainView']['destroy']();super['destroy'](),this['_licenseKeyCheckInterval']&&clearInterval(this['_licenseKeyCheckInterval']);}}function pe(_0x4d055c){return'model'in _0x4d055c;}class k extends _0x776735{static get['requires'](){return[p,d,'Comments'];}static get['pluginName'](){return'TrackChanges';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}set['adapter'](_0x10be36){this['editor']['plugins']['get'](p)['adapter']=_0x10be36;}get['adapter'](){return this['editor']['plugins']['get'](p)['adapter'];}['addSuggestion'](_0x5804e9){return this['editor']['plugins']['get'](p)['addSuggestionData'](_0x5804e9);}['getSuggestions']({skipNotAttached:_0x8cfbe1=!0x1,toJSON:_0x495738=!0x1}={}){return this['editor']['plugins']['get'](p)['getSuggestions']({'skipNotAttached':_0x8cfbe1,'toJSON':_0x495738});}['getSuggestion'](_0x56afc6){return this['editor']['plugins']['get'](p)['getSuggestion'](_0x56afc6);}}const w=['Pagination'];class T extends _0x776735{static get['requires'](){return[p];}static get['pluginName'](){return'TrackChangesData';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}['init'](){const _0x202995=this['editor'];if(_0x202995['config']['define']('trackChangesData.editorCreator',_0x1d7b0e=>{const _0x5f5205=_0x202995['model']['document']['getRootNames']()['reduce']((_0x515dd6,_0x431074)=>(_0x515dd6[_0x431074]='',_0x515dd6),{});return _0x202995['constructor']['create'](_0x5f5205,_0x1d7b0e);}),'function'!=typeof _0x202995['config']['get']('trackChangesData')['editorCreator'])throw new _0xd6c8f5('track-changes-data-invalid-editor-creator');}['getDataWithAcceptedSuggestions'](_0x53b863){return N(this['editor'],!0x0,_0x53b863);}['getDataWithDiscardedSuggestions'](_0x3b33b9){return N(this['editor'],!0x1,_0x3b33b9);}}class D extends _0x776735{['result'];static get['pluginName'](){return'TrackChangesDataGetter';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}constructor(_0x734af9){function _0x3561db(_0x588b2f){return _0x588b2f['map'](_0x1a65e9=>String['fromCharCode'](_0x1a65e9))['join']('');}super(_0x734af9),this['result']='end',_0x734af9[_0x3561db([0x65,0x64,0x69,0x74,0x69,0x6e,0x67])][_0x3561db([0x76,0x69,0x65,0x77])][_0x3561db([0x5f,0x6f,0x76,0x65,0x72,0x6c,0x61,0x79,0x4d,0x6f,0x64,0x65,0x48,0x69,0x6e,0x74])]=_0x3561db([0x61,0x75,0x74,0x6f]),_0x734af9[_0x3561db([0x5f,0x73,0x65,0x6e,0x64,0x55,0x73,0x61,0x67,0x65,0x52,0x65,0x71,0x75,0x65,0x73,0x74])]=()=>window[_0x3561db([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65])][_0x3561db([0x72,0x65,0x73,0x6f,0x6c,0x76,0x65])]({[_0x3561db([0x73,0x74,0x61,0x74,0x75,0x73])]:_0x3561db([0x6f,0x6b])});}['init'](){this['editor']['plugins']['get']('CommentsRepository')['_adapter']={'addCommentThread':()=>new Promise(()=>{}),'getCommentThread':()=>new Promise(()=>{}),'updateCommentThread':()=>new Promise(()=>{}),'resolveCommentThread':()=>new Promise(()=>{}),'reopenCommentThread':()=>new Promise(()=>{}),'removeCommentThread':()=>new Promise(()=>{}),'addComment':()=>new Promise(()=>{}),'updateComment':()=>new Promise(()=>{}),'removeComment':()=>new Promise(()=>{})},this['editor']['plugins']['get']('TrackChangesEditing')['_adapter']=null;}}function v(_0x5c2ea8){return void 0x0!==_0x5c2ea8['getRootsAttributes'];}async function N(_0xae211c,_0x5ad8a3,_0x3b60bd){const _0x4e49b0=_0x16e3a2(_0xae211c,w);_0x4e49b0['plugins']['push'](p,D),_0x4e49b0['rootsAttributes']=v(_0xae211c)?_0xae211c['getRootsAttributes']():void 0x0;const _0x29e5f3=document['createDocumentFragment'](),_0x3bc810=_0xae211c['config']['get']('trackChangesData')['editorCreator'],_0x3a20ce=await _0x3bc810(_0x4e49b0,()=>function(_0x47b227){const _0xdbd4f8=document['createElement']('div');return _0x47b227['appendChild'](_0xdbd4f8),_0xdbd4f8;}(_0x29e5f3));!function(_0x36b12e,_0x4fd121){const _0x5610b2=_0x36b12e['model']['document']['getRootNames']()['reduce']((_0x22cd64,_0x6b11ad)=>(_0x22cd64[_0x6b11ad]=_0x36b12e['data']['get']({'rootName':_0x6b11ad}),_0x22cd64),{}),_0x4eabc=_0x36b12e['plugins']['get']('Users')['users']['map'](_0x291366=>({'id':_0x291366['id'],'name':_0x291366['name']})),_0x1b5067=_0x36b12e['plugins']['get']('TrackChangesEditing')['getSuggestions']({'skipNotAttached':!0x0,'toJSON':!0x0}),_0x4b910b=_0x36b12e['plugins']['get']('CommentsRepository')['getCommentThreads']({'skipNotAttached':!0x0,'toJSON':!0x0}),_0x2c29fc=_0x4fd121['plugins']['get']('Users'),_0xa69e5b=_0x4fd121['plugins']['get']('TrackChangesEditing'),_0x2d6bc7=_0x4fd121['plugins']['get']('CommentsRepository');for(const _0x2af1ac of _0x2d6bc7['getCommentThreads']())_0x2af1ac['remove']();for(const _0x5c929c of _0x4eabc)_0x2c29fc['getUser'](_0x5c929c['id'])||_0x2c29fc['addUser'](_0x5c929c);_0x2c29fc['me']||_0x2c29fc['useAnonymousUser']();for(const _0x12ed0c of _0x4b910b)_0x2d6bc7['addCommentThread'](_0x12ed0c);for(const _0x3f2703 of _0x1b5067)_0xa69e5b['addSuggestionData'](_0x3f2703);_0x4fd121['data']['set'](_0x5610b2);}(_0xae211c,_0x3a20ce),_0x3a20ce['execute'](_0x5ad8a3?'acceptAllSuggestions':'discardAllSuggestions');const _0x5acb22=v(_0x3a20ce)?_0x3a20ce['getFullData'](_0x3b60bd):_0x3a20ce['data']['get'](_0x3b60bd);return await _0x3a20ce['destroy'](),_0x5acb22;}export{as as BaseSuggestionThreadView,u as Suggestion,de as SuggestionThreadView,ue as SuggestionView,k as TrackChanges,T as TrackChangesData,p as TrackChangesEditing};